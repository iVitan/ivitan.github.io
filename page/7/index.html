<!DOCTYPE html>
<html>
<head>
    
<!-- Google Analytics -->
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-144334903-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>
<!-- End Google Analytics -->


    
    

    



    <meta charset="utf-8">
    
    
    
    <link rel="canonical" href="https://vitan.me/page/7/">
    
    
    <title>Vitan&#39;s Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Coder,Linux,Web,Blog...">
    <meta name="description" content="Vitan&#39;s Personal Website.">
<meta property="og:type" content="website">
<meta property="og:title" content="Vitan&#39;s Blog">
<meta property="og:url" content="https://vitan.me/page/7/index.html">
<meta property="og:site_name" content="Vitan&#39;s Blog">
<meta property="og:description" content="Vitan&#39;s Personal Website.">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Vitan">
<meta property="article:tag" content="Coder">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Web">
<meta property="article:tag" content="Blog...">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="Vitan&#39;s Blog" href="/xml/atom.xml">
    
    <link rel="shortcut icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/style.css?v=1.7.2">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu"  >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/ivitan.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">Vitan</h5>
          <a href="mailto:admin@vitan.me" title="admin@vitan.me" class="mail">admin@vitan.me</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-info-circle"></i>
                关于
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/ivitan" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Vitan&#39;s Blog</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        
            <a href="https://github.com/ivitan" class="header-icon waves-effect waves-circle waves-light" target="_blank" title="Github">
                <i class="icon icon-lg icon-github"></i>
            </a>
        
    </div>
</header>
<header class="content-header index-header">

    <div class="container fade-scale">
        <h1 class="title">Vitan&#39;s Blog</h1>
        <h5 class="subtitle">
            
            ⁣⁣⁣求知若饥，虚心若愚。
            
        </h5>
    </div>

    


</header>

<div class="container body-wrap">

    <ul class="post-list">
    
        <li class="post-list-item fade">
            <article id="post-HTMLTag"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-17 08:30:58" datetime="2018-11-17T00:30:58.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-17</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Web/">Web</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/HTMLTag.html">HTML 常用标签</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>HTML 标签
&lt;!--more--&gt;</p>
<h1>什么是HTML</h1>
<p>Hyper Text Markup Language，超级文本标记语言</p>
<ul>
<li>普通文本a:无特殊意义,超级文本&lt;a&gt;:超链接</li>
<li>超文本：文本具备特殊的功能</li>
<li>标记：超文本的组成形式&lt;a&gt;</li>
<li>语言：拥有自己的语法结构</li>
</ul>
<h1>HTML基础语法</h1>
<h2>标记语法</h2>
<p>标记以封闭类型划分：</p>
<ol>
<li>封闭类型标记.也称双标记，必须成对出现
&lt;标记&gt;内容&lt;/标记&gt;</li>
<li>非封闭类型的标记,也叫做空标记/单标记
&lt;标记&gt; 或 &lt;标记/&gt;</li>
</ol>
<p>例如：
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span>  <span class="attr">href</span>=<span class="string">“www.baidu.com”</span> <span class="attr">id</span>=<span class="string">“baidu-link”</span>&gt;</span>标签内容<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>a 为标签名，也叫元素；</li>
<li>href，id为属性；</li>
<li>双引号中的值为属性值</li>
</ul>
<h2>元素</h2>
<p>指尖括号及尖括号间所包围的内容部分
元素可以包含文本内容和其他元素，也可以是空的
a. 包含文本内容：
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>这是一段文本<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure>
b. 元素嵌套：形成更为复杂的语法
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>注意:（1）嵌套顺序；（2）代码缩进（保证代码可读性）</li>
</ul>
<p>c.空标记&lt;b&gt;&lt;/b&gt;</p>
<h2>属性和值</h2>
<p>属性是用来修饰元素的 &lt;标记 属性=&quot;值&quot; 属性=&quot;值&quot;&gt;
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">align</span>=<span class="string">"center"</span> <span class="attr">id</span>=<span class="string">"p1"</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>常用的标准属性
<ul>
<li>id： 定义元素在页面中的唯一标识</li>
<li>title：鼠标移入到元素上时提示的文本</li>
<li>class：样式相关，定义元素引用的类选择器</li>
<li>style：样式相关，定义元素的行内样式</li>
</ul>
</li>
</ul>
<h2>注释</h2>
<p>在源码中编写，但不会被浏览器所解释的内容，成为注释.可以将对代码的解释说明放在注释中
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  注释内容  --&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>文档结构</h2>
<ul>
<li>文档类型声明
<ul>
<li>指定HTML的版本和风格<code>&lt;!DOCTYPE html&gt;</code></li>
</ul>
</li>
<li>HTML页面
表示HTML页面的开始与结束</li>
</ul>
<p>语法
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>位于&lt;!doctype html&gt;之下</li>
</ul>
<h1>HTML页面</h1>
<ul>
<li>包含页面头部和页面主体两部分</li>
</ul>
<h2>页面头部：定义页面全局信息</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>
<p>紧跟在html之后，是html中的首个子元素</p>
</li>
<li>
<p>头部所包含的内容（子元素）</p>
<ul>
<li>网页标题：<code>&lt;title&gt;标题内容&lt;/title&gt;</code></li>
<li>定义网页的编码格式,关键字，描述
<ul>
<li>网页的编码格式：<code>&lt;meta charset=&quot;utf-8&quot;&gt;</code></li>
<li>关键字：<code>&lt;meta name=&quot;keywords&quot; content=&quot;关键字&quot;&gt;</code></li>
<li>描述：<code>&lt;meta name=&quot;description&quot; content=&quot;描述内容&quot;&gt;</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>定义或引用javascript：<code>&lt;script&gt;&lt;/script&gt;</code></p>
</li>
<li>
<p><code>&lt;style&gt;&lt;/style&gt;</code>定义内部样式
-<code>&lt;link&gt;</code>引入外部样式</p>
</li>
</ul>
<h2>页面主体：网页显示的主体内容</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>属性
<ul>
<li>text：表示文本颜色S</li>
<li>bgcolor：表示网页的背景颜色</li>
</ul>
</li>
</ul>
<h2>简单完整写法如下</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!doctype html&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>页面名称<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">”stylesheet“</span> <span class="attr">type</span>=<span class="string">"text/css"</span> <span class="attr">href</span>=<span class="string">"文件路径"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="undefined">样式</span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined">js脚本</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1>常用标签及属性</h1>
<h2>分区元素</h2>
<h3>块分区元素</h3>
<ul>
<li>div ，标签用于组合其他HTML元素，本身无实在意义。</li>
</ul>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"wrap"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"collapsed"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"expanded"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        /div&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3>行内分区元素</h3>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>特点 多个元素在一行内显示</li>
<li>作用 设置同一行文字内的不同格式</li>
</ul>
<h1>标题</h1>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>H1<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span>&gt;</span>H2<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>H3<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>H4<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>改变字号（一级最大，六级最小, 加粗显示,上下有垂直的空白距离,独立成行</li>
</ul>
<h1>链接</h1>
<h2>超链接</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">" https://vitan.me"</span>&gt;</span>Vitan<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>属性
<ul>
<li>href：链接地址</li>
<li>target：目标，打开新网页的形式</li>
</ul>
</li>
<li>取值：
<ul>
<li>_blank：在新标签页中打开</li>
<li>_self：在自身页面中打开（默认值）</li>
<li>title：鼠标放到链接上的提示</li>
</ul>
</li>
</ul>
<h2>Anchor(锚点)</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"123.html#001"</span>&gt;</span>跳到001<span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">...文字省略 </span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">name</span>=<span class="string">"001"</span> <span class="attr">id</span>=<span class="string">"001"</span> &gt;</span> <span class="tag">&lt;/<span class="name">a</span>&gt;</span> </span><br><span class="line">...文字省略</span><br></pre></td></tr></table></figure></p>
<h2>电话邮件</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 点击后直接拨打 10086 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"tel:10086"</span>&gt;</span>10086<span class="tag">&lt;/<span class="name">a</span>&gt;</span>    </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 点击后直接给qq6@qq.com发邮件，主题为：TestObject        --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"mailto:qq@qq.com?subject=TestObject"</span>&gt;</span>qq@qq.com<span class="tag">&lt;/<span class="name">a</span>&gt;</span>     </span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- 点击后直接给10086发信息，消息内容默认为message_body --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"sms:10086?body=message_body"</span>&gt;</span>给 10086 发短信<span class="tag">&lt;/<span class="name">a</span>&gt;</span>   </span><br><span class="line">   </span><br><span class="line"><span class="comment">&lt;!-- 点击后直接发送自己的位置 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"geopoint:116.281469,39.866035"</span>&gt;</span>我的位置<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>协议限定符</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span> = <span class="string">"javascript:while(1)&#123;alert('嘻嘻嘻')&#125;"</span>&gt;</span>点我呀<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1>图片</h1>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"url"</span> <span class="attr">alt</span>=<span class="string">"some_text"</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>url 可为网络，绝对路径，相对路径链接</li>
<li>width：图像宽度</li>
<li>height：图像高度</li>
</ul>
<h2>alt 属性</h2>
<ul>
<li>图片占位符，浏览器无法载入图像时，替换文本属性告诉读者她们失去的信息。
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"boat.gif"</span> <span class="attr">alt</span>=<span class="string">"Big Boat"</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>title 属性</h2>
<ul>
<li>图片提示符
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"boat.gif"</span> <span class="attr">title</span>=<span class="string">"Big Boat"</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h1>列表</h1>
<h2>ol(有序列表)</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">type</span> = <span class="string">"1"</span> <span class="attr">reversed</span> = <span class="string">"reversed"</span> <span class="attr">start</span> = <span class="string">“2”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Apple<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Banana<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>tpye
<ul>
<li>1 阿拉伯数字</li>
<li>a 小写英文字母</li>
<li>A 大写英文字母</li>
<li>i 小写罗马数字</li>
<li>I 大写罗马数字</li>
</ul>
</li>
<li>reversd 倒叙</li>
<li>start 从第几个开始</li>
</ul>
<h2>ul(无序列表)</h2>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul type &#x3D; &quot;disc&quot;&gt;</span><br><span class="line">        &lt;li&gt;Apple&lt;&#x2F;li&gt;</span><br><span class="line">    &lt;li&gt;Banana&lt;&#x2F;li&gt;</span><br><span class="line">&lt;&#x2F;ul&gt;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>type
<ul>
<li>disc 实心圆</li>
<li>square 方形</li>
<li>circle 圆</li>
</ul>
</li>
</ul>
<h2>自定义列表</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dl</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Coffee<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>- black hot drink<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dt</span>&gt;</span>Milk<span class="tag">&lt;/<span class="name">dt</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dd</span>&gt;</span>- white cold drink<span class="tag">&lt;/<span class="name">dd</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dl</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1>表格</h1>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>border 不定义边框属性，表格将不显示边框</li>
<li>width ：设置表格的宽度</li>
<li>height：设置表格的高度</li>
<li>align：设置表格的对齐方式，取值: left/center/right</li>
<li>border：设置表格边框宽度</li>
<li>cellpadding：内边距（单元格边框与内容之间的距离）</li>
<li>cellspacing：外边距（单元格之间的距离）</li>
<li>bgcolor：设置表格的背景颜色</li>
</ul>
<h3>包含的子元素：</h3>
<ul>
<li>
<p><code>&lt;tr&gt;&lt;/tr&gt;</code>（创建表行）</p>
<ul>
<li>属性
<ul>
<li>align：该行内容水平对齐方式，取值: left/center/right</li>
<li>valign：该行内容的垂直对齐方式，取值: top/middle/bottom</li>
<li>bgcolor：设置表格的背景颜色</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>&lt;td&gt;&lt;/td&gt;</code> （创建单元格）</p>
<ul>
<li>属性
<ul>
<li>align：内容水平对齐方式</li>
<li>valign：内容垂直对齐方式</li>
<li>width ：宽度</li>
<li>height ：高度</li>
</ul>
</li>
</ul>
</li>
<li>
<p><code>&lt;caption&gt;&lt;/caption&gt;</code> （表格标题）</p>
</li>
<li>
<p>&lt;th&gt;&lt;/th&gt; （列标题）</p>
<ul>
<li>行标题或列标题，字体有加粗的效果，放在tr中</li>
</ul>
</li>
<li>
<p><code>&lt;thead&gt;&lt;/thead&gt;</code>（表头）</p>
</li>
<li>
<p><code>&lt;tbody&gt;&lt;/tbody&gt;</code> 表主体）</p>
</li>
<li>
<p><code>&lt;tfoot&gt;&lt;/tfoot&gt;</code> （表尾）</p>
</li>
</ul>
<h2>表格表头</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span> <span class="attr">border</span>=<span class="string">"1"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Header 1<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">th</span>&gt;</span>Header 2<span class="tag">&lt;/<span class="name">th</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 1, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">td</span>&gt;</span>row 2, cell 2<span class="tag">&lt;/<span class="name">td</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1>表单</h1>
<ul>
<li>表单元素是允许用户在表单中输入内容,比如：<code>文本域(textarea)</code>、<code>下拉列表</code>、<code>单选框(radio-buttons)</code>、<code>复选框(checkboxes)</code>等等。表单使用表单标签 &lt;form&gt; 来设置:
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">.</span><br><span class="line">input 元素</span><br><span class="line">.</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>常用的表单控件</h2>
<table>
<thead>
<tr>
<th style="text-align:left">控件名</th>
<th style="text-align:left">code</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">文本框</td>
<td style="text-align:left"><code>&lt;input type=&quot;text&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">密码框</td>
<td style="text-align:left"><code>&lt;input type=&quot;password&quot;&gt;</code>,专属属性:maxlength：限制输入的字符数，取值：数字，readonly：设置文本控件只读</td>
</tr>
<tr>
<td style="text-align:left">单选按钮</td>
<td style="text-align:left"><code>&lt;input type=&quot;radio&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">复选框</td>
<td style="text-align:left"><code>&lt;input type=&quot;checkbox&quot;&gt;</code>,专属属性:checked，设置默认被选中</td>
</tr>
<tr>
<td style="text-align:left">提交按钮</td>
<td style="text-align:left"><code>&lt;input type=&quot;submit&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">重置按钮</td>
<td style="text-align:left"><code>&lt;input type=&quot;reset&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">普通按钮</td>
<td style="text-align:left"><code>&lt;input type=&quot;button&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">图片按钮</td>
<td style="text-align:left"><code>&lt;input type=&quot;image&quot; src=&quot;&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">隐藏域</td>
<td style="text-align:left"><code>&lt;input type=&quot;hidden&quot;&gt;</code></td>
</tr>
<tr>
<td style="text-align:left">文件选择框</td>
<td style="text-align:left"><code>&lt;input type=&quot;file&quot;&gt;</code></td>
</tr>
</tbody>
</table>
<h2>文本域 Text Fields</h2>
<ul>
<li><code>&lt;input type=&quot;text&quot;&gt;</code>标签来设定，当用户要在表单中键入字母、数字等内容时，就会用到文本域。
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    First name: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"firstname"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!-- 密码字段通过标签&lt;input type="password"&gt; 来定义--&gt;</span></span><br><span class="line">    UserName: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    Password: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"passord"</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>单选按钮 Radio Buttons</h2>
<ul>
<li><code>&lt;input type=&quot;radio&quot;&gt;</code> 定义
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"male"</span>&gt;</span>Male<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">name</span>=<span class="string">"sex"</span> <span class="attr">value</span>=<span class="string">"female"</span>&gt;</span>Female</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>复选框 Checkboxes</h2>
<ul>
<li><code>&lt;input type=&quot;checkbox&quot;&gt;</code> 定义
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"fruit"</span> <span class="attr">value</span>=<span class="string">"applee"</span>&gt;</span>Apple<span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"checkbox"</span> <span class="attr">name</span>=<span class="string">"fruit"</span> <span class="attr">value</span>=<span class="string">"banana"</span>&gt;</span>Banana</span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>提交按钮 Submit Button</h2>
<ul>
<li><code>&lt;input type=&quot;submit&quot;&gt;</code>定义
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">name</span>=<span class="string">"input"</span> <span class="attr">action</span>=<span class="string">"html_form_action.php"</span> <span class="attr">method</span>=<span class="string">"get"</span>&gt;</span></span><br><span class="line">Username: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"Submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p>实例
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span> <span class="attr">method</span> = <span class="string">"get"</span> <span class="attr">action</span> = <span class="string">""</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        UserName:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"username"</span> <span class="attr">style</span>=<span class="string">"color:#999"</span> <span class="attr">value</span>=<span class="string">"请输入用户名"</span> <span class="attr">onfocus</span>=<span class="string">"if(this.value == '请输入用户名')&#123;this.value='';this.style.color='#424242'&#125;"</span> <span class="attr">onblur</span>=<span class="string">"if(this.value=='')&#123;this.value='请输入用户名';this.style.color='#999'&#125;"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        Password:<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span> = <span class="string">"password"</span> <span class="attr">name</span> = <span class="string">"password"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span> = <span class="string">"submit"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br></pre></td></tr></table></figure>
&lt;form method = &quot;get&quot; action = &quot;&quot;&gt;
&lt;p&gt;
UserName:&lt;input type=&quot;text&quot; name=&quot;username&quot; style=&quot;color:#999&quot; value=&quot;请输入用户名&quot; onfocus=&quot;if(this.value == '请输入用户名'){this.value='';this.style.color='#424242'}&quot; onblur=&quot;if(this.value==''){this.value='请输入用户名';this.style.color='#999'}&quot;&gt;
&lt;/p&gt;
&lt;p&gt;
Password:&lt;input type = &quot;password&quot; name = &quot;password&quot;&gt;
&lt;/p&gt;
&lt;input type = &quot;submit&quot;&gt;
&lt;/form&gt;</p>
<p>#段落</p>
<h2>p</h2>
<ul>
<li>默认文字大小,独立成行,上下垂直空白
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>段1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>段2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<h2>span</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>br 换行</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>hr 分割线</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">hr</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>size：尺寸，取值单位为 px（像素），可以省略</li>
<li>width：宽度，取值单位为px（像素）可以省略或百分比</li>
<li>color：颜色，取值自然颜色值</li>
<li>align：水平对齐方式，取值：left/center/right</li>
</ul>
<h1>文本字体</h1>
<h2>加粗</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">strong</span>&gt;</span>加粗<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">b</span>&gt;</span>加粗<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>##斜体
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">em</span>&gt;</span>斜体<span class="tag">&lt;/<span class="name">em</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">i</span>&gt;</span>斜体<span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>删除线</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">del</span>&gt;</span>￥30<span class="tag">&lt;<span class="name">del</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">s</span>&gt;</span>$30<span class="tag">&lt;/<span class="name">s</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>下划线</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">u</span>&gt;</span><span class="tag">&lt;/<span class="name">u</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>上下标</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sup</span>&gt;</span>上标<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">sub</span>&gt;</span>下标<span class="tag">&lt;/<span class="name">sub</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h2>地址</h2>
<p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">address</span>&gt;</span>地址<span class="tag">&lt;/<span class="name">address</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h1>编码与解码</h1>
<table>
<thead>
<tr>
<th style="text-align:left">显示结果</th>
<th style="text-align:left">描述</th>
<th style="text-align:left">实体名称</th>
<th style="text-align:left">实体编号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left"></td>
<td style="text-align:left">空格</td>
<td style="text-align:left"><code>&amp;nbsp;</code></td>
<td style="text-align:left"><code>&amp;#160;</code></td>
</tr>
<tr>
<td style="text-align:left">&lt;</td>
<td style="text-align:left">小于号</td>
<td style="text-align:left"><code>&amp;lt;</code></td>
<td style="text-align:left"><code>&amp;#60;</code></td>
</tr>
<tr>
<td style="text-align:left">&gt;</td>
<td style="text-align:left">大于号</td>
<td style="text-align:left"><code>&amp;gt;</code></td>
<td style="text-align:left"><code>&amp;#62;</code></td>
</tr>
<tr>
<td style="text-align:left">&amp;</td>
<td style="text-align:left">和号</td>
<td style="text-align:left"><code>&amp;amp;</code></td>
<td style="text-align:left"><code>&amp;#38;</code></td>
</tr>
<tr>
<td style="text-align:left">&quot;</td>
<td style="text-align:left">引号</td>
<td style="text-align:left"><code>&amp;quot;</code></td>
<td style="text-align:left"><code>&amp;#34;</code></td>
</tr>
<tr>
<td style="text-align:left">'</td>
<td style="text-align:left">撇号</td>
<td style="text-align:left"><code>&amp;apos;</code> (IE不支持)</td>
<td style="text-align:left"><code>&amp;#39;</code></td>
</tr>
<tr>
<td style="text-align:left">￠</td>
<td style="text-align:left">分</td>
<td style="text-align:left"><code>&amp;cent;</code></td>
<td style="text-align:left"><code>&amp;#162;</code></td>
</tr>
<tr>
<td style="text-align:left">£</td>
<td style="text-align:left">镑</td>
<td style="text-align:left"><code>&amp;pound;</code></td>
<td style="text-align:left"><code>&amp;#163;</code></td>
</tr>
<tr>
<td style="text-align:left">¥</td>
<td style="text-align:left">日圆</td>
<td style="text-align:left"><code>&amp;yen;</code></td>
<td style="text-align:left"><code>&amp;#165;</code></td>
</tr>
<tr>
<td style="text-align:left">€</td>
<td style="text-align:left">欧元</td>
<td style="text-align:left"><code>&amp;euro;</code></td>
<td style="text-align:left"><code>&amp;#8364;</code></td>
</tr>
<tr>
<td style="text-align:left">§</td>
<td style="text-align:left">小节</td>
<td style="text-align:left"><code>&amp;sect;</code></td>
<td style="text-align:left"><code>&amp;#167;</code></td>
</tr>
<tr>
<td style="text-align:left">©</td>
<td style="text-align:left">版权</td>
<td style="text-align:left"><code>&amp;copy;</code></td>
<td style="text-align:left"><code>&amp;#169;</code></td>
</tr>
<tr>
<td style="text-align:left">®</td>
<td style="text-align:left">注册商标</td>
<td style="text-align:left"><code>&amp;reg;</code></td>
<td style="text-align:left"><code>&amp;#174;</code></td>
</tr>
<tr>
<td style="text-align:left">™</td>
<td style="text-align:left">商标</td>
<td style="text-align:left"><code>&amp;trade;</code></td>
<td style="text-align:left"><code>&amp;#8482;</code></td>
</tr>
<tr>
<td style="text-align:left">×</td>
<td style="text-align:left">乘号</td>
<td style="text-align:left"><code>&amp;times;</code></td>
<td style="text-align:left"><code>&amp;#215;</code></td>
</tr>
<tr>
<td style="text-align:left">÷</td>
<td style="text-align:left">除号</td>
<td style="text-align:left"><code>&amp;divide;</code></td>
<td style="text-align:left"><code>&amp;#247;</code></td>
</tr>
</tbody>
</table>
<ul>
<li><a href="http://www.w3school.com.cn/tags/html_ref_entities.html" target="_blank" rel="noopener">More</a></li>
</ul>
<hr>
<p><strong>参考</strong></p>
<ul>
<li><a href="https://www.jianshu.com/p/57cecb7cfc4c" target="_blank" rel="noopener">melody瓶子
</a></li>
<li><a href="https://www.w3schools.com/html/" target="_blank" rel="noopener">W3School</a></li>
</ul>

    

        <a href="/posts/HTMLTag.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HTML/" rel="tag">HTML</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-ExcelFunction"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-15 10:37:33" datetime="2018-11-15T02:37:33.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-15</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Diary/">Diary</a></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/ExcelFunction.html">Excel 函数</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Excel 函数
&lt;!---more---&gt;</p>
<h1>数字处理</h1>
<p>取绝对值
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">ABS</span>(数字) </span><br><span class="line"># 如：</span><br><span class="line"><span class="built_in">ABS</span>(-<span class="number">2</span>) =<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<p>向下取整
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">INT</span>(数字) </span><br><span class="line"># 如：</span><br><span class="line"><span class="built_in">INT</span>(<span class="number">5.6</span>)=<span class="number">5</span> ; <span class="built_in">INT</span>(<span class="number">5.2</span>)=<span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<p>四舍五入
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">ROUND</span>(数字,小数位数) </span><br><span class="line"># 如： </span><br><span class="line"><span class="built_in">ROUND</span>(<span class="number">5.6</span>,<span class="number">0</span>)=<span class="number">6</span> ; <span class="built_in">ROUND</span>(<span class="number">5.2</span>,<span class="number">0</span>)=<span class="number">5</span></span><br></pre></td></tr></table></figure></p>
<h1>判断公式</h1>
<ul>
<li>把公式产生的错误值显示为空
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C2=IFERROR(A2/B2,<span class="string">""</span>) </span><br><span class="line"><span class="comment">#  如：</span></span><br><span class="line">IFERROR(2/0,<span class="string">"错误"</span>) = <span class="string">"错误"</span></span><br></pre></td></tr></table></figure>
<ul>
<li>说明：如果是错误值则显示为空，否则正常显示。</li>
</ul>
</li>
</ul>
<ul>
<li>IF多条件判断返回值
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C2=IF(<span class="name">AND</span>(<span class="name">A2&lt;500</span>,B2=<span class="string">"未到期"</span>),<span class="string">"补款"</span>,<span class="string">""</span>)</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：两个条件同时成立用AND,任一个成立用OR函数。</li>
</ul>
</li>
</ul>
<h1>统计公式</h1>
<p>统计两个表格重复的内容
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B2=COUNTIF(<span class="name">Sheet15!A</span><span class="symbol">:A</span>,A2)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>说明：如果返回值大于0说明在另一个表中存在，0则不存在。</li>
</ul>
<p>统计不重复的总人数
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C2=SUMPRODUCT(<span class="number">1</span>/COUNTIF(<span class="name">A2</span><span class="symbol">:A8</span>,A2<span class="symbol">:A8</span>))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>说明:用COUNTIF统计出每人的出现次数，用1除的方式把出现次数变成分母，然后相加。</li>
</ul>
<h1>求和公式</h1>
<p>隔列求和
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">H3</span>=<span class="built_in">SUMIF</span>($A$<span class="symbol">2:</span>$G$<span class="number">2</span>,H$<span class="number">2</span>,<span class="symbol">A3</span>:<span class="symbol">G3</span>) </span><br><span class="line">或</span><br><span class="line">=<span class="built_in">SUMPRODUCT</span>((<span class="built_in">MOD</span>(<span class="built_in">COLUMN</span>(<span class="symbol">B3</span>:<span class="symbol">G3</span>),<span class="number">2</span>)=<span class="number">0</span>)*<span class="symbol">B3</span>:<span class="symbol">G3</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>说明：如果标题行没有规则用第2个公式</li>
</ul>
<p>单条件求和
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">F2=SUMIF(<span class="name">A</span><span class="symbol">:A</span>,E2,C<span class="symbol">:C</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>说明：SUMIF函数的基本用法</li>
</ul>
<p>单条件模糊求和
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">SUMIF</span>(<span class="symbol">A2</span>:<span class="symbol">A4</span>,<span class="string">"*A*"</span>,<span class="symbol">C2</span>:<span class="symbol">C4</span>)</span><br><span class="line">=<span class="built_in">SUMIF</span>(<span class="symbol">A2</span>:<span class="symbol">A4</span>,<span class="string">"*A*"</span>,<span class="symbol">C2</span>:<span class="symbol">C4</span>)</span><br><span class="line">=<span class="built_in">SUMIF</span>(<span class="symbol">A2</span>:<span class="symbol">A4</span>,<span class="string">"*A*"</span>,<span class="symbol">C2</span>:<span class="symbol">C4</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kdqfs8nj209507fwgx.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：如果需要进行模糊求和，就需要掌握通配符的使用，其中星号是表示任意多个字符，如&quot;<em>A</em>&quot;就表示a前和后有任意多个字符，即包含A。</li>
</ul>
<p>多条件模糊求和
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C11=SUMIFS(<span class="name">C2</span><span class="symbol">:C7</span>,A2<span class="symbol">:A7</span>,A11&amp;<span class="string">"*"</span>,B2<span class="symbol">:B7</span>,B11)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kexfwl2j209t065tat.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：在sumifs中可以使用通配符*</li>
</ul>
<p>多表相同位置求和
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">b2=SUM(<span class="name">Sheet1</span><span class="symbol">:Sheet19!B2</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kgfwoxlj208y04n75k.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：在表中间删除或添加表后，公式结果会自动更新。</li>
</ul>
<p>按日期和产品求和
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">F2</span>=SUMPRODUCT((MONTH(<span class="variable">$A</span><span class="variable">$2</span>:<span class="variable">$A</span><span class="variable">$25</span>)=F<span class="variable">$1</span>)*(<span class="variable">$B</span><span class="variable">$2</span>:<span class="variable">$B</span><span class="variable">$25</span>=<span class="variable">$E2</span>)*<span class="variable">$C</span><span class="variable">$2</span>:<span class="variable">$C</span><span class="variable">$25</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8khi926oj20a005xgob.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：SUMPRODUCT可以完成多条件求和</li>
</ul>
<h1>查找与引用公式</h1>
<p>单条件查找公式
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">C11</span>=VLOOKUP(B11,B3:F7,<span class="number">4</span>,<span class="literal">FALSE</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kligjavj20a606gdiu.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：查找是VLOOKUP最擅长的，基本用法</li>
</ul>
<p>双向查找公式
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">INDEX</span>(<span class="symbol">C3</span>:<span class="symbol">H7</span>,<span class="built_in">MATCH</span>(<span class="symbol">B10</span>,<span class="symbol">B3</span>:<span class="symbol">B7</span>,<span class="number">0</span>),<span class="built_in">MATCH</span>(<span class="symbol">C10</span>,<span class="symbol">C2</span>:<span class="symbol">H2</span>,<span class="number">0</span>))</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kmqj7r8j20d3074n10.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：利用MATCH函数查找位置，用INDEX函数取值</li>
</ul>
<p>查找最后一条符合条件的记录。
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C13 = LOOKUP(<span class="number">1</span>,<span class="number">0</span>/(<span class="name">C5</span><span class="symbol">:C10=B13</span>),D5<span class="symbol">:D10</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kngxy5tj209v07tjt9.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：0/(条件)可以把不符合条件的变成错误值，而lookup可以忽略错误值</li>
</ul>
<h2>多条件查找</h2>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kppnnmaj20d808c0vh.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明:公式原理同上一个公式</li>
</ul>
<p>指定区域最后一个非空值查找
<figure class="highlight ini"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">B14</span>=LOOKUP(<span class="number">1</span>,<span class="number">0</span>/(B2:B13&lt;&gt;<span class="string">""</span>),<span class="variable">$A2</span>:<span class="variable">$A13</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kquebpdj20ax0a8jun.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p>按数字区域间取对应的值
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">D9=VLOOKUP(C9,B<span class="variable">$4</span><span class="symbol">:C</span><span class="variable">$6</span>,<span class="number">2</span>)</span><br><span class="line"><span class="keyword">or</span></span><br><span class="line">D9=LOOKUP(C9,B<span class="variable">$4</span><span class="symbol">:B6</span>,C<span class="variable">$4</span><span class="symbol">:C</span><span class="variable">$5</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8l4ove6sj20as0bgwje.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>公式说明：VLOOKUP和LOOKUP函数都可以按区间取值，一定要注意，销售量列的数字一定要升序排列。</li>
</ul>
<h1>字符串处理公式</h1>
<p>多单元格字符串合并
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C2=PHONETIC(<span class="name">A2</span><span class="symbol">:A7</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kvrf9x1j208x05kjsa.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：Phonetic函数只能对字符型内容合并，数字不可以。</li>
</ul>
<p>截取除后3位之外的部分
<figure class="highlight excel"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=<span class="built_in">LEFT</span>(<span class="symbol">D1</span>,<span class="built_in">LEN</span>(<span class="symbol">D1</span>)-<span class="number">3</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8kwlf6hnj20700493yv.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：LEN计算出总长度,LEFT从左边截总长度-3个</li>
</ul>
<p>截取-前的部分
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B2=Left(<span class="name">A1</span>,FIND(<span class="string">"-"</span>,A1)<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8l7paax9j208m04cwfu.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：用FIND函数查找位置，用LEFT截取。</li>
</ul>
<p>截取字符串中任一段的公式
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B1=TRIM(<span class="name">MID</span>(<span class="name">SUBSTITUTE</span>($A1,<span class="string">" "</span>,REPT(<span class="string">" "</span>,<span class="number">20</span>)),<span class="number">20</span>,<span class="number">20</span>))</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8l8kx8szj20br04cwf1.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明:公式是利用强插N个空字符的方式进行截取</li>
</ul>
<p>字符串查找
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B2=IF(<span class="name">COUNT</span>(<span class="name">FIND</span>(<span class="string">"河南"</span>,A2))=0,<span class="string">"否"</span>,<span class="string">"是"</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8l9u3emjj209004wgml.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明: FIND查找成功，返回字符的位置，否则返回错误值，而COUNT可以统计出数字的 个数，这里可以用来判断查找是否成功。</li>
</ul>
<p>字符串查找一对多
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">B2=IF(<span class="name">COUNT</span>(<span class="name">FIND</span>(&#123;<span class="string">"辽宁"</span>,<span class="string">"黑龙江"</span>,<span class="string">"吉林"</span>&#125;,A2))=0,<span class="string">"其他"</span>,<span class="string">"东北"</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8lbzg388j209s059gn7.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：设置FIND第一个参数为常量数组，用COUNT函数统计FIND查找结果</li>
</ul>
<h1>日期计算公式</h1>
<p>两日期相隔的年、月、天数计算</p>
<ul>
<li>A1是开始日期（2011-12-1），B1是结束日期(2013-6-10)。
<ul>
<li>相隔多少天？<code>=datedif(A1,B1,&quot;d&quot;)</code> 结果：557</li>
<li>相隔多少月? <code>=datedif(A1,B1,&quot;m&quot;)</code>结果：18</li>
<li>相隔多少年? <code>=datedif(A1,B1,&quot;Y&quot;)</code> 结果：1</li>
<li>不考虑年相隔多少月？<code>=datedif(A1,B1,&quot;Ym&quot;)</code> 结果：6</li>
<li>不考虑年相隔多少天？<code>=datedif(A1,B1,&quot;YD&quot;)</code>  结果：192</li>
<li>不考虑年月相隔多少天？<code>=datedif(A1,B1,&quot;MD&quot;)</code>结果：9</li>
<li>datedif函数第3个参数说明：
<ul>
<li>&quot;Y&quot; 时间段中的整年数。</li>
<li>&quot;M&quot; 时间段中的整月数。</li>
<li>&quot;D&quot; 时间段中的天数。</li>
<li>&quot;MD&quot; 天数的差。忽略日期中的月和年。</li>
<li>&quot;YM&quot; 月数的差。忽略日期中的日和年。</li>
<li>&quot;YD&quot; 天数的差。忽略日期中的年。</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>扣除周末天数的工作日天数
<figure class="highlight angelscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C2=NETWORKDAYS.INTL(IF(B2&lt;DATE(<span class="number">2015</span>,<span class="number">1</span>,<span class="number">1</span>),DATE(<span class="number">2015</span>,<span class="number">1</span>,<span class="number">1</span>),B2),DATE(<span class="number">2015</span>,<span class="number">1</span>,<span class="number">31</span>),<span class="number">11</span>)</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx8lgn3f80j209z06amyx.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>说明：返回两个日期之间的所有工作日数，使用参数指示哪些天是周末，以及有多少天是周末。周末和任何指定为假期的日期不被视为工作日</li>
</ul>
<hr>
<p><strong>Via</strong></p>
<ul>
<li><a href="https://blog.csdn.net/HaHa_Sir/article/details/78970082" target="_blank" rel="noopener">链接</a></li>
</ul>

    

        <a href="/posts/ExcelFunction.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Excel/" rel="tag">Excel</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PythonSeleniumMa"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-13 15:36:42" datetime="2018-11-13T07:36:42.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-13</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PythonSeleniumMa.html">Selenium 马蜂窝评论</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Selenium 马蜂窝评论内容
&lt;!--more--&gt;
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 18-11-13 上午11:56</span></span><br><span class="line"><span class="comment"># @Author  : Vitan</span></span><br><span class="line"><span class="comment"># @File    : SeleniumMaFengWo.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.common.by <span class="keyword">import</span> By</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support.ui <span class="keyword">import</span> WebDriverWait</span><br><span class="line"><span class="keyword">from</span> selenium.webdriver.support <span class="keyword">import</span> expected_conditions <span class="keyword">as</span> EC</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> NoSuchAttributeException</span><br><span class="line"><span class="keyword">from</span> selenium.common.exceptions <span class="keyword">import</span> TimeoutException</span><br><span class="line"><span class="keyword">from</span> pyquery.pyquery <span class="keyword">import</span> PyQuery <span class="keyword">as</span> pq</span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line">broswer = webdriver.Firefox()</span><br><span class="line">wait = WebDriverWait(broswer,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">client = pymongo.MongoClient(<span class="string">'localhost'</span>)</span><br><span class="line">db = client[<span class="string">'MaFengWoView'</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_first</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        broswer.get(url)</span><br><span class="line">        wait.until(EC.presence_of_element_located((By.CSS_SELECTOR,<span class="string">'.pi.pg-last'</span>)))</span><br><span class="line">        total = int(broswer.find_element_by_css_selector(<span class="string">'.pi.pg-last'</span>).get_attribute(<span class="string">'data-page'</span>))</span><br><span class="line">        print(total)</span><br><span class="line">        place()</span><br><span class="line">        <span class="keyword">return</span> total</span><br><span class="line">    <span class="keyword">except</span> TimeoutException:</span><br><span class="line">        <span class="keyword">return</span> search_first(url)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">search_next</span><span class="params">(page)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        next = broswer.find_element_by_css_selector(<span class="string">'.pi.pg-next'</span>)</span><br><span class="line">        next.click()</span><br><span class="line">        wait.until(EC.text_to_be_present_in_element((By.CSS_SELECTOR,<span class="string">'.pg-current'</span>),str(page)))</span><br><span class="line">        place()</span><br><span class="line">    <span class="keyword">except</span> NoSuchAttributeException:</span><br><span class="line">        search_next(page)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">place</span><span class="params">()</span>:</span></span><br><span class="line">    anchors = broswer.find_elements_by_css_selector(<span class="string">'.scenic-list.clearfix li a'</span>)</span><br><span class="line">    <span class="keyword">for</span> a <span class="keyword">in</span> anchors:</span><br><span class="line">        url = a.get_attribute(<span class="string">'href'</span>)</span><br><span class="line">        print(url)</span><br><span class="line">        total = view_first(url)</span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">2</span>,total+<span class="number">1</span>):</span><br><span class="line">            view_next(page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># html = broswer.page_source</span></span><br><span class="line">    <span class="comment"># doc = pq(html)</span></span><br><span class="line">    <span class="comment"># anchors = doc('.scenic-list.clearfix li a')</span></span><br><span class="line">    <span class="comment"># for a in anchors.items():</span></span><br><span class="line">    <span class="comment">#     url = a.attr('href')</span></span><br><span class="line">    <span class="comment">#     print(url)</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_first</span><span class="params">(url)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        broswer.get(url)</span><br><span class="line">        wait.until(EC.presence_of_element_located((By.CSS_SELECTOR,<span class="string">'.pi.pg-last'</span>)))</span><br><span class="line">        total = int(broswer.find_element_by_css_selector(<span class="string">'.pi.pg-last'</span>).get_attribute(<span class="string">'data-page'</span>))</span><br><span class="line">        get_view()</span><br><span class="line">        <span class="keyword">return</span> total</span><br><span class="line">    <span class="keyword">except</span> TimeoutException:</span><br><span class="line">        <span class="keyword">return</span> view_first(url)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">view_next</span><span class="params">(page)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        next = broswer.find_element_by_css_selector(<span class="string">'.pi.pg-next'</span>)</span><br><span class="line">        next.click()</span><br><span class="line">        wait.until(EC.text_to_be_present_in_element((By.CSS_SELECTOR,<span class="string">'.pg-current'</span>),str(page)))</span><br><span class="line">        get_view()</span><br><span class="line">    <span class="keyword">except</span> NoSuchAttributeException:</span><br><span class="line">        view_next(page)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_view</span><span class="params">()</span>:</span></span><br><span class="line">    html = broswer.page_source</span><br><span class="line">    doc = pq(html)</span><br><span class="line">    lis = doc(<span class="string">'.rev-item.comment-item.clearfix'</span>)</span><br><span class="line">    <span class="keyword">for</span> li <span class="keyword">in</span> lis.items():</span><br><span class="line">        view = &#123;</span><br><span class="line">            <span class="string">'name'</span>:li.find(<span class="string">'.name'</span>).text().strip(),</span><br><span class="line">            <span class="string">'level'</span>:li.find(<span class="string">'.level'</span>).text().strip(),</span><br><span class="line">            <span class="string">'txt'</span>:li.find(<span class="string">'.rev-txt'</span>).text().strip()</span><br><span class="line">        &#125;</span><br><span class="line">        save_to_mongo(view)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">save_to_mongo</span><span class="params">(view)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> db[<span class="string">'MaFengWoView'</span>].insert_one(view):</span><br><span class="line">        print(<span class="string">'Saving to MongoDB'</span>,view)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">()</span>:</span></span><br><span class="line">    url = <span class="string">'http://www.mafengwo.cn/jd/10088/gonglve.html'</span></span><br><span class="line">    total = search_first(url)</span><br><span class="line">    <span class="keyword">for</span> page <span class="keyword">in</span> range(<span class="number">2</span>,total+<span class="number">1</span>):</span><br><span class="line">        search_next(page)</span><br><span class="line">    <span class="comment">#     print('Clicking',page,'页')</span></span><br><span class="line">    <span class="comment"># url = 'http://www.mafengwo.cn/poi/449.html'</span></span><br><span class="line">    <span class="comment"># total = view_first(url)</span></span><br><span class="line">    <span class="comment"># for page in range(2,total+1):</span></span><br><span class="line">    <span class="comment">#     view_next(page)</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">'__main__'</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/PythonSeleniumMa.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PythonSklearnImage"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-12 11:50:19" datetime="2018-11-12T03:50:19.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-12</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PythonSklearnImage.html">K-Means 图片压缩</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>K-means 图片压缩
&lt;!---more---&gt;
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 18-11-12 10:10</span></span><br><span class="line"><span class="comment"># @Author  : Vitan</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_sample_image</span><br><span class="line"><span class="keyword">import</span> matplotlib.image <span class="keyword">as</span> img</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib <span class="keyword">import</span> pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入图片</span></span><br><span class="line">picture = load_sample_image(<span class="string">'china.jpg'</span>) <span class="comment"># 内置</span></span><br><span class="line">pic2 = img.imread(<span class="string">'v.jpg'</span>) <span class="comment"># 外部</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 根据图片的分辨率，可适当降低分辨率。</span></span><br><span class="line">image = picture[::<span class="number">3</span>,::<span class="number">3</span>]<span class="comment"># 横纵每三个点去一个颜色值</span></span><br><span class="line">plt.imshow(image)</span><br><span class="line">img.imsave(<span class="string">'pure.jpg'</span>,image)</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 再用k均值聚类算法，将图片中所有的颜色值做聚类。</span></span><br><span class="line">X = image.reshape(<span class="number">-1</span>,<span class="number">3</span>) <span class="comment">#reshape为一维</span></span><br><span class="line">mod = KMeans(n_clusters = <span class="number">64</span>)</span><br><span class="line">labels = mod.fit_predict(X)  <span class="comment">#每个点的颜色分类，0-63</span></span><br><span class="line">colors = mod.cluster_centers_  <span class="comment">#64个聚类中心，颜色值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 还原颜色，维数，数据类型</span></span><br><span class="line">new_img = colors[labels]</span><br><span class="line">new_img = new_img.reshape(image.shape)</span><br><span class="line">new_img = new_img.astype(np.uint8)</span><br><span class="line">print(new_img)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示压缩图片</span></span><br><span class="line">plt.imshow(new_img)</span><br><span class="line">img.imsave(<span class="string">'E://zip.jpg'</span>,new_img)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/PythonSklearnImage.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PythonMatplotlib"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-08 10:11:00" datetime="2018-11-08T02:11:00.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-08</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PythonMatplotlib.html">Python Matplotlib 各种图</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Matplotlib 各种图
&lt;!--more--&gt;</p>
<h1>垂直条形图</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入绘图模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 构建数据</span></span><br><span class="line">GDP = [<span class="number">12406.8</span>,<span class="number">13908.57</span>,<span class="number">9386.87</span>,<span class="number">9143.64</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文乱码的处理</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] =[<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.bar(range(<span class="number">4</span>), GDP, align = <span class="string">'center'</span>,color=<span class="string">'steelblue'</span>, alpha = <span class="number">0.8</span>)</span><br><span class="line"><span class="comment"># 添加轴标签</span></span><br><span class="line">plt.ylabel(<span class="string">'GDP'</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'四个直辖市GDP大比拼'</span>)</span><br><span class="line"><span class="comment"># 添加刻度标签</span></span><br><span class="line">plt.xticks(range(<span class="number">4</span>),[<span class="string">'北京市'</span>,<span class="string">'上海市'</span>,<span class="string">'天津市'</span>,<span class="string">'重庆市'</span>])</span><br><span class="line"><span class="comment"># 设置Y轴的刻度范围</span></span><br><span class="line">plt.ylim([<span class="number">5000</span>,<span class="number">15000</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为每个条形图添加数值标签</span></span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> enumerate(GDP):</span><br><span class="line">    plt.text(x,y+<span class="number">100</span>,<span class="string">'%s'</span> %round(y,<span class="number">1</span>),ha=<span class="string">'center'</span>)</span><br><span class="line">plt.savefig(<span class="string">'垂直条形图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0j1550lxj20c0080jre.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<ul>
<li>解析
<ol>
<li>由于matplotlib对中文的支持并不是很友好，所以需要提前对绘图进行字体的设置，即通过rcParams来设置字体，这里将字体设置为微软雅黑，同时为了避免坐标轴不能正常的显示负号，也需要进行设置；</li>
<li>bar 函数指定了条形图的x轴、y轴值，设置x轴刻度标签为水平居中，条形图的填充色color为铁蓝色，同时设置透明度alpha为0.8；</li>
<li>添加y轴标签、标题、x轴刻度标签值，为了让条形图显示各柱体之间的差异，将y轴范围设置在5000~15000；</li>
<li>通过循环的方式，添加条形图的数值标签；</li>
</ol>
</li>
</ul>
<h1>水平条形图</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入绘图模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="comment"># 构建数据</span></span><br><span class="line">price = [<span class="number">39.5</span>,<span class="number">39.9</span>,<span class="number">45.4</span>,<span class="number">38.9</span>,<span class="number">33.34</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文乱码的处理</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] =[<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.barh(range(<span class="number">5</span>), price, align = <span class="string">'center'</span>,color=<span class="string">'steelblue'</span>, alpha = <span class="number">0.8</span>)</span><br><span class="line"><span class="comment"># 添加轴标签</span></span><br><span class="line">plt.xlabel(<span class="string">'价格'</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'不同平台书的最低价比较'</span>)</span><br><span class="line"><span class="comment"># 添加刻度标签</span></span><br><span class="line">plt.yticks(range(<span class="number">5</span>),[<span class="string">'亚马逊'</span>,<span class="string">'当当网'</span>,<span class="string">'中国图书网'</span>,<span class="string">'京东'</span>,<span class="string">'天猫'</span>])</span><br><span class="line"><span class="comment"># 设置Y轴的刻度范围</span></span><br><span class="line">plt.xlim([<span class="number">32</span>,<span class="number">47</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为每个条形图添加数值标签</span></span><br><span class="line"><span class="keyword">for</span> x,y <span class="keyword">in</span> enumerate(price):</span><br><span class="line">    plt.text(y+<span class="number">0.1</span>,x,<span class="string">'%s'</span> %y,va=<span class="string">'center'</span>)</span><br><span class="line">plt.savefig(<span class="string">'水平条形图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形    </span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0j4ktleuj20c00800ss.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>水平交错条形图</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入绘图模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="comment"># 构建数据</span></span><br><span class="line">Y2016 = [<span class="number">15600</span>,<span class="number">12700</span>,<span class="number">11300</span>,<span class="number">4270</span>,<span class="number">3620</span>]</span><br><span class="line">Y2017 = [<span class="number">17400</span>,<span class="number">14800</span>,<span class="number">12000</span>,<span class="number">5200</span>,<span class="number">4020</span>]</span><br><span class="line">labels = [<span class="string">'北京'</span>,<span class="string">'上海'</span>,<span class="string">'香港'</span>,<span class="string">'深圳'</span>,<span class="string">'广州'</span>]</span><br><span class="line">bar_width = <span class="number">0.45</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文乱码的处理</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] =[<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.bar(np.arange(<span class="number">5</span>), Y2016, label = <span class="string">'2016'</span>, color = <span class="string">'steelblue'</span>, alpha = <span class="number">0.8</span>, width = bar_width)</span><br><span class="line">plt.bar(np.arange(<span class="number">5</span>)+bar_width, Y2017, label = <span class="string">'2017'</span>, color = <span class="string">'indianred'</span>, alpha = <span class="number">0.8</span>, width = bar_width)</span><br><span class="line"><span class="comment"># 添加轴标签</span></span><br><span class="line">plt.xlabel(<span class="string">'Top5城市'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'家庭数量'</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'亿万财富家庭数Top5城市分布'</span>)</span><br><span class="line"><span class="comment"># 添加刻度标签</span></span><br><span class="line">plt.xticks(np.arange(<span class="number">5</span>)+bar_width,labels)</span><br><span class="line"><span class="comment"># 设置Y轴的刻度范围</span></span><br><span class="line">plt.ylim([<span class="number">2500</span>, <span class="number">19000</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为每个条形图添加数值标签</span></span><br><span class="line"><span class="keyword">for</span> x2016,y2016 <span class="keyword">in</span> enumerate(Y2016):</span><br><span class="line">    plt.text(x2016, y2016+<span class="number">100</span>, <span class="string">'%s'</span> %y2016)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x2017,y2017 <span class="keyword">in</span> enumerate(Y2017):</span><br><span class="line">    plt.text(x2017+bar_width, y2017+<span class="number">100</span>, <span class="string">'%s'</span> %y2017)</span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.savefig(<span class="string">'水平交错条形图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0jcakoz3j20c0080mxb.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>垂直堆叠条形图</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"></span><br><span class="line"><span class="comment"># 导入数据</span></span><br><span class="line">data = pd.read_excel(<span class="string">'C:\\Users\\Administrator\\Desktop\\货运.xls'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.bar(np.arange(<span class="number">8</span>), data.loc[<span class="number">0</span>,:][<span class="number">1</span>:], color = <span class="string">'red'</span>, alpha = <span class="number">0.8</span>, label = <span class="string">'铁路'</span>, align = <span class="string">'center'</span>)</span><br><span class="line">plt.bar(np.arange(<span class="number">8</span>), data.loc[<span class="number">1</span>,:][<span class="number">1</span>:],  bottom = data.loc[<span class="number">0</span>,:][<span class="number">1</span>:], color = <span class="string">'green'</span>, alpha = <span class="number">0.8</span>, label = <span class="string">'公路'</span>, align = <span class="string">'center'</span>)</span><br><span class="line">plt.bar(np.arange(<span class="number">8</span>), data.loc[<span class="number">2</span>,:][<span class="number">1</span>:],  bottom = data.loc[<span class="number">0</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">1</span>,:][<span class="number">1</span>:], color = <span class="string">'m'</span>, alpha = <span class="number">0.8</span>, label = <span class="string">'水运'</span>, align = <span class="string">'center'</span>)</span><br><span class="line">plt.bar(np.arange(<span class="number">8</span>), data.loc[<span class="number">3</span>,:][<span class="number">1</span>:],  bottom = data.loc[<span class="number">0</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">1</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">2</span>,:][<span class="number">1</span>:], color = <span class="string">'black'</span>, alpha = <span class="number">0.8</span>, label = <span class="string">'民航'</span>, align = <span class="string">'center'</span>)</span><br><span class="line"><span class="comment"># 添加轴标签</span></span><br><span class="line">plt.xlabel(<span class="string">'月份'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'货物量(万吨)'</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'2017年各月份物流运输量'</span>)</span><br><span class="line"><span class="comment"># 添加刻度标签</span></span><br><span class="line">plt.xticks(np.arange(<span class="number">8</span>),data.columns[<span class="number">1</span>:])</span><br><span class="line"><span class="comment"># 设置Y轴的刻度范围</span></span><br><span class="line">plt.ylim([<span class="number">0</span>,<span class="number">500000</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为每个条形图添加数值标签</span></span><br><span class="line"><span class="keyword">for</span> x_t,y_t <span class="keyword">in</span> enumerate(data.loc[<span class="number">0</span>,:][<span class="number">1</span>:]):</span><br><span class="line">    plt.text(x_t,y_t/<span class="number">2</span>,<span class="string">'%sW'</span> %(round(y_t/<span class="number">10000</span>,<span class="number">2</span>)),ha=<span class="string">'center'</span>, color = <span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x_g,y_g <span class="keyword">in</span> enumerate(data.loc[<span class="number">0</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">1</span>,:][<span class="number">1</span>:]):</span><br><span class="line">    plt.text(x_g,y_g/<span class="number">2</span>,<span class="string">'%sW'</span> %(round(y_g/<span class="number">10000</span>,<span class="number">2</span>)),ha=<span class="string">'center'</span>, color = <span class="string">'white'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> x_s,y_s <span class="keyword">in</span> enumerate(data.loc[<span class="number">0</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">1</span>,:][<span class="number">1</span>:]+data.loc[<span class="number">2</span>,:][<span class="number">1</span>:]):</span><br><span class="line">    plt.text(x_s,y_s<span class="number">-20000</span>,<span class="string">'%sW'</span> %(round(y_s/<span class="number">10000</span>,<span class="number">2</span>)),ha=<span class="string">'center'</span>, color = <span class="string">'white'</span>)    </span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend(loc=<span class="string">'upper center'</span>, ncol=<span class="number">4</span>)</span><br><span class="line"><span class="comment"># 显示图形    </span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0k3zz5g9j20b907utae.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>matplotlib(饼图)</h1>
<h2>pie 函数参数解读</h2>
<p>饼图的绘制可以使用matplotlib库中的pie函数
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.pie(x, explode=<span class="literal">None</span>, labels=<span class="literal">None</span>, colors=<span class="literal">None</span>,</span><br><span class="line">        autopct=<span class="literal">None</span>, pctdistance=<span class="number">0.6</span>, shadow=<span class="literal">False</span>,</span><br><span class="line">        labeldistance=<span class="number">1.1</span>, startangle=<span class="literal">None</span>,</span><br><span class="line">        radius=<span class="literal">None</span>, counterclock=<span class="literal">True</span>, wedgeprops=<span class="literal">None</span>,</span><br><span class="line">        textprops=<span class="literal">None</span>, center=(<span class="number">0</span>, <span class="number">0</span>), frame=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></p>
<hr>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定绘图的数据</td>
</tr>
<tr>
<td style="text-align:left">explode</td>
<td style="text-align:left">指定饼图某些部分的突出显示，即呈现爆炸式</td>
</tr>
<tr>
<td style="text-align:left">labels</td>
<td style="text-align:left">为饼图添加标签说明，类似于图例说明</td>
</tr>
<tr>
<td style="text-align:left">colors</td>
<td style="text-align:left">指定饼图的填充色</td>
</tr>
<tr>
<td style="text-align:left">autopct</td>
<td style="text-align:left">自动添加百分比显示，可以采用格式化的方法显示</td>
</tr>
<tr>
<td style="text-align:left">pctdistance</td>
<td style="text-align:left">设置百分比标签与圆心的距离</td>
</tr>
<tr>
<td style="text-align:left">shadow</td>
<td style="text-align:left">是否添加饼图的阴影效果</td>
</tr>
<tr>
<td style="text-align:left">labeldistance</td>
<td style="text-align:left">设置各扇形标签（图例）与圆心的距离</td>
</tr>
<tr>
<td style="text-align:left">startangle</td>
<td style="text-align:left">设置饼图的初始摆放角度</td>
</tr>
<tr>
<td style="text-align:left">radius</td>
<td style="text-align:left">设置饼图的半径大小</td>
</tr>
<tr>
<td style="text-align:left">counterclock</td>
<td style="text-align:left">是否让饼图按逆时针顺序呈现</td>
</tr>
<tr>
<td style="text-align:left">wedgeprops</td>
<td style="text-align:left">设置饼图内外边界的属性，如边界线的粗细、颜色等</td>
</tr>
<tr>
<td style="text-align:left">textprops</td>
<td style="text-align:left">设置饼图中文本的属性，如字体大小、颜色等</td>
</tr>
<tr>
<td style="text-align:left">center</td>
<td style="text-align:left">定饼图的中心点位置，默认为原点</td>
</tr>
<tr>
<td style="text-align:left">frame</td>
<td style="text-align:left">是否要显示饼图背后的图框，如果设置为True的话，需要同时控制图框x轴、y轴的范围和饼图的中心位置</td>
</tr>
</tbody>
</table>
<h2>绘制</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置绘图的主题风格（不妨使用R中的ggplot分隔）</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造数据</span></span><br><span class="line">edu = [<span class="number">0.2515</span>,<span class="number">0.3724</span>,<span class="number">0.3336</span>,<span class="number">0.0368</span>,<span class="number">0.0057</span>]</span><br><span class="line">labels = [<span class="string">'中专'</span>,<span class="string">'大专'</span>,<span class="string">'本科'</span>,<span class="string">'硕士'</span>,<span class="string">'其他'</span>]</span><br><span class="line"></span><br><span class="line">explode = [<span class="number">0</span>,<span class="number">0.1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]  <span class="comment"># 用于突出显示大专学历人群</span></span><br><span class="line">colors=[<span class="string">'#9999ff'</span>,<span class="string">'#ff9999'</span>,<span class="string">'#7777aa'</span>,<span class="string">'#2442aa'</span>,<span class="string">'#dd5555'</span>] <span class="comment"># 自定义颜色</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文乱码和坐标轴负号的处理</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将横、纵坐标轴标准化处理，保证饼图是一个正圆，否则为椭圆</span></span><br><span class="line">plt.axes(aspect=<span class="string">'equal'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 控制x轴和y轴的范围</span></span><br><span class="line">plt.xlim(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制饼图</span></span><br><span class="line">plt.pie(x = edu, <span class="comment"># 绘图数据</span></span><br><span class="line">        explode=explode, <span class="comment"># 突出显示大专人群</span></span><br><span class="line">        labels=labels, <span class="comment"># 添加教育水平标签</span></span><br><span class="line">        colors=colors, <span class="comment"># 设置饼图的自定义填充色</span></span><br><span class="line">        autopct=<span class="string">'%.1f%%'</span>, <span class="comment"># 设置百分比的格式，这里保留一位小数</span></span><br><span class="line">        pctdistance=<span class="number">0.8</span>,  <span class="comment"># 设置百分比标签与圆心的距离</span></span><br><span class="line">        labeldistance = <span class="number">1.15</span>, <span class="comment"># 设置教育水平标签与圆心的距离</span></span><br><span class="line">        startangle = <span class="number">180</span>, <span class="comment"># 设置饼图的初始角度</span></span><br><span class="line">        radius = <span class="number">1.5</span>, <span class="comment"># 设置饼图的半径</span></span><br><span class="line">        counterclock = <span class="literal">False</span>, <span class="comment"># 是否逆时针，这里设置为顺时针方向</span></span><br><span class="line">        wedgeprops = &#123;<span class="string">'linewidth'</span>: <span class="number">1.5</span>, <span class="string">'edgecolor'</span>:<span class="string">'green'</span>&#125;,<span class="comment"># 设置饼图内外边界的属性值</span></span><br><span class="line">        textprops = &#123;<span class="string">'fontsize'</span>:<span class="number">12</span>, <span class="string">'color'</span>:<span class="string">'k'</span>&#125;, <span class="comment"># 设置文本标签的属性值</span></span><br><span class="line">        center = (<span class="number">1.8</span>,<span class="number">1.8</span>), <span class="comment"># 设置饼图的原点</span></span><br><span class="line">        frame = <span class="number">1</span> )<span class="comment"># 是否显示饼图的图框，这里设置显示</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除x轴和y轴的刻度</span></span><br><span class="line">plt.xticks(())</span><br><span class="line">plt.yticks(())</span><br><span class="line"><span class="comment"># 添加图标题</span></span><br><span class="line">plt.title(<span class="string">'芝麻信用失信用户教育水平分布'</span>)</span><br><span class="line">plt.savefig(<span class="string">'饼图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0jh2r431j20c00800t2.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>matplotlib(箱线图)</h1>
<h2>boxplot函数的参数解读</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">plt.boxplot(x, notch=<span class="literal">None</span>, sym=<span class="literal">None</span>, vert=<span class="literal">None</span>,</span><br><span class="line">            whis=<span class="literal">None</span>, positions=<span class="literal">None</span>, widths=<span class="literal">None</span>,</span><br><span class="line">            patch_artist=<span class="literal">None</span>, meanline=<span class="literal">None</span>, showmeans=<span class="literal">None</span>,</span><br><span class="line">            showcaps=<span class="literal">None</span>, showbox=<span class="literal">None</span>, showfliers=<span class="literal">None</span>,</span><br><span class="line">            boxprops=<span class="literal">None</span>, labels=<span class="literal">None</span>, flierprops=<span class="literal">None</span>,</span><br><span class="line">            medianprops=<span class="literal">None</span>, meanprops=<span class="literal">None</span>,</span><br><span class="line">            capprops=<span class="literal">None</span>, whiskerprops=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定要绘制箱线图的数据</td>
</tr>
<tr>
<td style="text-align:left">notch</td>
<td style="text-align:left">是否是凹口的形式展现箱线图，默认非凹口</td>
</tr>
<tr>
<td style="text-align:left">sym</td>
<td style="text-align:left">指定异常点的形状，默认为+号显示</td>
</tr>
<tr>
<td style="text-align:left">vert</td>
<td style="text-align:left">是否需要将箱线图垂直摆放，默认垂直摆放；</td>
</tr>
<tr>
<td style="text-align:left">whis</td>
<td style="text-align:left">指定上下须与上下四分位的距离，默认为1.5倍的四分位差</td>
</tr>
<tr>
<td style="text-align:left">positions</td>
<td style="text-align:left">指定箱线图的位置，默认为[0,1,2…]</td>
</tr>
<tr>
<td style="text-align:left">widths</td>
<td style="text-align:left">指定箱线图的宽度，默认为0.5</td>
</tr>
<tr>
<td style="text-align:left">patch_artist</td>
<td style="text-align:left">是否填充箱体的颜色</td>
</tr>
<tr>
<td style="text-align:left">meanline</td>
<td style="text-align:left">是否用线的形式表示均值，默认用点来表示</td>
</tr>
<tr>
<td style="text-align:left">showmeans</td>
<td style="text-align:left">是否显示均值，默认不显示</td>
</tr>
<tr>
<td style="text-align:left">showcaps</td>
<td style="text-align:left">是否显示箱线图顶端和末端的两条线，默认显示</td>
</tr>
<tr>
<td style="text-align:left">showbox</td>
<td style="text-align:left">是否显示箱线图的箱体，默认显示</td>
</tr>
<tr>
<td style="text-align:left">showfliers</td>
<td style="text-align:left">是否显示异常值，默认显示</td>
</tr>
<tr>
<td style="text-align:left">boxprops</td>
<td style="text-align:left">设置箱体的属性，如边框色，填充色等</td>
</tr>
<tr>
<td style="text-align:left">labels</td>
<td style="text-align:left">为箱线图添加标签，类似于图例的作用</td>
</tr>
<tr>
<td style="text-align:left">filerprops</td>
<td style="text-align:left">设置异常值的属性，如异常点的形状、大小、填充色等</td>
</tr>
<tr>
<td style="text-align:left">medianprops</td>
<td style="text-align:left">设置中位数的属性，如线的类型、粗细等</td>
</tr>
<tr>
<td style="text-align:left">meanprops</td>
<td style="text-align:left">设置均值的属性，如点的大小、颜色等</td>
</tr>
<tr>
<td style="text-align:left">capprops</td>
<td style="text-align:left">设置箱线图顶端和末端线条的属性，如颜色、粗细等</td>
</tr>
<tr>
<td style="text-align:left">whiskerprops</td>
<td style="text-align:left">设置须的属性，如颜色、粗细、线的类型等</td>
</tr>
</tbody>
</table>
<h2>绘制</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取Titanic数据集</span></span><br><span class="line">titanic = pd.read_csv(<span class="string">'titanic_train.csv'</span>)</span><br><span class="line"><span class="comment"># 检查年龄是否有缺失</span></span><br><span class="line">any(titanic.Age.isnull())</span><br><span class="line"><span class="comment"># 不妨删除含有缺失年龄的观察</span></span><br><span class="line">titanic.dropna(subset=[<span class="string">'Age'</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图形的显示风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置中文和负号正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图：整体乘客的年龄箱线图</span></span><br><span class="line">plt.boxplot(x = titanic.Age, <span class="comment"># 指定绘图数据</span></span><br><span class="line">            patch_artist=<span class="literal">True</span>, <span class="comment"># 要求用自定义颜色填充盒形图，默认白色填充</span></span><br><span class="line">            showmeans=<span class="literal">True</span>, <span class="comment"># 以点的形式显示均值</span></span><br><span class="line">            boxprops = &#123;<span class="string">'color'</span>:<span class="string">'black'</span>,<span class="string">'facecolor'</span>:<span class="string">'#9999ff'</span>&#125;, <span class="comment"># 设置箱体属性，填充色和边框色</span></span><br><span class="line">            flierprops = &#123;<span class="string">'marker'</span>:<span class="string">'o'</span>,<span class="string">'markerfacecolor'</span>:<span class="string">'red'</span>,<span class="string">'color'</span>:<span class="string">'black'</span>&#125;, <span class="comment"># 设置异常值属性，点的形状、填充色和边框色</span></span><br><span class="line">            meanprops = &#123;<span class="string">'marker'</span>:<span class="string">'D'</span>,<span class="string">'markerfacecolor'</span>:<span class="string">'indianred'</span>&#125;, <span class="comment"># 设置均值点的属性，点的形状、填充色</span></span><br><span class="line">            medianprops = &#123;<span class="string">'linestyle'</span>:<span class="string">'--'</span>,<span class="string">'color'</span>:<span class="string">'orange'</span>&#125;) <span class="comment"># 设置中位数线的属性，线的类型和颜色</span></span><br><span class="line"><span class="comment"># 设置y轴的范围</span></span><br><span class="line">plt.ylim(<span class="number">0</span>,<span class="number">85</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除箱线图的上边框与右边框的刻度标签</span></span><br><span class="line">plt.tick_params(top=<span class="string">'off'</span>, right=<span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0khch6l1j20c00800sl.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按舱级排序，为了后面正常显示分组盒形图的顺序</span></span><br><span class="line">titanic.sort_values(by = <span class="string">'Pclass'</span>, inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过for循环将不同仓位的年龄人群分别存储到列表Age变量中</span></span><br><span class="line">Age = []</span><br><span class="line">Levels = titanic.Pclass.unique()</span><br><span class="line"><span class="keyword">for</span> Pclass <span class="keyword">in</span> Levels:</span><br><span class="line">    Age.append(titanic.loc[titanic.Pclass==Pclass,<span class="string">'Age'</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.boxplot(x = Age,</span><br><span class="line">            patch_artist=<span class="literal">True</span>,</span><br><span class="line">            labels = [<span class="string">'一等舱'</span>,<span class="string">'二等舱'</span>,<span class="string">'三等舱'</span>], <span class="comment"># 添加具体的标签名称</span></span><br><span class="line">            showmeans=<span class="literal">True</span>,</span><br><span class="line">            boxprops = &#123;<span class="string">'color'</span>:<span class="string">'black'</span>,<span class="string">'facecolor'</span>:<span class="string">'#9999ff'</span>&#125;,</span><br><span class="line">            flierprops = &#123;<span class="string">'marker'</span>:<span class="string">'o'</span>,<span class="string">'markerfacecolor'</span>:<span class="string">'red'</span>,<span class="string">'color'</span>:<span class="string">'black'</span>&#125;,</span><br><span class="line">            meanprops = &#123;<span class="string">'marker'</span>:<span class="string">'D'</span>,<span class="string">'markerfacecolor'</span>:<span class="string">'indianred'</span>&#125;,</span><br><span class="line">            medianprops = &#123;<span class="string">'linestyle'</span>:<span class="string">'--'</span>,<span class="string">'color'</span>:<span class="string">'orange'</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0kkhvvshj20c0080747.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>matplotlib(直方图)</h1>
<h2>hist函数的参数解读</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(x, bins=<span class="number">10</span>, range=<span class="literal">None</span>, normed=<span class="literal">False</span>,</span><br><span class="line">        weights=<span class="literal">None</span>, cumulative=<span class="literal">False</span>, bottom=<span class="literal">None</span>,</span><br><span class="line">        histtype=<span class="string">'bar'</span>, align=<span class="string">'mid'</span>, orientation=<span class="string">'vertical'</span>,</span><br><span class="line">        rwidth=<span class="literal">None</span>, log=<span class="literal">False</span>, color=<span class="literal">None</span>,</span><br><span class="line">        label=<span class="literal">None</span>, stacked=<span class="literal">False</span>)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定要绘制直方图的数据</td>
</tr>
<tr>
<td style="text-align:left">bins</td>
<td style="text-align:left">指定直方图条形的个数</td>
</tr>
<tr>
<td style="text-align:left">range</td>
<td style="text-align:left">指定直方图数据的上下界，默认包含绘图数据的最大值和最小值</td>
</tr>
<tr>
<td style="text-align:left">normed</td>
<td style="text-align:left">是否将直方图的频数转换成频率</td>
</tr>
<tr>
<td style="text-align:left">weights</td>
<td style="text-align:left">该参数可为每一个数据点设置权重</td>
</tr>
<tr>
<td style="text-align:left">cumulative</td>
<td style="text-align:left">是否需要计算累计频数或频率</td>
</tr>
<tr>
<td style="text-align:left">bottom</td>
<td style="text-align:left">可以为直方图的每个条形添加基准线，默认为0</td>
</tr>
<tr>
<td style="text-align:left">histtype</td>
<td style="text-align:left">指定直方图的类型，默认为bar，除此还有’barstacked’, ‘step’,  ‘stepfilled’</td>
</tr>
<tr>
<td style="text-align:left">align</td>
<td style="text-align:left">设置条形边界值的对其方式，默认为mid，除此还有’left’和’right’</td>
</tr>
<tr>
<td style="text-align:left">orientation</td>
<td style="text-align:left">设置直方图的摆放方向，默认为垂直方向</td>
</tr>
<tr>
<td style="text-align:left">rwidth</td>
<td style="text-align:left">设置直方图条形宽度的百分比</td>
</tr>
<tr>
<td style="text-align:left">log</td>
<td style="text-align:left">是否需要对绘图数据进行log变换</td>
</tr>
<tr>
<td style="text-align:left">color</td>
<td style="text-align:left">设置直方图的填充色</td>
</tr>
<tr>
<td style="text-align:left">label</td>
<td style="text-align:left">设置直方图的标签，可通过legend展示其图例</td>
</tr>
<tr>
<td style="text-align:left">stacked</td>
<td style="text-align:left">当有多个数据时，是否需要将直方图呈堆叠摆放，默认水平摆放</td>
</tr>
</tbody>
</table>
<h2>一元直方图的绘制</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方包</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> matplotlib.mlab <span class="keyword">as</span> mlab</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = [<span class="string">'SimHei'</span>]</span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取Titanic数据集</span></span><br><span class="line">titanic = pd.read_csv(<span class="string">'titanic_train.csv'</span>)</span><br><span class="line"><span class="comment"># 检查年龄是否有缺失any(titanic.Age.isnull())</span></span><br><span class="line"><span class="comment"># 不妨删除含有缺失年龄的观察</span></span><br><span class="line">titanic.dropna(subset=[<span class="string">'Age'</span>], inplace=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图形的显示风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"><span class="comment"># 绘图：乘客年龄的频数直方图</span></span><br><span class="line">plt.hist(titanic.Age, <span class="comment"># 绘图数据</span></span><br><span class="line">        bins = <span class="number">20</span>, <span class="comment"># 指定直方图的条形数为20个</span></span><br><span class="line">        color = <span class="string">'steelblue'</span>, <span class="comment"># 指定填充色</span></span><br><span class="line">        edgecolor = <span class="string">'k'</span>, <span class="comment"># 指定直方图的边界色</span></span><br><span class="line">        label = <span class="string">'直方图'</span> )<span class="comment"># 为直方图呈现标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图形顶部边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top=<span class="string">'off'</span>, right=<span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.savefig(<span class="string">'直方图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0mm4l1gvj20c00803ye.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h2>累计频率直方图</h2>
<ul>
<li>上图绘制的是年龄的频数直方图，从整体的分布来看，有点像正态分布，两边低中间高的倒钟形状。除此，我们还可以绘制累计频率直方图，并且设置5岁为组距，如下代码可以表示成：</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 绘图：乘客年龄的累计频率直方图</span></span><br><span class="line">plt.hist(titanic.Age, <span class="comment"># 绘图数据</span></span><br><span class="line">        bins = np.arange(titanic.Age.min(),titanic.Age.max(),<span class="number">5</span>), <span class="comment"># 指定直方图的组距</span></span><br><span class="line">        normed = <span class="literal">True</span>, <span class="comment"># 设置为频率直方图</span></span><br><span class="line">        cumulative = <span class="literal">True</span>, <span class="comment"># 积累直方图</span></span><br><span class="line">        color = <span class="string">'steelblue'</span>, <span class="comment"># 指定填充色</span></span><br><span class="line">        edgecolor = <span class="string">'k'</span>, <span class="comment"># 指定直方图的边界色</span></span><br><span class="line">        label = <span class="string">'直方图'</span> )<span class="comment"># 为直方图呈现标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置坐标轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'乘客年龄的频率累计直方图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'年龄'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'累计频率'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图形顶部边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top=<span class="string">'off'</span>, right=<span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend(loc = <span class="string">'best'</span>)</span><br><span class="line">plt.savefig(<span class="string">'乘客年龄的累计频率直方图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0knyeutbj20c0080mx8.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>正太分布图</h1>
<ul>
<li>通过累计频率直方图就可以快速的发现什么年龄段的人数占了多少比重，例如35岁以下的乘客占了7成，这种图的解读有点像帕累托图。为了测试数据集是否近似服从正态分布，需要在直方图的基础上再绘制两条线，一条表示理论的正态分布曲线，另一条为核密度曲线，目的就是比较两条曲线的吻合度，越吻合就说明数据越近似于正态分布。接下来我们就在直方图的基础上再添加两条曲线：</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 正太分布图</span></span><br><span class="line">plt.hist(titanic.Age, <span class="comment"># 绘图数据</span></span><br><span class="line">        bins = np.arange(titanic.Age.min(),titanic.Age.max(),<span class="number">5</span>), <span class="comment"># 指定直方图的组距</span></span><br><span class="line">        normed = <span class="literal">True</span>, <span class="comment"># 设置为频率直方图</span></span><br><span class="line">        color = <span class="string">'steelblue'</span>, <span class="comment"># 指定填充色</span></span><br><span class="line">        edgecolor = <span class="string">'k'</span>) <span class="comment"># 指定直方图的边界色</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置坐标轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'乘客年龄直方图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'年龄'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'频率'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成正态曲线的数据</span></span><br><span class="line">x1 = np.linspace(titanic.Age.min(), titanic.Age.max(), <span class="number">1000</span>)</span><br><span class="line">normal = mlab.normpdf(x1, titanic.Age.mean(), titanic.Age.std())</span><br><span class="line"><span class="comment"># 绘制正态分布曲线</span></span><br><span class="line">line1, = plt.plot(x1,normal,<span class="string">'r-'</span>, linewidth = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 生成核密度曲线的数据</span></span><br><span class="line">kde = mlab.GaussianKDE(titanic.Age)</span><br><span class="line">x2 = np.linspace(titanic.Age.min(), titanic.Age.max(), <span class="number">1000</span>)</span><br><span class="line"><span class="comment"># 绘制</span></span><br><span class="line">line2, = plt.plot(x2,kde(x2),<span class="string">'g-'</span>, linewidth = <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图形顶部边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top=<span class="string">'off'</span>, right=<span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend([line1, line2],[<span class="string">'正态分布曲线'</span>,<span class="string">'核密度曲线'</span>],loc=<span class="string">'best'</span>)</span><br><span class="line">plt.savefig(<span class="string">'正太分布图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0kp9cxanj20c0080jrt.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>二元直方图的绘制</h1>
<ul>
<li>上面绘制的直方图都是基于所有乘客的年龄，如果想对比男女乘客的年龄直方图的话，我们可以通过两个hist将不同性别的直方图绘制到一张图内，具体代码如下：</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 提取不同性别的年龄数据</span></span><br><span class="line">age_female = titanic.Age[titanic.Sex == <span class="string">'female'</span>]</span><br><span class="line">age_male = titanic.Age[titanic.Sex == <span class="string">'male'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置直方图的组距</span></span><br><span class="line">bins = np.arange(titanic.Age.min(), titanic.Age.max(), <span class="number">2</span>)</span><br><span class="line"><span class="comment"># 男性乘客年龄直方图</span></span><br><span class="line">plt.hist(age_male, bins = bins, label = <span class="string">'男性'</span>, color = <span class="string">'steelblue'</span>, alpha = <span class="number">0.7</span>)</span><br><span class="line"><span class="comment"># 女性乘客年龄直方图</span></span><br><span class="line">plt.hist(age_female, bins = bins, label = <span class="string">'女性'</span>, alpha = <span class="number">0.6</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置坐标轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'乘客年龄直方图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'年龄'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'人数'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图形顶部边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top=<span class="string">'off'</span>, right=<span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend()</span><br><span class="line">plt.savefig(<span class="string">'二元直方图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0krsx0j5j20c0080t8q.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>matplotlib(折线图)</h1>
<h2>plot函数的参数解读</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">plt.hist(x,y,linestyle,</span><br><span class="line">    linewidth,color,marker,</span><br><span class="line">    markersize,markeredgecolor,</span><br><span class="line">    markerfactcolor,label,alpha)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定折线图的x轴数据</td>
</tr>
<tr>
<td style="text-align:left">y</td>
<td style="text-align:left">指定折线图的y轴数据</td>
</tr>
<tr>
<td style="text-align:left">linestyle</td>
<td style="text-align:left">指定折线的类型，可以是实线、虚线、点虚线、点点线等，默认文实线</td>
</tr>
<tr>
<td style="text-align:left">linewidth</td>
<td style="text-align:left">指定折线的宽度</td>
</tr>
<tr>
<td style="text-align:left">marker</td>
<td style="text-align:left">可以为折线图添加点，该参数是设置点的形状</td>
</tr>
<tr>
<td style="text-align:left">markersize</td>
<td style="text-align:left">设置点的大小</td>
</tr>
<tr>
<td style="text-align:left">markeredgecolor</td>
<td style="text-align:left">设置点的边框色</td>
</tr>
<tr>
<td style="text-align:left">markerfactcolor</td>
<td style="text-align:left">设置点的填充色</td>
</tr>
<tr>
<td style="text-align:left">label</td>
<td style="text-align:left">为折线图添加标签，类似于图例的作用</td>
</tr>
</tbody>
</table>
<h1>一元折线图的绘制</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置绘图风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"><span class="comment"># 设置中文编码和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取需要绘图的数据</span></span><br><span class="line">article_reading = pd.read_excel(<span class="string">'wechart.xlsx'</span>)</span><br><span class="line"><span class="comment"># 取出8月份至9月28日的数据</span></span><br><span class="line">sub_data = article_reading.loc[article_reading.date &gt;= <span class="string">'2017-08-01'</span> ,:]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图框的大小</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.plot(sub_data.date, <span class="comment"># x轴数据</span></span><br><span class="line">         sub_data.article_reading_cnts, <span class="comment"># y轴数据</span></span><br><span class="line">         linestyle = <span class="string">'-'</span>, <span class="comment"># 折线类型</span></span><br><span class="line">         linewidth = <span class="number">2</span>, <span class="comment"># 折线宽度</span></span><br><span class="line">         color = <span class="string">'steelblue'</span>, <span class="comment"># 折线颜色</span></span><br><span class="line">         marker = <span class="string">'o'</span>, <span class="comment"># 点的形状</span></span><br><span class="line">         markersize = <span class="number">6</span>, <span class="comment"># 点的大小</span></span><br><span class="line">         markeredgecolor=<span class="string">'black'</span>, <span class="comment"># 点的边框色</span></span><br><span class="line">         markerfacecolor=<span class="string">'brown'</span>) <span class="comment"># 点的填充色</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题和坐标轴标签</span></span><br><span class="line">plt.title(<span class="string">'公众号每天阅读人数趋势图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'日期'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'人数'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剔除图框上边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了避免x轴日期刻度标签的重叠，设置x轴刻度自动展现，并且45度倾斜</span></span><br><span class="line">fig.autofmt_xdate(rotation = <span class="number">45</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>由于x轴是日期型数据，当数据量一多的时候，就会导致刻度标签的重叠或拥挤，为了防止重叠的产生，我们需要让日期型的x轴刻度标签自动展现，从而避免重叠的现象</li>
</ul>
<h2>图形优化</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图框的大小</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.plot(sub_data.date, <span class="comment"># x轴数据</span></span><br><span class="line">         sub_data.article_reading_cnts, <span class="comment"># y轴数据</span></span><br><span class="line">         linestyle = <span class="string">'-'</span>, <span class="comment"># 折线类型</span></span><br><span class="line">         linewidth = <span class="number">2</span>, <span class="comment"># 折线宽度</span></span><br><span class="line">         color = <span class="string">'steelblue'</span>, <span class="comment"># 折线颜色</span></span><br><span class="line">         marker = <span class="string">'o'</span>, <span class="comment"># 点的形状</span></span><br><span class="line">         markersize = <span class="number">6</span>, <span class="comment"># 点的大小</span></span><br><span class="line">         markeredgecolor=<span class="string">'black'</span>, <span class="comment"># 点的边框色</span></span><br><span class="line">         markerfacecolor=<span class="string">'steelblue'</span>) <span class="comment"># 点的填充色</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题和坐标轴标签</span></span><br><span class="line">plt.title(<span class="string">'公众号每天阅读人数趋势图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'日期'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'人数'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剔除图框上边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取图的坐标信息</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line"><span class="comment"># 设置日期的显示格式  </span></span><br><span class="line">date_format = mpl.dates.DateFormatter(<span class="string">"%Y-%m-%d"</span>)  </span><br><span class="line">ax.xaxis.set_major_formatter(date_format)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置x轴显示多少个日期刻度</span></span><br><span class="line"><span class="comment">#xlocator = mpl.ticker.LinearLocator(10)</span></span><br><span class="line"><span class="comment"># 设置x轴每个刻度的间隔天数</span></span><br><span class="line">xlocator = mpl.ticker.MultipleLocator(<span class="number">5</span>)</span><br><span class="line">ax.xaxis.set_major_locator(xlocator)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了避免x轴日期刻度标签的重叠，设置x轴刻度自动展现，并且45度倾斜</span></span><br><span class="line">fig.autofmt_xdate(rotation = <span class="number">45</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图形</span></span><br></pre></td></tr></table></figure></p>
<h1>多元折线图的绘制</h1>
<ul>
<li>如果你需要在一张图形中画上两条折线图，也很简单，只需要在代码中写入两次plot函数即可，其他都不需要改动了。具体可以参考下面的代码逻辑：</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 设置图框的大小</span></span><br><span class="line">fig = plt.figure(figsize=(<span class="number">10</span>,<span class="number">6</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图--阅读人数趋势</span></span><br><span class="line">plt.plot(sub_data.date, <span class="comment"># x轴数据</span></span><br><span class="line">         sub_data.article_reading_cnts, <span class="comment"># y轴数据</span></span><br><span class="line">         linestyle = <span class="string">'-'</span>, <span class="comment"># 折线类型</span></span><br><span class="line">         linewidth = <span class="number">2</span>, <span class="comment"># 折线宽度</span></span><br><span class="line">         color = <span class="string">'steelblue'</span>, <span class="comment"># 折线颜色</span></span><br><span class="line">         marker = <span class="string">'o'</span>, <span class="comment"># 点的形状</span></span><br><span class="line">         markersize = <span class="number">6</span>, <span class="comment"># 点的大小</span></span><br><span class="line">         markeredgecolor=<span class="string">'black'</span>, <span class="comment"># 点的边框色</span></span><br><span class="line">         markerfacecolor=<span class="string">'steelblue'</span>, <span class="comment"># 点的填充色</span></span><br><span class="line">         label = <span class="string">'阅读人数'</span>) <span class="comment"># 添加标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图--阅读人次趋势</span></span><br><span class="line">plt.plot(sub_data.date, <span class="comment"># x轴数据</span></span><br><span class="line">         sub_data.article_reading_times, <span class="comment"># y轴数据</span></span><br><span class="line">         linestyle = <span class="string">'-'</span>, <span class="comment"># 折线类型</span></span><br><span class="line">         linewidth = <span class="number">2</span>, <span class="comment"># 折线宽度</span></span><br><span class="line">         color = <span class="string">'#ff9999'</span>, <span class="comment"># 折线颜色</span></span><br><span class="line">         marker = <span class="string">'o'</span>, <span class="comment"># 点的形状</span></span><br><span class="line">         markersize = <span class="number">6</span>, <span class="comment"># 点的大小</span></span><br><span class="line">         markeredgecolor=<span class="string">'black'</span>, <span class="comment"># 点的边框色</span></span><br><span class="line">         markerfacecolor=<span class="string">'#ff9999'</span>, <span class="comment"># 点的填充色</span></span><br><span class="line">         label = <span class="string">'阅读人次'</span>) <span class="comment"># 添加标签</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题和坐标轴标签</span></span><br><span class="line">plt.title(<span class="string">'公众号每天阅读人数和人次趋势图'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'日期'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'人数'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剔除图框上边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取图的坐标信息</span></span><br><span class="line">ax = plt.gca()</span><br><span class="line"><span class="comment"># 设置日期的显示格式  </span></span><br><span class="line">date_format = mpl.dates.DateFormatter(<span class="string">'%m-%d'</span>)  </span><br><span class="line">ax.xaxis.set_major_formatter(date_format)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置x轴显示多少个日期刻度</span></span><br><span class="line"><span class="comment">#xlocator = mpl.ticker.LinearLocator(10)</span></span><br><span class="line"><span class="comment"># 设置x轴每个刻度的间隔天数</span></span><br><span class="line">xlocator = mpl.ticker.MultipleLocator(<span class="number">3</span>)</span><br><span class="line">ax.xaxis.set_major_locator(xlocator)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了避免x轴日期刻度标签的重叠，设置x轴刻度自动展现，并且45度倾斜</span></span><br><span class="line">fig.autofmt_xdate(rotation = <span class="number">45</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend()</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h1>matplotlib(散点图)</h1>
<h2>scatter函数的参数解读</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lt.scatter(x, y, s=<span class="number">20</span>,</span><br><span class="line">            c=<span class="literal">None</span>, marker=<span class="string">'o'</span>,</span><br><span class="line">            cmap=<span class="literal">None</span>, norm=<span class="literal">None</span>,</span><br><span class="line">            vmin=<span class="literal">None</span>, vmax=<span class="literal">None</span>,</span><br><span class="line">            alpha=<span class="literal">None</span>, linewidths=<span class="literal">None</span>,</span><br><span class="line">            edgecolors=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定散点图的x轴数据</td>
</tr>
<tr>
<td style="text-align:left">y</td>
<td style="text-align:left">指定散点图的y轴数据</td>
</tr>
<tr>
<td style="text-align:left">s</td>
<td style="text-align:left">指定散点图点的大小，默认为20，通过传入新的变量，实现气泡图的绘制</td>
</tr>
<tr>
<td style="text-align:left">c</td>
<td style="text-align:left">指定散点图点的颜色，默认为蓝色</td>
</tr>
<tr>
<td style="text-align:left">marker</td>
<td style="text-align:left">指定散点图点的形状，默认为圆形</td>
</tr>
<tr>
<td style="text-align:left">cmap</td>
<td style="text-align:left">指定色图，只有当c参数是一个浮点型的数组的时候才起作用</td>
</tr>
<tr>
<td style="text-align:left">norm</td>
<td style="text-align:left">设置数据亮度，标准化到0~1之间，使用该参数仍需要c为浮点型的数组</td>
</tr>
<tr>
<td style="text-align:left">vmin、vmax</td>
<td style="text-align:left">亮度设置，与norm类似，如果使用了norm则该参数无效</td>
</tr>
<tr>
<td style="text-align:left">alpha</td>
<td style="text-align:left">设置散点的透明度</td>
</tr>
<tr>
<td style="text-align:left">linewidths</td>
<td style="text-align:left">设置散点边界线的宽度</td>
</tr>
<tr>
<td style="text-align:left">edgecolors</td>
<td style="text-align:left">设置散点边界线的颜色</td>
</tr>
</tbody>
</table>
<h1>一般散点图的绘制</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入模块</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置绘图风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"><span class="comment"># 设置中文编码和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读入数据</span></span><br><span class="line">cars = pd.read_csv(<span class="string">'cars.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">plt.scatter(cars.speed, <span class="comment"># x轴数据为汽车速度</span></span><br><span class="line">            cars.dist, <span class="comment"># y轴数据为汽车的刹车距离</span></span><br><span class="line">            s = <span class="number">30</span>, <span class="comment"># 设置点的大小</span></span><br><span class="line">            c = <span class="string">'steelblue'</span>, <span class="comment"># 设置点的颜色</span></span><br><span class="line">            marker = <span class="string">'s'</span>, <span class="comment"># 设置点的形状</span></span><br><span class="line">            alpha = <span class="number">0.9</span>, <span class="comment"># 设置点的透明度</span></span><br><span class="line">            linewidths = <span class="number">0.3</span>, <span class="comment"># 设置散点边界的粗细</span></span><br><span class="line">            edgecolors = <span class="string">'red'</span> <span class="comment"># 设置散点边界的颜色</span></span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加轴标签和标题plt.title('汽车速度与刹车距离的关系')</span></span><br><span class="line">plt.xlabel(<span class="string">'汽车速度'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'刹车距离'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图边框的顶部刻度和右边刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line">plt.savefig(<span class="string">'一般散点图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0mqe23jgj20c0080q2w.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>分组散点图的绘制</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line">iris = pd.read_csv(<span class="string">'iris.csv'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置中文编码和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 自定义颜色</span></span><br><span class="line">colors = [<span class="string">'steelblue'</span>, <span class="string">'#9999ff'</span>, <span class="string">'#ff9999'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 三种不同的花品种</span></span><br><span class="line">Species = iris.Species.unique()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过循环的方式，完成分组散点图的绘制</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len(Species)):</span><br><span class="line">    plt.scatter(iris.loc[iris.Species == Species[i], <span class="string">'Petal.Length'</span>],</span><br><span class="line">                iris.loc[iris.Species == Species[i], <span class="string">'Petal.Width'</span>],</span><br><span class="line">                s = <span class="number">35</span>, c = colors[i], label = Species[i])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'花瓣长度与宽度的关系'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'花瓣长度'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'花瓣宽度'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图边框的顶部刻度和右边刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 添加图例</span></span><br><span class="line">plt.legend(loc = <span class="string">'upper left'</span>)</span><br><span class="line">plt.savefig(<span class="string">'分组散点图.png'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
<figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0mt6kcxgj20c0080q35.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>气泡图的绘制</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方包</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置中文编码和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line">sales = pd.read_excel(<span class="string">'sales.xlsx'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制气泡图</span></span><br><span class="line">plt.scatter(sales.finish_ratio,</span><br><span class="line">            sales.profit_ratio,</span><br><span class="line">            c = <span class="string">'steelblue'</span>,</span><br><span class="line">            s = sales.tot_target/<span class="number">30</span>,</span><br><span class="line">            edgecolor = <span class="string">'black'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 改变轴刻度的显示方式（百分比形式）</span></span><br><span class="line">plt.xticks(np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.1</span>), [str(i*<span class="number">100</span>)+<span class="string">'%'</span> <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.1</span>)])</span><br><span class="line">plt.yticks(np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.1</span>), [str(i*<span class="number">100</span>)+<span class="string">'%'</span> <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.1</span>)])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置x轴和y轴的数值范围</span></span><br><span class="line">plt.xlim(<span class="number">0.2</span>, <span class="number">0.7</span>)</span><br><span class="line">plt.ylim(<span class="number">0.25</span>, <span class="number">0.85</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'完成率与利润率的关系'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'完成率'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'利润率'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图边框的顶部刻度和右边刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0mvachvuj20c0080dg0.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>散点图+线性回归线</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">from</span> sklearn.linear_model <span class="keyword">import</span> LinearRegression</span><br><span class="line"></span><br><span class="line"><span class="comment"># 散点图</span></span><br><span class="line">plt.scatter(cars.speed, <span class="comment"># x轴数据为汽车速度</span></span><br><span class="line">            cars.dist, <span class="comment"># y轴数据为汽车的刹车距离</span></span><br><span class="line">            s = <span class="number">30</span>, <span class="comment"># 设置点的大小</span></span><br><span class="line">            c = <span class="string">'black'</span>, <span class="comment"># 设置点的颜色</span></span><br><span class="line">            marker = <span class="string">'o'</span>, <span class="comment"># 设置点的形状</span></span><br><span class="line">            alpha = <span class="number">0.9</span>, <span class="comment"># 设置点的透明度</span></span><br><span class="line">            linewidths = <span class="number">0.3</span>, <span class="comment"># 设置散点边界的粗细</span></span><br><span class="line">            label = <span class="string">'观测点'</span></span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 建模</span></span><br><span class="line">reg = LinearRegression().fit(cars.speed.reshape(<span class="number">-1</span>,<span class="number">1</span>), cars.dist)</span><br><span class="line"><span class="comment"># 回归预测值</span></span><br><span class="line">pred = reg.predict(cars.speed.reshape(<span class="number">-1</span>,<span class="number">1</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制回归线</span></span><br><span class="line">plt.plot(cars.speed, pred, linewidth = <span class="number">2</span>, label = <span class="string">'回归线'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加轴标签和标题</span></span><br><span class="line">plt.title(<span class="string">'汽车速度与刹车距离的关系'</span>)</span><br><span class="line">plt.xlabel(<span class="string">'汽车速度'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'刹车距离'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除图边框的顶部刻度和右边刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 显示图例</span></span><br><span class="line">plt.legend(loc = <span class="string">'upper left'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h1>matplotlib(雷达图)</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用ggplot的绘图风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造数据</span></span><br><span class="line">values = [<span class="number">3.2</span>,<span class="number">2.1</span>,<span class="number">3.5</span>,<span class="number">2.8</span>,<span class="number">3</span>]</span><br><span class="line">feature = [<span class="string">'个人能力'</span>,<span class="string">'QC知识'</span>,<span class="string">'解决问题能力'</span>,<span class="string">'服务质量意识'</span>,<span class="string">'团队精神'</span>]</span><br><span class="line"></span><br><span class="line">N = len(values)</span><br><span class="line"><span class="comment"># 设置雷达图的角度，用于平分切开一个圆面</span></span><br><span class="line">angles=np.linspace(<span class="number">0</span>, <span class="number">2</span>*np.pi, N, endpoint=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 为了使雷达图一圈封闭起来，需要下面的步骤</span></span><br><span class="line">values=np.concatenate((values,[values[<span class="number">0</span>]]))</span><br><span class="line">angles=np.concatenate((angles,[angles[<span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">fig=plt.figure()</span><br><span class="line"><span class="comment"># 这里一定要设置为极坐标格式</span></span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>, polar=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 绘制折线图</span></span><br><span class="line">ax.plot(angles, values, <span class="string">'o-'</span>, linewidth=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># 填充颜色</span></span><br><span class="line">ax.fill(angles, values, alpha=<span class="number">0.25</span>)</span><br><span class="line"><span class="comment"># 添加每个特征的标签</span></span><br><span class="line">ax.set_thetagrids(angles * <span class="number">180</span>/np.pi, feature)</span><br><span class="line"><span class="comment"># 设置雷达图的范围</span></span><br><span class="line">ax.set_ylim(<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'活动前后员工状态表现'</span>)</span><br><span class="line"><span class="comment"># 添加网格线</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0m6gdokgj20c0080aai.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>多条线的雷达图</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 中文和负号的正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用ggplot的绘图风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 构造数据</span></span><br><span class="line">values = [<span class="number">3.2</span>,<span class="number">2.1</span>,<span class="number">3.5</span>,<span class="number">2.8</span>,<span class="number">3</span>]</span><br><span class="line">values2 = [<span class="number">4</span>,<span class="number">4.1</span>,<span class="number">4.5</span>,<span class="number">4</span>,<span class="number">4.1</span>]</span><br><span class="line">feature = [<span class="string">'个人能力'</span>,<span class="string">'QC知识'</span>,<span class="string">'解决问题能力'</span>,<span class="string">'服务质量意识'</span>,<span class="string">'团队精神'</span>]</span><br><span class="line"></span><br><span class="line">N = len(values)</span><br><span class="line"><span class="comment"># 设置雷达图的角度，用于平分切开一个圆面</span></span><br><span class="line">angles=np.linspace(<span class="number">0</span>, <span class="number">2</span>*np.pi, N, endpoint=<span class="literal">False</span>)</span><br><span class="line"><span class="comment"># 为了使雷达图一圈封闭起来，需要下面的步骤</span></span><br><span class="line">values=np.concatenate((values,[values[<span class="number">0</span>]]))</span><br><span class="line">values2=np.concatenate((values2,[values2[<span class="number">0</span>]]))</span><br><span class="line">angles=np.concatenate((angles,[angles[<span class="number">0</span>]]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>, polar=<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 绘制折线图</span></span><br><span class="line">ax.plot(angles, values, <span class="string">'o-'</span>, linewidth=<span class="number">2</span>, label = <span class="string">'活动前'</span>)</span><br><span class="line"><span class="comment"># 填充颜色</span></span><br><span class="line">ax.fill(angles, values, alpha=<span class="number">0.25</span>)</span><br><span class="line"><span class="comment"># 绘制第二条折线图</span></span><br><span class="line">ax.plot(angles, values2, <span class="string">'o-'</span>, linewidth=<span class="number">2</span>, label = <span class="string">'活动后'</span>)</span><br><span class="line">ax.fill(angles, values2, alpha=<span class="number">0.25</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加每个特征的标签</span></span><br><span class="line">ax.set_thetagrids(angles * <span class="number">180</span>/np.pi, feature)</span><br><span class="line"><span class="comment"># 设置雷达图的范围</span></span><br><span class="line">ax.set_ylim(<span class="number">0</span>,<span class="number">5</span>)</span><br><span class="line"><span class="comment"># 添加标题</span></span><br><span class="line">plt.title(<span class="string">'活动前后员工状态表现'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加网格线</span></span><br><span class="line">ax.grid(<span class="literal">True</span>)</span><br><span class="line"><span class="comment"># 设置图例</span></span><br><span class="line">plt.legend(loc = <span class="string">'best'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0m7o9accj20c0080mxt.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>pygal模块则提供了更加简单的雷达图函数</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> pygal</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用Radar这个类，并设置雷达图的填充，及数据范围</span></span><br><span class="line">radar_chart = pygal.Radar(fill = <span class="literal">True</span>, range=(<span class="number">0</span>,<span class="number">5</span>))</span><br><span class="line"><span class="comment"># 添加雷达图的标题</span></span><br><span class="line">radar_chart.title = <span class="string">'活动前后员工状态表现'</span></span><br><span class="line"><span class="comment"># 添加雷达图各顶点的含义</span></span><br><span class="line">radar_chart.x_labels = [<span class="string">'个人能力'</span>,<span class="string">'QC知识'</span>,<span class="string">'解决问题能力'</span>,<span class="string">'服务质量意识'</span>,<span class="string">'团队精神'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制两条雷达图区域</span></span><br><span class="line">radar_chart.add(<span class="string">'活动前'</span>, [<span class="number">3.2</span>,<span class="number">2.1</span>,<span class="number">3.5</span>,<span class="number">2.8</span>,<span class="number">3</span>])</span><br><span class="line">radar_chart.add(<span class="string">'活动后'</span>, [<span class="number">4</span>,<span class="number">4.1</span>,<span class="number">4.5</span>,<span class="number">4</span>,<span class="number">4.1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存图像</span></span><br><span class="line">radar_chart.render_to_file(<span class="string">'radar_chart.svg'</span>)</span><br></pre></td></tr></table></figure></p>
<h1>matplotlib(面积图)</h1>
<h2>stackplot函数语法及参数含义</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stackplot(x,*args,**kargs)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">x</td>
<td style="text-align:left">指定面积图的x轴数据</td>
</tr>
<tr>
<td style="text-align:left">*args</td>
<td style="text-align:left">为可变参数，可以接受任意多的y轴数据，即各个拆分的数据对象</td>
</tr>
<tr>
<td style="text-align:left">**kargs</td>
<td style="text-align:left">为关键字参数，可以通过传递其他参数来修饰面积图，如标签、颜色</td>
</tr>
</tbody>
</table>
<hr>
<ul>
<li>可用的关键字参数：</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">labels</td>
<td style="text-align:left">以列表的形式传递每一块面积图包含的标签，通过图例展现</td>
</tr>
<tr>
<td style="text-align:left">colors</td>
<td style="text-align:left">设置不同的颜色填充面积图</td>
</tr>
</tbody>
</table>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ========== Python3 + Jupyter ========== #</span></span><br><span class="line"><span class="comment"># 导入第三方模块</span></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置图形的显示风格</span></span><br><span class="line">plt.style.use(<span class="string">'ggplot'</span>)</span><br><span class="line"><span class="comment"># 设置中文和负号正常显示</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 读取数据</span></span><br><span class="line">transport = pd.read_excel(<span class="string">'transport.xls'</span>)</span><br><span class="line"><span class="comment"># 窥探数据框的前5行</span></span><br><span class="line">transport.head()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 折线图的x变量值，即Jan（一月份）到Aug（八月份）8个值</span></span><br><span class="line">N = np.arange(transport.shape[<span class="number">1</span>]<span class="number">-1</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制拆分的折线图</span></span><br><span class="line">labels = transport.Index</span><br><span class="line">channel = transport.columns[<span class="number">1</span>:]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(transport.shape[<span class="number">0</span>]):</span><br><span class="line">    plt.plot(N, <span class="comment"># x坐标</span></span><br><span class="line">             transport.loc[i,<span class="string">'Jan'</span>:<span class="string">'Aug'</span>], <span class="comment"># y坐标</span></span><br><span class="line">             label = labels[i], <span class="comment"># 添加标签</span></span><br><span class="line">             marker = <span class="string">'o'</span>, <span class="comment"># 给折线图添加圆形点</span></span><br><span class="line">             linewidth = <span class="number">2</span> <span class="comment"># 设置线的宽度</span></span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题和坐标轴标签</span></span><br><span class="line">plt.title(<span class="string">'2017年各运输渠道的运输量'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'运输量(万吨)'</span>)</span><br><span class="line"><span class="comment"># 修改x轴的刻度标签</span></span><br><span class="line">plt.xticks(N,channel)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剔除图框上边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例（即显示label的效果）  </span></span><br><span class="line">plt.legend(loc = <span class="string">'best'</span>)  </span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>这就是绘制分组的折线图思想，虽然折线图能够反映各个渠道的运输量随月份的波动趋势，但无法观察到1月份到8月份的各自总量。接下来我们看看面积图的展现。</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">x = N</span><br><span class="line"><span class="comment"># 将铁路运输、公路运输和水路运输各月的值提取出来，存储到y1~y3</span></span><br><span class="line"><span class="comment"># 千万千万记得，提取出数据框的一列时，需要将序列的数据类型进行强制转换，否则会报错</span></span><br><span class="line">y1 = transport.loc[<span class="number">0</span>,<span class="string">'Jan'</span>:<span class="string">'Aug'</span>].astype(<span class="string">'int'</span>)</span><br><span class="line">y2 = transport.loc[<span class="number">1</span>,<span class="string">'Jan'</span>:<span class="string">'Aug'</span>].astype(<span class="string">'int'</span>)</span><br><span class="line">y3 = transport.loc[<span class="number">2</span>,<span class="string">'Jan'</span>:<span class="string">'Aug'</span>].astype(<span class="string">'int'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义各区块面积的含义</span></span><br><span class="line">colors = [<span class="string">'#ff9999'</span>,<span class="string">'#9999ff'</span>,<span class="string">'#cc1234'</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 绘制面积图</span></span><br><span class="line">plt.stackplot(x, <span class="comment"># x轴</span></span><br><span class="line">              y1,y2,y3, <span class="comment"># 可变参数，接受多个y</span></span><br><span class="line">              labels = labels, <span class="comment"># 定义各区块面积的含义</span></span><br><span class="line">              colors = colors <span class="comment"># 设置各区块的填充色</span></span><br><span class="line">             )</span><br><span class="line"></span><br><span class="line"><span class="comment"># 添加标题和坐标轴标签</span></span><br><span class="line">plt.title(<span class="string">'2017年各运输渠道的运输量'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'累积运输量(万吨)'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改x轴的刻度</span></span><br><span class="line">plt.xticks(N,channel)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 剔除图框上边界和右边界的刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示图例（即显示labels的效果）  </span></span><br><span class="line">plt.legend(loc = <span class="string">'upper left'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h1>matplotlib(树地图)</h1>
<h2>squarify.plot函数</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">squarify.plot(sizes,</span><br><span class="line">        norm_x=<span class="number">100</span>,</span><br><span class="line">        norm_y=<span class="number">100</span>,</span><br><span class="line">        color=<span class="literal">None</span>,</span><br><span class="line">        label=<span class="literal">None</span>,</span><br><span class="line">        value=<span class="literal">None</span>,</span><br><span class="line">        alpha,</span><br><span class="line">        **kwargs)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th style="text-align:left">参数</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">sizes</td>
<td style="text-align:left">指定离散变量各水平对应的数值，即反映树地图子块的面积大小</td>
</tr>
<tr>
<td style="text-align:left">norm_x</td>
<td style="text-align:left">默认将x轴的范围限定在0-100之内</td>
</tr>
<tr>
<td style="text-align:left">norm_y</td>
<td style="text-align:left">默认将y轴的范围限定在0-100之内</td>
</tr>
<tr>
<td style="text-align:left">color</td>
<td style="text-align:left">自定义设置树地图子块的填充色</td>
</tr>
<tr>
<td style="text-align:left">label</td>
<td style="text-align:left">为每个子块指定标签</td>
</tr>
<tr>
<td style="text-align:left">value</td>
<td style="text-align:left">为每个子块添加数值大小的标签</td>
</tr>
<tr>
<td style="text-align:left">alpha</td>
<td style="text-align:left">设置填充色的透明度</td>
</tr>
<tr>
<td style="text-align:left">**kwargs</td>
<td style="text-align:left">关键字参数，与条形图的关键字参数类似，如设置边框色、边框粗细等</td>
</tr>
</tbody>
</table>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入第三方包</span></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> squarify</span><br><span class="line"></span><br><span class="line"><span class="comment">#中文及负号处理办法</span></span><br><span class="line">plt.rcParams[<span class="string">'font.sans-serif'</span>] = <span class="string">'SimHei'</span></span><br><span class="line">plt.rcParams[<span class="string">'axes.unicode_minus'</span>] = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建数据</span></span><br><span class="line">name = [<span class="string">'国内增值税'</span>,<span class="string">'国内消费税'</span>,<span class="string">'企业所得税'</span>,<span class="string">'个人所得税'</span>,</span><br><span class="line">        <span class="string">'进口增值税、消费税'</span>,<span class="string">'出口退税'</span>,<span class="string">'城市维护建设税'</span>,</span><br><span class="line">        <span class="string">'车辆购置税'</span>,<span class="string">'印花税'</span>,<span class="string">'资源税'</span>,<span class="string">'土地和房税'</span>,<span class="string">'车船税烟叶税等'</span>]</span><br><span class="line">income = [<span class="number">3908</span>,<span class="number">856</span>,<span class="number">801</span>,<span class="number">868</span>,<span class="number">1361</span>,<span class="number">1042</span>,<span class="number">320</span>,<span class="number">291</span>,<span class="number">175</span>,<span class="number">111</span>,<span class="number">414</span>,<span class="number">63</span>]</span><br><span class="line">        </span><br><span class="line"><span class="comment"># 绘图</span></span><br><span class="line">colors = [<span class="string">'steelblue'</span>,<span class="string">'#9999ff'</span>,<span class="string">'red'</span>,<span class="string">'indianred'</span>,</span><br><span class="line">          <span class="string">'green'</span>,<span class="string">'yellow'</span>,<span class="string">'orange'</span>]</span><br><span class="line">          plot = squarify.plot(sizes = income, <span class="comment"># 指定绘图数据</span></span><br><span class="line">                     label = name, <span class="comment"># 指定标签</span></span><br><span class="line">                     color = colors, <span class="comment"># 指定自定义颜色</span></span><br><span class="line">                     alpha = <span class="number">0.6</span>, <span class="comment"># 指定透明度</span></span><br><span class="line">                     value = income, <span class="comment"># 添加数值标签</span></span><br><span class="line">                     edgecolor = <span class="string">'white'</span>, <span class="comment"># 设置边界框为白色</span></span><br><span class="line">                     linewidth =<span class="number">3</span> <span class="comment"># 设置边框宽度为3</span></span><br><span class="line">                    )</span><br><span class="line">          <span class="comment"># 设置标签大小</span></span><br><span class="line">plt.rc(<span class="string">'font'</span>, size=<span class="number">8</span>)</span><br><span class="line"><span class="comment"># 设置标题大小</span></span><br><span class="line">plot.set_title(<span class="string">'2017年8月中央财政收支情况'</span>,fontdict = &#123;<span class="string">'fontsize'</span>:<span class="number">15</span>&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 去除坐标轴</span></span><br><span class="line">plt.axis(<span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 去除上边框和右边框刻度</span></span><br><span class="line">plt.tick_params(top = <span class="string">'off'</span>, right = <span class="string">'off'</span>)</span><br><span class="line"><span class="comment"># 显示图形</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fx0miksd7jj20c0080jro.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>数据文件</h1>
<p><a href="https://pan.baidu.com/s/1hMRJAz0OvsAtYhsbjY4njw" target="_blank" rel="noopener">链接提取码: u6rg</a></p>
<hr>
<ul>
<li>作者：天痕坤</li>
<li><a href="https://blog.csdn.net/kun1280437633/article/details/80841364" target="_blank" rel="noopener">原文</a></li>
</ul>

    

        <a href="/posts/PythonMatplotlib.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PySpiderMaFengwo"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-06 15:27:09" datetime="2018-11-06T07:27:09.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-06</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PySpiderMaFengwo.html">PySpider 马蜂窝网景点</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>PySpider 马蜂窝景点信息
&lt;!--more--&gt;</p>
<h1>PySpider</h1>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># Created on 2018-11-06 11:52:31</span></span><br><span class="line"><span class="comment"># Project: PySpider_MaFengWo</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyspider.libs.base_handler <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">from</span> pyspider.libs.utils <span class="keyword">import</span> md5string</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">from</span> fake_useragent <span class="keyword">import</span> UserAgent</span><br><span class="line"></span><br><span class="line">default_headers = &#123;</span><br><span class="line">           <span class="string">'Accept'</span>:<span class="string">'application/json, text/javascript, */*; q=0.01'</span>,</span><br><span class="line">           <span class="string">'Accept-Encoding'</span>:<span class="string">'gzip, deflate'</span>,</span><br><span class="line">           <span class="string">'Accept-Language'</span>:<span class="string">'zh-CN,zh;q=0.9,en-US;q=0.8,en;q=0.7'</span>,</span><br><span class="line">           <span class="string">'Connection'</span>:<span class="string">'keep-alive'</span>,</span><br><span class="line">           <span class="string">'Content-Length'</span>:<span class="number">68</span>,</span><br><span class="line">           <span class="string">'Content-Type'</span>:<span class="string">'application/x-www-form-urlencoded; charset=UTF-8'</span>,</span><br><span class="line">           <span class="string">'Connection'</span>:<span class="string">'keep-alive'</span>,</span><br><span class="line">           <span class="string">'Upgrade-Insecure-Requests'</span>:<span class="number">1</span>,</span><br><span class="line">           <span class="string">'User-Agent'</span>:<span class="string">'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3100.0 Safari/537.36'</span>,</span><br><span class="line">           <span class="string">'X-Requested-With'</span>:<span class="string">'XMLHttpRequest'</span>,</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Handler</span><span class="params">(BaseHandler)</span>:</span></span><br><span class="line">    crawl_config = &#123;</span><br><span class="line">        <span class="string">'headers'</span>:default_headers,</span><br><span class="line">        <span class="string">'timeout'</span>:<span class="number">300</span>,</span><br><span class="line">        <span class="string">'proxy'</span>:<span class="string">'192.168.1.1:8080'</span>,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">    @every(minutes=24 * 60)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_start</span><span class="params">(self)</span>:</span></span><br><span class="line">        url = <span class="string">'http://www.mafengwo.cn/jd/10088/gonglve.html'</span></span><br><span class="line">        self.crawl(url,callback=self.get_index,fetch_type=<span class="string">'js'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_taskid</span><span class="params">(self, task)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> md5string(task[<span class="string">'url'</span>]+json.dumps(task[<span class="string">'fetch'</span>].get(<span class="string">'data'</span>, <span class="string">''</span>)))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_index</span><span class="params">(self,response)</span>:</span></span><br><span class="line">        url = <span class="string">'http://www.mafengwo.cn/ajax/router.php'</span></span><br><span class="line">        total = int(response.doc(<span class="string">'.pi.pg-last'</span>).attr(<span class="string">'data-page'</span>))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,total+<span class="number">1</span>):</span><br><span class="line">            data = &#123;</span><br><span class="line">                    <span class="string">'sAct'</span>:<span class="string">'KMdd_StructWebAjax|GetPoisByTag'</span>,</span><br><span class="line">                    <span class="string">'iMddid'</span>:<span class="string">'10088'</span>,</span><br><span class="line">                    <span class="string">' iTagId'</span>:<span class="number">0</span>,</span><br><span class="line">                    <span class="string">'iPage'</span>:i</span><br><span class="line">             &#125;</span><br><span class="line">            self.crawl(url,method=<span class="string">'POST'</span>,data=data,callback=self.index_page)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 每一个回调detail_page的任务有效期是10天</span></span><br><span class="line"><span class="meta">    @config(age=10 * 24 * 60 * 60)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">index_page</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        print(response.text)</span><br><span class="line">        result = response.text.replace(<span class="string">'\\'</span>,<span class="string">''</span>)</span><br><span class="line">        print(result)</span><br><span class="line">        pattern = re.compile(<span class="string">'&lt;a href="(.*?)" target='</span>)</span><br><span class="line">        urls = re.findall(pattern,result)</span><br><span class="line">        <span class="keyword">for</span> url <span class="keyword">in</span> urls:</span><br><span class="line">            mainurl = <span class="string">'https://www.mafengwo.cn'</span></span><br><span class="line">            self.crawl(mainurl + url, callback=self.detail_page,fetch_type=<span class="string">'js'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 数字越大优先级越高</span></span><br><span class="line"><span class="meta">    @config(priority=2)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">detail_page</span><span class="params">(self, response)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="string">"name"</span>: response.doc(<span class="string">'h1'</span>).text(),</span><br><span class="line">        <span class="string">"location"</span>:response.doc(<span class="string">'.mhd &gt; p'</span>).text(),</span><br><span class="line">        <span class="string">"price"</span>:response.doc(<span class="string">'.mod-detail dd &gt; div'</span>).text(),</span><br><span class="line">        <span class="string">"phone"</span>:response.doc(<span class="string">'.tel &gt; .content'</span>).text(),</span><br><span class="line">        <span class="string">"visittime"</span>:response.doc(<span class="string">'.item-time &gt; .content'</span>).text(),</span><br><span class="line">        <span class="string">"website"</span>:response.doc(<span class="string">'.content &gt; a'</span>).text(),</span><br><span class="line"></span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/PySpiderMaFengwo.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PythonKMean"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-11-05 13:41:18" datetime="2018-11-05T05:41:18.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-11-05</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PythonKMean.html">Python Kmeans</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Python Kmeans
&lt;!--more--&gt;</p>
<h1>KMeans</h1>
<ul>
<li>K - means是一个反复迭代的过程，算法分为四个步骤：</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 18-11-5 下午12:10</span></span><br><span class="line"><span class="comment"># @Author  : Vitan</span></span><br><span class="line"><span class="comment"># @File    : Kmeans.py</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">from</span> sklearn.cluster <span class="keyword">import</span> KMeans</span><br><span class="line">x = np.random.randint(<span class="number">1</span>,<span class="number">50</span>,[<span class="number">20</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 定义一个给定形状和类型的用0填充的数组y</span></span><br><span class="line">y = np.zeros(<span class="number">20</span>)</span><br><span class="line">k = <span class="number">3</span> <span class="comment"># 分成3类</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. 选取数据空间中的K个对象作为初始中心，每个对象代表一个聚类中心；</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">initcenter</span><span class="params">(x,k)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x[:k]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. 对于样本中的数据对象，根据它们与这些聚类中心的欧氏距离，</span></span><br><span class="line"><span class="comment"># 按距离最近的准则将它们分到距离它们最近的聚类中心（最相似）所对应的类；</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算欧氏距离</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">nearest</span><span class="params">(kc,i)</span>:</span></span><br><span class="line">    d = abs(kc -i) <span class="comment"># asb() 取绝对值</span></span><br><span class="line">    <span class="comment"># 返回与聚类中心最小距离所在类别的索引号</span></span><br><span class="line">    w = np.where(d == np.min(d))</span><br><span class="line">    <span class="keyword">return</span> w[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按距离最近的准则将它们分到距离它们最近的聚类中心（最相似）所对应的类</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">xclassify</span><span class="params">(x, y, kc)</span>:</span></span><br><span class="line">    <span class="comment"># 对数组的每个值进行分类，shape[0]读取矩阵第一维度的长度</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(x.shape[<span class="number">0</span>]):</span><br><span class="line">        y[i] = nearest(kc, x[i])</span><br><span class="line">        <span class="keyword">return</span> y</span><br><span class="line">kc = initcenter(x,k)</span><br><span class="line">y = xclassify(x,y,kc)</span><br><span class="line">print(kc,y)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 3. 更新聚类中心：将每个类别中所有对象所对应的均值作为该类别的聚类中心，计算目标函数的值；</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kcmean</span><span class="params">(x,y,kc,k)</span>:</span></span><br><span class="line">    l = list(kc)</span><br><span class="line">    flag = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">for</span> c <span class="keyword">in</span> range(k):</span><br><span class="line">        m = np.where(y ==<span class="number">0</span>)</span><br><span class="line">        n = np.mean(x[m])</span><br><span class="line">        <span class="keyword">if</span> l[c] != n:</span><br><span class="line">            l[c] = n</span><br><span class="line">            flag = <span class="literal">True</span></span><br><span class="line">            print(l,flag)</span><br><span class="line">    <span class="keyword">return</span> (np.array(l),flag)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 4 . 判断聚类中心和目标函数的值是否发生改变，若不变，则输出结果，若改变，则返回2）</span></span><br><span class="line">kc = initcenter(x,k)</span><br><span class="line">flag = <span class="literal">True</span> <span class="comment"># 聚类中心发生改变</span></span><br><span class="line">print(x,y,kc,flag)</span><br><span class="line"><span class="keyword">while</span> flag:</span><br><span class="line">    y = xclassify(x,y,kc)</span><br><span class="line">    kc,flag = kcmean(x,y,kc,k)</span><br><span class="line">print(y,kc)</span><br></pre></td></tr></table></figure></p>
<h1>鸢尾花</h1>
<ul>
<li>鸢尾花花瓣长度数据做聚类并用散点图显示</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">iris = load_iris()</span><br><span class="line">data = iris.data</span><br><span class="line">iris_length = data[:,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">x = np.array(iris_length)</span><br><span class="line">y = np.zeros(x.shape[<span class="number">0</span>]) <span class="comment"># x.shape[0] 只读取x的第一维度长度</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 选取数据空间中的K个对象作为初始中心，每个对象代表一个聚类中心；</span></span><br><span class="line">kc = initcenter(x,<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 按距离最近的准则将它们分到距离它们最近的聚类中心（最相似）所对应的类</span></span><br><span class="line">flag = <span class="literal">True</span></span><br><span class="line"><span class="keyword">while</span> flag:</span><br><span class="line">    y = xclassify(x,y,kc)</span><br><span class="line">    kc,flag = kcmean(x,y,kc,<span class="number">3</span>)</span><br><span class="line">print(kc,flag)</span><br><span class="line"></span><br><span class="line">plt.scatter(iris_length, iris_length, c = y,cmap = <span class="string">'rainbow'</span>)</span><br><span class="line">plt.savefig(<span class="string">'花瓣长度散点图.png'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>用sklearn.cluster.KMeans，花瓣长度数据做聚类</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iris_length = data[:, <span class="number">2</span>:<span class="number">3</span>]</span><br><span class="line">kmeans = KMeans(n_clusters = <span class="number">4</span> )</span><br><span class="line">result = kmeans.fit(iris_length)</span><br><span class="line">kc1 = result.cluster_centers_</span><br><span class="line">y_kmeans = kmeans.predict(iris_length) <span class="comment"># 预测每个样本的聚类索引</span></span><br><span class="line"></span><br><span class="line">plt.scatter(iris_length,np.linspace(<span class="number">1</span>,<span class="number">150</span>,<span class="number">150</span>),c = y_kmeans,marker = <span class="string">'D'</span>,cmap = <span class="string">'rainbow'</span>)</span><br><span class="line">plt.savefig(<span class="string">'sklearn.cluster.KMeans长度.png'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>鸢尾花完整数据做聚类</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">k_means1 = KMeans(n_clusters = <span class="number">4</span>)</span><br><span class="line">result1 = k_means1.fit(data)</span><br><span class="line">kc2 = result1.cluster_centers_</span><br><span class="line">y_kmeans1 = k_means1.predict(data)</span><br><span class="line"></span><br><span class="line">plt.scatter(data[:, <span class="number">0</span>], data[:, <span class="number">1</span>], c = y_kmeans1, marker = <span class="string">'p'</span>,cmap = <span class="string">'rainbow'</span>)</span><br><span class="line">plt.savefig(<span class="string">'完整数据聚类.png'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/PythonKMean.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PythonTips"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-10-31 19:38:16" datetime="2018-10-31T11:38:16.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-10-31</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PythonTips.html">Python Tips</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Python 小技巧
&lt;!---more--&gt;</p>
<h1>打印 index</h1>
<p>对列表，数列打印他们的 index</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cities = [<span class="string">'Shanghai'</span>,<span class="string">'beijing'</span>,<span class="string">'Chengdu'</span>]</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> cities:</span><br><span class="line">    print(i +<span class="number">1</span>,<span class="string">'--&gt;'</span>,c)</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法(使用 enumerate)</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cities = [<span class="string">'Shanghai'</span>,<span class="string">'beijing'</span>,<span class="string">'Chengdu'</span>]</span><br><span class="line"><span class="keyword">for</span> i,city <span class="keyword">in</span> enumerate(cities):</span><br><span class="line">    print(i+<span class="number">1</span>,<span class="string">'--&gt;'</span>,city)</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fwscu1oiy9j204d0303yd.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>两个系列循环</h1>
<p>对两个序列进行计算或处理</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'leo'</span>,<span class="string">'jack'</span>,<span class="string">'james'</span>]</span><br><span class="line">colors = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>,<span class="string">'yellow'</span>]</span><br><span class="line">n = min(len(names),len(colors))</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">    print(names[i],<span class="string">'--&gt;'</span>,colors[i])</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法(使用 zip)</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">'leo'</span>,<span class="string">'jack'</span>,<span class="string">'james'</span>]</span><br><span class="line">colors = [<span class="string">'red'</span>,<span class="string">'green'</span>,<span class="string">'blue'</span>,<span class="string">'yellow'</span>]</span><br><span class="line"><span class="keyword">for</span> name,color <span class="keyword">in</span> zip(names,colors):</span><br><span class="line">    print(name,<span class="string">'--&gt;'</span>,color)</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fwscu1m48wj204l02r3yd.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>交换变量</h1>
<p>多个变量之间的交换，如冒泡排序法</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">y = <span class="number">2</span></span><br><span class="line">print(<span class="string">'&gt;&gt;Before:x=&#123;&#125;,y=&#123;&#125;'</span>.format(x,y))</span><br><span class="line">tmp = y</span><br><span class="line">y = x</span><br><span class="line">x = tmp</span><br><span class="line">print(<span class="string">'&gt;&gt;After:x = &#123;&#125;,y = &#123;&#125;'</span>.format(x,y))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">1</span></span><br><span class="line">y= <span class="number">2</span></span><br><span class="line">print(<span class="string">'Before:x = &#123;&#125;,y = &#123;&#125;'</span>.format(x,y))</span><br><span class="line">x,y = y,x</span><br><span class="line">print(<span class="string">'After:x = &#123;&#125;,y = &#123;&#125;'</span>.format(x,y))</span><br></pre></td></tr></table></figure></p>
<p><figure class="image-bubble">
                <div class="img-lightbox">
                    <div class="overlay"></div>
                    <img src="https://ws1.sinaimg.cn/large/d71f8b2fgy1fwscu1nt3kj205a01pt8j.jpg" alt="" title="">
                </div>
                <div class="image-caption"></div>
            </figure></p>
<h1>字典的读取</h1>
<p>对字典的访问和读取，读取的字典 key 为空，需要一个缺省值</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">students = &#123;<span class="string">'Lili'</span>:<span class="number">18</span>,<span class="string">'Sam'</span>:<span class="number">25</span>&#125;</span><br><span class="line"><span class="keyword">if</span> <span class="string">'Susan'</span> <span class="keyword">in</span> students:</span><br><span class="line">    student = students[<span class="string">'Susan'</span>]</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    student = <span class="string">'unknow'</span></span><br><span class="line">print(<span class="string">'Susan is &#123;&#125; yesrs old'</span>.format(student))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">students = &#123;<span class="string">'Lili'</span>:<span class="number">18</span>,<span class="string">'San'</span>:<span class="number">25</span>&#125;</span><br><span class="line">student = students.get(<span class="string">'Susan'</span>,<span class="string">'unknow'</span>)</span><br><span class="line">print(<span class="string">'Susan is &#123;&#125; yesrs'</span>.format(student))</span><br></pre></td></tr></table></figure></p>
<ul>
<li>巧妙地利用字典的 get 的方法。若字典没有 Susan 的 key，则用 unknow 来表示缺省值。</li>
</ul>
<h1>循环查找</h1>
<p>在一个大的循环中作搜索，如在文件中搜索关键字，从文件名列表中查找特殊的文件名</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">target_letter = <span class="string">'d'</span></span><br><span class="line">letters = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line">found = <span class="literal">False</span></span><br><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> letters:</span><br><span class="line">    <span class="keyword">if</span> letter == target_letter:</span><br><span class="line">        print(<span class="string">'Found'</span>)</span><br><span class="line">        found = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> found:</span><br><span class="line">    print(<span class="string">'Not Found'</span>)</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">target_letter = <span class="string">'d'</span></span><br><span class="line">letters = [<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> letter <span class="keyword">in</span> letters:</span><br><span class="line">    <span class="keyword">if</span> letter == target_letter:</span><br><span class="line">        print(<span class="string">'found'</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'Not Found'</span>)</span><br></pre></td></tr></table></figure></p>
<h1>文件读取查找</h1>
<p>打开以文件，对内容进行循环读取处理</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f = open(<span class="string">'data.txt'</span>)</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    text = f.read()</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> text.split(<span class="string">'\n'</span>):</span><br><span class="line">        print(line)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    f.close()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> open(<span class="string">'data.txt'</span>) <span class="keyword">as</span> f:</span><br><span class="line">    <span class="keyword">for</span> line <span class="keyword">in</span> f:</span><br><span class="line">        print(line.strip(<span class="string">'\n'</span>))</span><br></pre></td></tr></table></figure></p>
<h1>关于锁的写法</h1>
<p>对于并发操作尤其是多线程的操作，对同一内存进行读写操作时，加锁保护</p>
<ul>
<li>一般方法</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line"></span><br><span class="line">lock = threading.Lock()</span><br><span class="line">lock.acquire()</span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    print(<span class="string">'Citical par,do somethins...'</span>)</span><br><span class="line"><span class="keyword">finally</span>:</span><br><span class="line">    lock.release()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>更好的方法</li>
</ul>
<h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> threading</span><br><span class="line">lock = threading.Lock()</span><br><span class="line"><span class="keyword">with</span> lock:</span><br><span class="line">    print(<span class="string">'Citical par,do somethins...'</span>)</span><br></pre></td></tr></table></figure></h2>
<p><strong>Via</strong></p>
<ul>
<li><a href="https://www.bilibili.com/read/cv1417439" target="_blank" rel="noopener">七种不一样的Python代码写法，让你写出一手漂亮的代码</a></li>
</ul>

    

        <a href="/posts/PythonTips.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-PySpiderMaoTuYing"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-10-30 19:09:22" datetime="2018-10-30T11:09:22.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-10-30</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a><ul class="article-category-list-child"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/Python/">Python</a></li></ul></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/PySpiderMaoTuYing.html">PySpider 猫途鹰景点</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>PySpider 爬猫途鹰网排名景点并保存至 MongoDB
&lt;!--more--&gt;
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- encoding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># Created on 2018-10-30 18:01:28</span></span><br><span class="line"><span class="comment"># Project: Maotu</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> pyspider.libs.base_handler <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> pymongo</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Handler</span><span class="params">(BaseHandler)</span>:</span></span><br><span class="line">    crawl_config = &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    client = pymongo.MongoClient(<span class="string">'localhost'</span>)</span><br><span class="line">    db = client[<span class="string">'maotu'</span>]</span><br><span class="line"></span><br><span class="line"><span class="meta">    @every(minutes=24 * 60)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">on_start</span><span class="params">(self)</span>:</span></span><br><span class="line">        url = <span class="string">'https://www.tripadvisor.cn/Attractions-g294217-Activities-Hong_Kong.html'</span><span class="string">'</span></span><br><span class="line"><span class="string">        self.crawl(url,callback=self.index_page,validate_cert=False,fetch_type='</span>js<span class="string">')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    @config(age=10 * 24 * 60 * 60)</span></span><br><span class="line"><span class="string">    def index_page(self, response):</span></span><br><span class="line"><span class="string">        for each in response.doc('</span>.attraction_element .listing_title  &gt; a<span class="string">').items():</span></span><br><span class="line"><span class="string">            self.crawl(each.attr.href, callback=self.detail_page,validate_cert=False,fetch_type='</span>js<span class="string">')</span></span><br><span class="line"><span class="string">        nextlink = response.doc('</span>.nav.next<span class="string">').attr.href</span></span><br><span class="line"><span class="string">        self.crawl(nextlink,callback=self.index_page,validate_cert=False,fetch_type='</span>js<span class="string">')</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    @config(priority=2)</span></span><br><span class="line"><span class="string">    def detail_page(self, response):</span></span><br><span class="line"><span class="string">            name =  response.doc('</span>.h1<span class="string">').text(),</span></span><br><span class="line"><span class="string">            rank =response.doc('</span>b &gt; span<span class="string">').text(),</span></span><br><span class="line"><span class="string">            location = response.doc('</span>.headerBL &gt; div<span class="string">').text(),</span></span><br><span class="line"><span class="string">            view = response.doc('</span>.seeAllReviews<span class="string">').text()[:-3],</span></span><br><span class="line"><span class="string">            score = response.doc('</span>.overallRating<span class="string">').text(),</span></span><br><span class="line"><span class="string">            kfsj = response.doc('</span>.headerBL .header_detail<span class="string">').text()[5:],</span></span><br><span class="line"><span class="string">            phone = response.doc('</span>.contact &gt; .phone &gt; div<span class="string">').text()[0:-4]</span></span><br><span class="line"><span class="string">            return &#123;</span></span><br><span class="line"><span class="string">                "name":name,</span></span><br><span class="line"><span class="string">                "rank":rank,</span></span><br><span class="line"><span class="string">                "location":location,</span></span><br><span class="line"><span class="string">                "view":view,</span></span><br><span class="line"><span class="string">                 "score":score,</span></span><br><span class="line"><span class="string">                "kf":kfsj,</span></span><br><span class="line"><span class="string">                "phone":phone</span></span><br><span class="line"><span class="string">        &#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    def on_result(self,result):</span></span><br><span class="line"><span class="string">                if result:</span></span><br><span class="line"><span class="string">                       self.save_to_mongo(result)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    def save_to_mongo(self,result):</span></span><br><span class="line"><span class="string">                if self.db['</span>MaoTU_HongKong<span class="string">'].insert(result):</span></span><br><span class="line"><span class="string">                    print('</span>savinf to mongo<span class="string">',result)</span></span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/PySpiderMaoTuYing.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
        <li class="post-list-item fade">
            <article id="post-IrisSklearn"
  class="article-card article-type-post" itemprop="blogPost">

    <div class="post-meta">
        <time class="post-time" title="2018-10-29 23:02:34" datetime="2018-10-29T15:02:34.000Z"  itemprop="datePublished"><i class="icon icon-calendar"></i> 2018-10-29</time>
        
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Coding/">Coding</a></li></ul>



           
    </div>

    


  
    <h3 class="post-title" itemprop="name">
      <a class="post-title-link" href="/posts/IrisSklearn.html">鸢尾花 Sklearn</a>
    </h3>
  




    <div class="post-content" id="post-content" itemprop="postContent">

    
        <p>Sklearn 鸢尾花
&lt;!--more--&gt;</p>
<h1>鸢尾花</h1>
<p>从sklearn 包自带的数据集中读出鸢尾花数据集 data
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"><span class="comment"># @Time    : 18-10-29 上午11:58</span></span><br><span class="line"><span class="comment"># @Author  : Vitan</span></span><br><span class="line"><span class="comment"># @File    : Sklearn_iris.py</span></span><br><span class="line"><span class="keyword">from</span> sklearn.datasets <span class="keyword">import</span> load_iris</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">data = load_iris()</span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure></p>
<h2>查看data类型，包含哪些数据</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(type(data))</span><br><span class="line">print(data.keys())</span><br></pre></td></tr></table></figure></p>
<h2>取出鸢尾花特征和鸢尾花类别数据，查看其形状及数据类型</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iris_feature = data.feature_names,data.data</span><br><span class="line">iris_target = data.target_names,data.target</span><br><span class="line">print(<span class="string">'鸢尾花特征数据：'</span>,iris_feature)</span><br><span class="line">print(<span class="string">'鸢尾花类别：'</span>,iris_target)</span><br><span class="line">sepal_len = np.array(list(len[<span class="number">0</span>] <span class="keyword">for</span> len <span class="keyword">in</span> data.data))</span><br><span class="line">print(<span class="string">'花萼长度：'</span>,sepal_len)</span><br></pre></td></tr></table></figure></p>
<h2>取出所有花的花萼长度(cm)的数据</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sepal_len = np.array(list(len[<span class="number">0</span>] <span class="keyword">for</span> len <span class="keyword">in</span> data.data))</span><br><span class="line">print(<span class="string">'所有花萼长宽：'</span>,sepal_len)</span><br></pre></td></tr></table></figure></p>
<h2>取出所有花的花瓣长度(cm)+花瓣宽度(cm)的数据</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> data:</span><br><span class="line">  <span class="comment"># 花瓣长度</span></span><br><span class="line">    petal_len = np.array(list(len[<span class="number">2</span>] <span class="keyword">for</span> len <span class="keyword">in</span> data.data))</span><br><span class="line">    <span class="comment"># 花萼宽度</span></span><br><span class="line">    petal_wid = np.array(list(len[<span class="number">3</span>] <span class="keyword">for</span> len <span class="keyword">in</span> data.data))</span><br><span class="line">iris_len = (petal_len,petal_wid)</span><br><span class="line">print(iris_len)</span><br></pre></td></tr></table></figure></p>
<h2>取出某朵花的四个特征及其类别。</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'四个特征'</span>,data.data[<span class="number">1</span>],data.target[<span class="number">1</span>])</span><br></pre></td></tr></table></figure></p>
<h2>将所有花的特征和类别分成三组，每组50个</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">iris_set = []</span><br><span class="line">iris_ver = []</span><br><span class="line">iris_vir = []</span><br><span class="line"></span><br><span class="line"><span class="comment"># 循环遍历所有的数据</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">150</span>):</span><br><span class="line">    <span class="comment"># 类别为0的为 setosa 花，生成一条setosa类的鸢尾花数据</span></span><br><span class="line">    <span class="keyword">if</span> data.target[i] == <span class="number">0</span>:</span><br><span class="line">        Data = data.data[i].tolist()</span><br><span class="line">        Data.append(<span class="string">'setosa'</span>)</span><br><span class="line">        iris_set.append(Data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 类别为1的即为 versicolor，生成一条versicolor类的鸢尾花数据</span></span><br><span class="line">    <span class="keyword">elif</span> data.target[i] == <span class="number">1</span>:</span><br><span class="line">        Data = data.data[i].tolist()</span><br><span class="line">        Data.append(<span class="string">'versicolor'</span>)</span><br><span class="line">        iris_ver.append(Data)</span><br><span class="line">    <span class="comment"># 3 为维吉尼亚鸢尾花</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        Data = data.data[i].tolist()</span><br><span class="line">        Data.append(<span class="string">'virginica'</span>)</span><br><span class="line">        iris_vir.append(Data)</span><br><span class="line">print(iris_set,iris_ver,iris_vir)</span><br></pre></td></tr></table></figure></p>
<h2>生成新的数组，每个元素包含四个特征+类别</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">iris_result = np.array([iris_set, iris_ver, iris_vir])</span><br><span class="line">print(<span class="string">"分组:"</span>, iris_result)</span><br></pre></td></tr></table></figure></p>
<h2>计算鸢尾花花瓣长度的最大值，平均值，中值，均方差。</h2>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#鸢尾花花瓣长度的数据</span></span><br><span class="line">petal_length = np.array(list(len[<span class="number">3</span>] <span class="keyword">for</span> len <span class="keyword">in</span> data.data))</span><br><span class="line">print(petal_length) <span class="comment"># 输出数据</span></span><br><span class="line">print(<span class="string">'花瓣长度的最大值'</span>,np.max(petal_length))</span><br><span class="line">print(<span class="string">'平均值：'</span>,np.mean(petal_length))</span><br><span class="line">print(<span class="string">'中值：'</span>,np.median(petal_length))</span><br><span class="line">print(<span class="string">'均方差：'</span>,np.std(petal_length))</span><br></pre></td></tr></table></figure></p>
<h2>显示鸢尾花某一特征的曲线图，散点图。</h2>
<ul>
<li>曲线图</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">iris_feature = data.feature_names,data.data</span><br><span class="line"></span><br><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">150</span>,num = <span class="number">150</span>)</span><br><span class="line">plt.plot(x,iris_feature)</span><br><span class="line">plt.savefig(<span class="string">"特征曲线图.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>散点图</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x,iris_feature)</span><br><span class="line">plt.savefig(<span class="string">"特征散点图.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h2>np.random</h2>
<ul>
<li>用 np.random.normal() 产生一个正态分布的随机数组，并显示出来。</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mu = <span class="number">50</span></span><br><span class="line">sigma = <span class="number">0.6</span></span><br><span class="line">num = <span class="number">3000</span></span><br><span class="line">zu = np.random.normal(mu,sigma,num)</span><br><span class="line">count,bins,ignored = plt.hist(zu,<span class="number">30</span>,normed = <span class="literal">True</span>)</span><br><span class="line">plt.plot(bins,<span class="number">1</span>/(sigma*np.sqrt(<span class="number">2</span>*np.pi))*np.exp( - (bins-mu)**<span class="number">2</span>/(<span class="number">2</span>*sigma*<span class="number">2</span>)),linewidth=<span class="number">2</span>,color=<span class="string">'g'</span>)</span><br><span class="line">plt.savefig(<span class="string">"np.random.normal().png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>np.random.randn()产生一个正态分布的随机数组，并显示出来。</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">np.random.rand(n) 产生标准正态分布， 即均值为0 标准差为1 的高斯分布</span></span><br><span class="line"><span class="string">同于 np.random.normal(0, 1, n)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line">mu = <span class="number">100</span></span><br><span class="line">sigma = <span class="number">15</span></span><br><span class="line">num_bins = <span class="number">50</span> <span class="comment"># 分隔的段数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 产生500个均值为100， 方差为15 的随机数,等于 x = np.random.normal(100, 15, 500)</span></span><br><span class="line">x = mu + sigma * np.random.randn(<span class="number">500</span>)</span><br><span class="line">fig, ax = plt.subplots()</span><br><span class="line">n, bins, patches = ax.hist(x, num_bins, normed=<span class="literal">True</span>)<span class="comment"># x为数据，ax.hist()即是画柱状图的函数</span></span><br><span class="line">plt.plot(bins,<span class="number">1</span>/(sigma*np.sqrt(<span class="number">2</span>*np.pi))*np.exp( - (bins-mu)**<span class="number">2</span>/(<span class="number">2</span>*sigma*<span class="number">2</span>)),linewidth=<span class="number">2</span>,color=<span class="string">'r'</span>)</span><br><span class="line">plt.savefig(<span class="string">"np.random.randn().png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<h2>显示鸢尾花花瓣长度的正态分布图，曲线图，散点图</h2>
<ul>
<li>正态分布图</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mu = np.mean(petal_length) <span class="comment"># 期望值</span></span><br><span class="line">sigma = np.std(petal_length) <span class="comment"># 标准差</span></span><br><span class="line">num = <span class="number">500</span> <span class="comment"># 个数</span></span><br><span class="line"></span><br><span class="line">normal_data = np.random.normal(mu,sigma,num)</span><br><span class="line">count,bins,ignored = plt.hist(normal_data,<span class="number">20</span>,normed=<span class="literal">True</span>)</span><br><span class="line">plt.plot(bins,<span class="number">1</span>/(sigma*np.sqrt(<span class="number">2</span>*np.pi))*np.exp( - (bins-mu)**<span class="number">2</span>/(<span class="number">2</span>*sigma*<span class="number">2</span>)),linewidth=<span class="number">2</span>,color=<span class="string">'b'</span>)</span><br><span class="line">plt.savefig(<span class="string">"花瓣长度正态分布图.png"</span>)  <span class="comment"># 保存图片文件</span></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>曲线图</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x = np.linspace(<span class="number">0</span>,<span class="number">150</span>,num=<span class="number">150</span>)</span><br><span class="line">plt.plot(x,petal_len)</span><br><span class="line">plt.savefig(<span class="string">"花瓣长度曲线图.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>
<ul>
<li>散点图</li>
</ul>
<p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">plt.scatter(x,petal_len,)</span><br><span class="line">plt.savefig(<span class="string">"花瓣长度散点图.png"</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure></p>

    

        <a href="/posts/IrisSklearn.html" class="post-more waves-effect waves-button">
            阅读全文…
        </a>
    </div>
    
    <div class="post-footer">
        
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Note/" rel="tag">Note</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/WebCrawler/" rel="tag">WebCrawler</a></li></ul>

    </div>
    
</article>

        </li>
    
    </ul>

    
<nav id="page-nav">
    <div class="inner">
    <a class="extend prev" rel="prev" href="/page/6/">上一页</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="page-number current">7</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/8/">下一页</a>
    </div>
</nav>


</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/xml/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>Vitan &copy; 2017 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>


    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: false, REWARD: false };


</script>

<script src="/js/main.min.js?v=1.7.2"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="/js/search.min.js?v=1.7.2" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>

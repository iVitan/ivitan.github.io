<!DOCTYPE html>
<html  lang="zh">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 3.9.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>HCNA NOTE - Vitan&#39;s Blog</title>






<link rel="alternative" href="/atom.xml" title="HCNA NOTE" type="application/atom+xml">



<link rel="icon" href="/images/vitan.png">


<script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-144334903-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-144334903-1');
</script>


    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    
        <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    

    


<link rel="stylesheet" href="/css/style.css">

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-2581760538335948",
    enable_page_level_ads: true
  });
</script>
</head>
<body class="is-2-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.png" alt="HCNA NOTE" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Category</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="RSS" href="/xml/atom.xml">
                        
                        <i class="fa fa-rss"></i>
                        
                    </a>
                    
                
                
                <a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;">
                    <i class="fas fa-list-ul"></i>
                </a>
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-9-widescreen has-order-2 column-main"><div class="card">
    
    <div class="card-image">
        <span  class="image is-7by1">
            <img class="thumbnail" src="/images/Linux.png" alt="HCNA NOTE">
        </span>
    </div>
    
    <div class="card-content article ">
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <i class="fas fa-angle-double-right"></i>HCNA NOTE
            
        </h1>
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                
                
                <div class="level-item">
                <i class="far fa-folder-open has-text-grey"></i>&nbsp;
                <a class="has-link-grey -link" href="/categories/Coding/">Coding</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    <i class="far fa-clock"></i>&nbsp;
                    
                    
                    38 分钟 读完 (约 5646 字)
                </span>
                
                
                <span class="level-item has-text-grey" id="busuanzi_container_page_pv">
                    <i class="far fa-eye"></i>
                    <span id="busuanzi_value_page_pv">0</span>次访问
                </span>
                
                <time class="level-item has-text-grey" datetime="2019-10-20T02:12:16.000Z"><i class="far fa-calendar-alt">&nbsp;</i>2019-10-20</time>
                
                <time class="level-item has-text-grey is-hidden-mobile" datetime="2019-12-23T07:46:10.558Z"><i class="far fa-calendar-check">&nbsp;</i>2019-12-23</time>
                
            </div>
        </div>
        
        <div class="content">
            <p>HCNA 学习笔记</p>
<h1 id="网络整体架构">网络整体架构</h1>
<h2 id="企业网络">企业网络</h2>
<p>企业网络：包括小型办公室、教育、政府、银行等行业或机构</p>
<ul>
<li>企业网络远程互联：</li>
</ul>
<p><img src="https://i.loli.net/2019/10/19/ci9HUqC17B53GvV.png" alt></p>
<p>总公司与分公司使用广域网链路(WAN)互联</p>
<a id="more"></a>
<h3 id="企业网络基本架构">企业网络基本架构</h3>
<ol>
<li>小型企业：通常采用扁平网络结构，扩展能力低。</li>
<li>大型企业：通常采用层次化结构以支撑网络的扩展和用户的增长。</li>
</ol>
<ul>
<li>结构图(左小右大)
<img src="https://i.loli.net/2019/10/19/b9xZIt12lcgOifu.png" alt></li>
</ul>
<h1 id="网络基本管理及模拟器使用">网络基本管理及模拟器使用</h1>
<h2 id="常用的传输介质">常用的传输介质</h2>
<p>双绞线、光纤、Radio(蓝牙等)、同轴电缆(几乎淘汰)</p>
<h3 id="双绞线-8芯">双绞线(8芯)</h3>
<p>有多种类型，不同类型传输速度不同和，超5类、6类最常用。RJ-45水晶头</p>
<p><code>568A标准</code>：白绿，绿，白橙，蓝，白蓝，橙，白棕，棕
<code>568B标准</code>：白橙，橙，白绿，蓝，白蓝，绿，白棕，棕</p>
<p><code>交叉线</code>：一头采用568A标准，一头采用568B标准
<code>平行线/直通线</code>：两头采用同样的标准（同为568A标准或568B标准）</p>
<p>相同设备使用交叉线，不同设备使用直通线，现在很多设备都有自适应。</p>
<h3 id="光纤">光纤</h3>
<p><code>单模光纤(S)</code>：颜色多为黄色，连接头多为蓝色或绿色，只能传输一种模式的广。不存在模间色散，适用于 <code>长距离高速传输</code>
<code>多模光纤(M)</code>:线缆颜色千兆多位橙色、万兆多为水蓝色，连接头多位灰白色，允许不同模式的光在一根光纤上传输，由于模间色散较大而导致信号脉冲展宽严重，因此主要用于局域网的短距离传输。</p>
<p>区别：主要在传输距离，单模长距离，多模短距离。单模和多模差异在传输距离</p>
<p>洲际的传输使用的是 <code>光缆</code>，不是光纤。</p>
<p>常用光纤连接器：ST，FC，SC，LC连接器。连接器有帽子，要拿掉才能连接。</p>
<h3 id="串口电缆">串口电缆</h3>
<p>网络通信中常用和推荐的串口电缆标准为 RS-232，但传输速率有限仅为6米。
RS-422和RS-485的传输距离可达1200米。接头常用V.35(80年代淘汰)，但仍在帧中继、ATM等传统网络上使用。
V.24为RS-232标准的欧洲版，RS-232本身没有定义接头标准，RS-232逐渐被FireWire，USB等取代。新产品和设备已经普遍使用USB标准。</p>
<h2 id="ensp-模拟器">ENSP 模拟器</h2>
<p>关闭Windows防火墙，不要装各种管家。
尽量少运行软件，可能会干扰 virtunal-box。
重新注册要关闭ENSP，个人文件夹下的.VirtualBox彻底删除。注册完毕之后关闭ENSP然后再开启。</p>
<h2 id="冲突域">冲突域</h2>
<p><img src="https://i.loli.net/2019/10/19/ik3RlpEa1FXoTDH.jpg" alt></p>
<p>应用场景：多点接入网络(MA),如交换机(Switch)</p>
<p>冲突域与半双工搭配</p>
<p><img src="https://i.loli.net/2019/10/19/n2aqxv1Vpy8bukJ.png" alt></p>
<p>单工：简单的说就是一方只能发信息，另一方则只能收信息，通信是单向的。
半双工：比单工先进一点，就是双方都能发信息，但同一时间则只能一方发信息。
全双工：比半双工再先进一点，就是双方不仅都能发信息，而且能够同时发送。</p>
<p>半双工和全双工都支持双向数据传输。</p>
<p>共享式网络中，不同的主机同时发送数据时，就会产生信号冲突的问题，解决方法一般是：采用<code>载波侦听多路访问/冲突检测技术(CAMA/CD)</code>的基本工作过程如下：</p>
<ol>
<li>终端设备不同地检测共享网路的状态。如果线路空闲，则可以发送数据，线路不空闲，则等待一段时间后据徐检测(延时时间由退避算法决定)。</li>
<li>如有另一个设备同时发送数据，两个设备发送的数据会产生冲突。</li>
<li>终端设备检测到冲突之后，马上停止发送自己的数据，并发送特俗阻塞信息，以强化冲突信号，使线路上的其他站点能够尽早检测冲突。</li>
<li>终端设备检测到冲突后，等待一段时间后再将进行数据发送(延时时间由退避算法决定)。</li>
</ol>
<p>CSMA/CD 的工作原理：先听后发，边发边听，冲突停发，随机延迟后重发。</p>
<p>Q:用串行线路能否构建MA网络
A:肯定可以</p>
<p>NBMA(非广播多路访问)：物理架构(ATM、帧中继网络)----NMBMA(网络设计)—VPN(DSVPN)。</p>
<h2 id="熟悉以及远程管理设备的实验">熟悉以及远程管理设备的实验</h2>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">interface GigabitEnternet0/0/0/0 <span class="hljs-comment"># 进入接口</span></span><br><span class="line">ip address 10.1.1.1 255.255.255.0</span><br></pre></td></tr></table></figure>
<p>常用命令</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sysname R1 <span class="hljs-comment"># 修改设备名字</span></span><br><span class="line">ip address 10.1.1.1.7 <span class="hljs-comment"># 配置IP地址</span></span><br><span class="line">ip address mask  10.1.1.1.7 24 <span class="hljs-comment"># 配置IP地址和掩码</span></span><br><span class="line">diaplay this <span class="hljs-comment"># 显示当前模式</span></span><br><span class="line">dis ip int bri <span class="hljs-comment"># 查看接口开启情况</span></span><br><span class="line">undo shutdown <span class="hljs-comment"># </span></span><br><span class="line">q <span class="hljs-comment"># 退出</span></span><br><span class="line"></span><br><span class="line">user-interface <span class="hljs-comment"># 用户接口</span></span><br><span class="line">user-interface ？ <span class="hljs-comment"># 查看帮助</span></span><br><span class="line"></span><br><span class="line">user-interface vty 0 4 <span class="hljs-comment"># 开启虚拟终端管理</span></span><br><span class="line"><span class="hljs-built_in">set</span> authentication password cipher pass <span class="hljs-comment"># 设置认证密码为pass</span></span><br><span class="line"></span><br><span class="line">talent 10.1.1.1 <span class="hljs-comment"># 远程管理设备，不能进入system-view</span></span><br><span class="line"></span><br><span class="line">diaplay ip routting0table <span class="hljs-comment"># 查看路由表</span></span><br></pre></td></tr></table></figure>
<h1 id="网络各种分层结构">网络各种分层结构</h1>
<h2 id="网络分层基础">网络分层基础</h2>
<blockquote>
<p>网络的层次化不要以设备最为标准，要以协议作为分层的标准。</p>
</blockquote>
<h3 id="osi-开放式系统互联模型-七层模型：">OSI(开放式系统互联模型) 七层模型：</h3>
<ol>
<li>应用层：为应用程序提供网络服务</li>
<li>表示层：数据格式化，加密、解密，如：jpg，gif</li>
<li>会话层：建立、维护、管理会话连接,系统(Linux,iOS,Android)在此</li>
<li>传输层：建立、维护、管理端到端连接，单位：段(segment)，TCP/UDP连个协议</li>
<li>网络层：IP寻址和路由选择,单位：包，有200多个协议</li>
<li>数据链路层：控制网络层与物理层之间的通讯，单位：帧(frame)</li>
<li>物理层：比特流传输，单位：比特(bit)</li>
</ol>
<p>应用层、表示层、会话层：单位统称为：协议数据单元(PDU)
<code>物理层</code>在TCP/IP中被称为<code>互联网层</code>(Internet Protocal)</p>
<h3 id="tcp-ip-工业标准">TCP/IP(工业标准)</h3>
<ol>
<li>应用层 (TELNET、FTP、SMTP)</li>
<li>传输层 (TCP、UDP)</li>
<li>互联网层 (IP、ICMP),路由</li>
<li>网络接口层 (PPP)，交换</li>
</ol>
<h2 id="数据封装">数据封装</h2>
<p><img src="https://i.loli.net/2019/10/19/wHVmxltdUp7POZY.png" alt="批注 2019-10-19 142448.png"></p>
<p>每一层都有一个头部</p>
<h2 id="tcp与udp的概念相互的区别及优劣">TCP与UDP的概念相互的区别及优劣</h2>
<ol>
<li>TCP面向连接，UDP面向无链接</li>
<li>TCP面向报文，UDP面向字节流</li>
<li>TCP提供可靠传输服务（数据顺序、正确性），UDP传输不可靠</li>
<li>TCP协议传输速度慢，UDP协议传输速度快</li>
<li>TCP协议对系统资源要求多（头部开销大），UDP协议要求少*</li>
</ol>
<h2 id="vrp-的操作">VRP 的操作</h2>
<p>管理vlan(虚拟局域网)</p>
<figure class="highlight bash hljs"><figcaption><span>SW1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">sysname SW1</span><br><span class="line">interface vlanif 1</span><br><span class="line">ip address 10.1.1.1 24</span><br><span class="line">display this</span><br></pre></td></tr></table></figure>
<figure class="highlight bash hljs"><figcaption><span>SW2</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">sysname SW2</span><br><span class="line">interface vlan 1</span><br><span class="line">ip address 10.1.1.2 24</span><br></pre></td></tr></table></figure>
<p>ENSP自带了网络报文解析器。右键设备-数据抓包</p>
<h1 id="ehternet基础">Ehternet基础</h1>
<blockquote>
<p>网络中传输数据时需要定义并遵循一些标准，以太网是根据IEEE802.3 标准来管理和控制数据帧的。了解IEEE802.3标准是充分理解以太网中链路层通讯的标准。</p>
</blockquote>
<ul>
<li>IEEE 是局域网标准</li>
</ul>
<h2 id="以太网帧">以太网帧</h2>
<p>以太网(最流行，最常用，效率最高)，它的数据链路层基于MAC地址进行帧的传输。
PR：
FR(MA网络)：帧中继靠的是DLCI
PPP(ppp网络)、HDLC(ppp网络)：什么都不靠</p>
<h2 id="以太网mac地址">以太网MAC地址</h2>
<p>以太网的MAC地址(Media Access Control Address)：
由两部分组成:前24位的供应商代码、后24位的序列号。供应商代码由IEEE管理和分配。</p>
<p><img src="https://i.loli.net/2019/10/19/jVUx84uDd6HQGRB.png" alt></p>
<p>OUI：厂商序号</p>
<h3 id="mac分类">MAC分类</h3>
<p>单一的源段发送到单一的目的端，每个主机接口由一个MAC地址唯一标识，MAC地址的OUI中第一字节第8个比特表示地址类型，对于主机MAC地址这个比特固定为0如，表示目的的MAC地址为此MAC地址的帧都是发送到某个唯一的端。在冲突域中，所有主机都能收到源主机发送的单播帧，但其他主机发现目的地址与本地MAC地址不一致后会丢弃收到的帧，只有真正的目的主机才会接收并处理收到的帧</p>
<p><code>单播MAC</code>(1 V 1)：01001100 第一字节的最后一位：0
<code>组播MAC</code>(1 V n): 00000001 第一字节的最后一位：1
<code>广播MAC</code>(1 V all): F1111111 第一字节的最后一位：1</p>
<p>01005E:经典的组播MAC</p>
<h2 id="以太网封装格式">以太网封装格式</h2>
<p>以太网两种最常用的以太网封装格式：以太2型和802.3</p>
<p>80年代初：DIX v2，1983年：提出IEEE8.2.3</p>
<p>类型的位置除了IP(0800)还有ARP(0806),PPPoE,MP,IPv6c</p>
<p>两种协议的主要区别在于：</p>
<p>EnternetII格式中包含一个Type字段，标识以太网帧处理完成值后将被发送到哪个上层协议进行处理。IEEE802.3格式同样的位置是长度字段。</p>
<p>以太网帧中的Type字段为0X0800，表示该帧的网络层协议为IP协议。</p>
<p>不同的Type字段值可以用来区别这两种帧的类型:</p>
<p><code>EnternetII格式</code>: Length/Type &gt;= 1536(0x0600)
<img src="https://i.loli.net/2019/10/19/To9jSpQuv6ANefi.png" alt></p>
<p><code>IEEE802.3格式</code>: Length/Type &lt;= 1500(0x05DC)
<img src="https://i.loli.net/2019/10/19/V1tadSRlEiCQgFM.png" alt></p>
<p>以太网帧中还包括源和目的的MAC地址，分别代表发送者和接受者的MAC，此外还有帧校验序列字段，用于检验传输过程中的完整性。</p>
<h1 id="以太网ip地址网络基础和ftp">以太网IP地址网络基础和FTP</h1>
<h2 id="ip编制">IP编制</h2>
<h3 id="ip编制组成">IP编制组成</h3>
<p><img src="https://i.loli.net/2019/10/19/ndLwcGxUgrkJhCq.png" alt></p>
<ol>
<li>IP 地址分为网络部分和主机部分</li>
<li>IP 地址由32个二进制位组成，通常用点分十进制形式表示。</li>
</ol>
<ul>
<li>IP报文头部</li>
</ul>
<p><img src="https://i.loli.net/2019/10/19/R1GazuNob9qBnwY.png" alt></p>
<p>Tyep[Data] 的 1500 包括IP报头</p>
<h2 id="以太网ipv4基础和分类">以太网IPv4基础和分类</h2>
<p><code>/8</code>：代表掩码，作用：区分网络和主机，代表8个连续的1(255.0.0.0)
<code>127.0.0.0/8</code> ：网络(主机位全为0)
<code>127.255.255.255/8</code> ：广播地址(主机全为1)</p>
<p>每个网段上有两个特俗地址不能分配给主机或网络设备。(除网络地址和广播地址外的其他IP地址可以作为网络设备的IP地址)</p>
<ol>
<li>
<p>IP地址主机位全为0(而不是无端一定为0)，表示一个网段。</p>
</li>
<li>
<p>该网段中的广播地址，目的地址为广播地址的报文会被该网段中的所有网络设备接受，广播地址的主机位全为1.</p>
</li>
</ol>
<h2 id="网络的进制">网络的进制</h2>
<p>二进制，十进制，十六进制(MAC)</p>
<h2 id="ipv4地址分类">IPv4地址分类</h2>
<p><img src="https://i.loli.net/2019/10/19/JEgjcsGPN43vtYD.png" alt></p>
<h3 id="地址范围">地址范围</h3>
<p>A类：1.0.0.1~126.255.255.254
B类：128.1.0.1~191.255.255.254
C类：192.0.1.1~223.255.255.254
D类：224.0.0.0～239.255.255.255
E类：240.0.0.1~255.255.255.254</p>
<ul>
<li>NET: ABCDE的有类网络</li>
<li>subset：即子网(一个大的网络划分成小的网络)</li>
</ul>
<p>10.2.8.3/24 可以容纳的主机：2^8-2</p>
<h3 id="ip地址类型">IP地址类型</h3>
<p>互联网标准：RFC</p>
<ul>
<li>私有地址</li>
</ul>
<ol>
<li>10.0.0.0~10.255.255.255</li>
<li>127.16.0.0~127.31.55.255</li>
<li>192.168.0.0~192.158.255.255</li>
</ol>
<ul>
<li>特俗地址</li>
</ul>
<ol>
<li>127.0.0.0~127.255.255.255, 127.0.0.1主机环回地址</li>
<li>0.0.0.0</li>
<li>255.255.2555.255(本地广播地址，是0.0.0.0的广播地址)</li>
</ol>
<h2 id="子网掩码-subset-mask">子网掩码(subset mask)</h2>
<p><img src="https://i.loli.net/2019/10/19/YGBtav3hmNwMCDi.png" alt></p>
<ul>
<li>默认子网掩码</li>
</ul>
<p><img src="https://i.loli.net/2019/10/19/s25D4BLpFRfkITJ.png" alt></p>
<p>A类：8位
B类：16位
C类：24位</p>
<h2 id="地址规划">地址规划</h2>
<p><img src="https://i.loli.net/2019/10/19/xzUOeirdFZqsyjh.png" alt></p>
<ul>
<li>举例</li>
</ul>
<p><img src="https://i.loli.net/2019/10/19/iNvgm3yKU5ehRZn.png" alt></p>
<p>由子网掩码可知：172.10.1.7/16，所以网络地址为：172.16.0.0(主机位全为0)，主机数：2^16,可用主机数: 2^16-2</p>
<p>例子：10.1.8.3/24的网络是什么？第一个可用主机是？最后一个可用主机？可用主机是多少？
10.1.8.0，10.1.8.1，10.1.8.254，$2^8$-2=254</p>
<ul>
<li>变长子网掩码</li>
</ul>
<p><img src="https://i.loli.net/2019/10/20/ScY1AUKshDLRvx4.png" alt></p>
<p>192.168.1.7/25</p>
<h2 id="有类ip编址的缺陷">有类IP编址的缺陷</h2>
<p>在设计网络时使用有类IP地址会造成地址的浪费。
<img src="https://i.loli.net/2019/10/19/Sv8LD5ZQUioz7lw.png" alt></p>
<h2 id="划分子网方法">划分子网方法</h2>
<ol>
<li>
<p>根据需要的子网数目来确定子网位数，但是要确保每个子网可用的IP地址数目大于等于本机数。
优点：简单
缺点：每个子网的实际主机数不同，但分配的IP地址数目相同，可能浪费IP地址</p>
</li>
<li>
<p>根据每个子网的主机数目来确定主机数位，然后确定子网数位。
优点：比较充分地利用IP地址
缺点：复杂</p>
</li>
</ol>
<h2 id="计算">计算</h2>
<h3 id="科学但麻烦的方法">科学但麻烦的方法</h3>
<p>要转换二进制
二进制:1代表网络，0代表主机。</p>
<ol>
<li>子网的数目 = $2^x$ (x代表子网位数)</li>
<li>可用主机数目 = $2^y$-2 (y代表主机位数)</li>
<li>主机位为全1的地址时广播地址=下个子网号-1</li>
<li>主机位全为0的地址是网络地址。</li>
</ol>
<ul>
<li>利用子网数目计算子网掩码</li>
</ul>
<blockquote>
<p>把B类地址172.16.0.0划分成30个子网络，它的子网掩码是多少？</p>
</blockquote>
<p>将子网络数目30转换成二进制表示11110
统计一下这个二进制的数共有5位
注意：当二进制数中只有一个1的时候，所统计的位数需要减1（例如：10000要统计为4位）
将B类地址的子网掩码255.255.0.0主机地址部分的前5位变成1
这就得到了所要的子网掩码（11111111.11111111.11111000.00000000）255.255.248.0。</p>
<ul>
<li>利用主机数目计算子网掩码</li>
</ul>
<blockquote>
<p>把B类地址172.16.0.0划分成若干子网络，每个子网络能容纳500台主机，它的子网掩码是多少？</p>
</blockquote>
<p>把500转换成二进制表示111110100
统计一下这个二进制的数共有9位
将子网掩码255.255.255.255从后向前的9位变成0
这就得到了所要的子网掩码（11111111.11111111.11111110.00000000）255.255.254.0。</p>
<ul>
<li>利用子网掩码计算最大有效子网数</li>
</ul>
<blockquote>
<p>A类IP地址，子网掩码为255.224.0.0，它所能划分的最大有效子网数是多少？</p>
</blockquote>
<p>将子网掩码转换成二进制表示11111111.11100000.00000000.00000000
统计一下它的网络位共有11位
A类地址网络位的基础数是8，二者之间的位数差是3
最大有效子网数就是$2^3$，即最多可以划分8个子网络。</p>
<ul>
<li>利用子网掩码计算最大可用主机数</li>
</ul>
<blockquote>
<p>A类IP地址，子网掩码为255.252.0.0，将它划分成若干子网络，每个子网络中可用主机数有多少？</p>
</blockquote>
<p>将子网掩码转换成二进制表示11111111.11111100.00000000.00000000
统计一下它的主机位共有18位
最大可用主机数就是 2^18-2（除去全是0的网络地址和全是1广播地址），即每个子网络最多有262142台主机可用。</p>
<ul>
<li>利用子网掩码确定子网络的起止地址</li>
</ul>
<blockquote>
<p>B类IP地址172.16.0.0，子网掩码为255.255.192.0，它所能划分的子网络起止地址是多少？</p>
</blockquote>
<p>利用子网掩码计算，最多可以划分4个子网络
利用子网掩码计算，每个子网络可容纳16384台主机（包括网络地址和广播地址）
用16384除以256（网段内包括网络地址和广播地址的全部主机数），结果是64
具体划分网络起止方法如下：
172.16.0.0～172.16.63.255
172.16.64.0～172.16.127.255
172.16.128.0～172.16.191.255
172.16.192.0～172.16.255.255</p>
<p><a href="http://blog.sina.com.cn/s/blog_5753d0930101fxdf.html" target="_blank" rel="noopener">参考来源</a></p>
<h2 id="快速但需要检验的方法">快速但需要检验的方法</h2>
<p>快的方式(Block):几个主机位,算B类地址比较麻烦.</p>
<ul>
<li>例子</li>
</ul>
<p>132.56.45.7/30,网络位，主机位多少？</p>
<p>30转成二进制：1111，1100，后两位的0的块：$2^2$,一块最多4个主机(0-3,4-7,8-11)</p>
<h2 id="cidr-无类域间路由">CIDR 无类域间路由</h2>
<p><a href="http://cidrreport.org" target="_blank" rel="noopener">cidrreport.org</a>
无间路由(Classless Inter Domain Routing):由RFC1871定义。突破传统的地址分类边界，将路由表中的若干条线路汇聚成一条路由，减少了路由表的规模，提高了路由的可扩展性。</p>
<p><img src="https://i.loli.net/2019/10/20/xD3bcuXPFsLTiSZ.png" alt></p>
<p>图中：转成二进制：
10.24.0000，0000.0
10.24.0000，0001.0
10.24.0000，0010.0
10.24.0000，0011.0</p>
<p>转二进制部分只有后两位不一样。把网络往前推（子网是Mask边长汇总是Mask变短),原来是24，变短就是22.</p>
<h2 id="网关-gateway">网关(Gateway)</h2>
<p>用来转发来自不同网段之间的数据包。</p>
<p><img src="https://i.loli.net/2019/10/20/6y7Jc51WoUZINP8.png" alt></p>
<h2 id="实施ftp">实施FTP</h2>
<ul>
<li>文件传输</li>
</ul>
<p>FTP：文件传输协议 (华为居多)，基于TCP，两个端口号,控制端口一般为21，而数据端口不一定是20，和FTP的应用模式有关，如果是主动模式，应该为20，如果为被动模式，由服务器端和客户端协商而定。
TFTP：简单文件传输协议 (思科居多)，基于UDP</p>
<ol>
<li>网络连通性
···bash SW1
interface vlanf1
ip address 10.1.1.1 255.255.255.0</li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">```bash SW2</span><br><span class="line">interface vlanf1</span><br><span class="line">ip address 10.1.1.2 255.255.255.0</span><br></pre></td></tr></table></figure>
<p>测试连通性</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping 10.1.1.1.2</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>开启FTP服务</li>
</ol>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ftp server <span class="hljs-built_in">enable</span></span><br><span class="line">diaplay ftp-servver <span class="hljs-comment"># 查看状态</span></span><br></pre></td></tr></table></figure>
<ol start="3">
<li>实施FTP
开启3A（认证，授权，统计）</li>
</ol>
<figure class="highlight bash hljs"><figcaption><span>SW1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">aaa</span><br><span class="line"><span class="hljs-built_in">local</span>-user Endar password simple userName <span class="hljs-comment"># 增加用户名和密码</span></span><br><span class="line"><span class="hljs-built_in">local</span>-user Endar level 15 <span class="hljs-comment"># 设置最高的访问权限，0-15级</span></span><br><span class="line"><span class="hljs-built_in">local</span>-user Endar ftp-directory flash: <span class="hljs-comment"># 共享所有目录，后面可以指定其他</span></span><br><span class="line"><span class="hljs-built_in">local</span>-user Endar server-type ftp <span class="hljs-comment"># 设置用户服务用于ftp协议</span></span><br><span class="line">save Endar.zip <span class="hljs-comment"># 保持配置文件</span></span><br></pre></td></tr></table></figure>
<p>客户端测试</p>
<figure class="highlight bash hljs"><figcaption><span>SW2</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ftp 10.1.1.1 <span class="hljs-comment"># 后输入用户名、密码</span></span><br><span class="line">dir <span class="hljs-comment"># 查考目录</span></span><br><span class="line">get Endar.zip <span class="hljs-comment"># 获取文件</span></span><br><span class="line">q <span class="hljs-comment"># 退出</span></span><br></pre></td></tr></table></figure>
<h1 id="以太网ip头部概述和vrp相关讲解">以太网IP头部概述和VRP相关讲解</h1>
<p>一公司四个部门，5、25、27、15人，规划每个部门vlan，给固定长度掩码：192.168.1.0/27，192.168.1.32/27，192.168.1.64/27，192.168.1.96/27</p>
<h2 id="ip包头的重要字段">IP包头的重要字段</h2>
<h2 id="vrp基础-应用">VRP基础(应用)</h2>
<h1 id="vrp-通用路由平台-的ftp应用">VRP(通用路由平台)的FTP应用</h1>
<p>可以Web、Cli登录
常用密码：Admin@huawei</p>
<h2 id="设备初始化启动">设备初始化启动</h2>
<p>bios 自检
内存检测
copy 数据(VRP包拷贝)
解压缩到内存
CTRL + B 停止自动启动(后可以初始密码)</p>
<h2 id="命令行视图">命令行视图</h2>
<p><img src="https://i.loli.net/2019/10/20/RLPUMe4njqVylga.png" alt></p>
<ul>
<li>用户视图</li>
</ul>
<p>清除、display、保存</p>
<ul>
<li>系统视图(system-view)</li>
</ul>
<p>以中括号显示。可以display，但不能清除、保存
配置系统参数</p>
<ul>
<li>
<p>接口视图</p>
</li>
<li>
<p>协议视图
OSPF、BGP、is-is</p>
</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">ospf <span class="hljs-comment"># 进入 osp 协议设置</span></span><br><span class="line">bgp <span class="hljs-comment"># 将进入 bgp协议设置</span></span><br></pre></td></tr></table></figure>
<h2 id="命令行功能">命令行功能</h2>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CTRL + A</td>
<td style="text-align:left">光标移动到当前目录行最前端</td>
</tr>
<tr>
<td style="text-align:left">CTRL + E</td>
<td style="text-align:left">光标移动到当前目录行最末端</td>
</tr>
<tr>
<td style="text-align:left">CTRL + C</td>
<td style="text-align:left">停止当前命令的运行</td>
</tr>
<tr>
<td style="text-align:left">CTRL + Z</td>
<td style="text-align:left">回到用户视图</td>
</tr>
<tr>
<td style="text-align:left">CTRL + ]</td>
<td style="text-align:left">终止当前连接或切换连接</td>
</tr>
<tr>
<td style="text-align:left">Backspace</td>
<td style="text-align:left">删除光标左边的第一个字符</td>
</tr>
<tr>
<td style="text-align:left">⬅ Or CTRL + B</td>
<td style="text-align:left">光标左移一位</td>
</tr>
<tr>
<td style="text-align:left">➡ Or CRTL + F</td>
<td style="text-align:left">光标右移一位</td>
</tr>
<tr>
<td style="text-align:left">TAB</td>
<td style="text-align:left">输入一个不完整的命令按TAB进行补全</td>
</tr>
</tbody>
</table>
<h2 id="命令行在线帮助">命令行在线帮助</h2>
<ul>
<li>部分帮助</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Huawei&gt;d?</span><br><span class="line">&lt;Huawei&gt;display h?</span><br></pre></td></tr></table></figure>
<ul>
<li>完全帮助</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Huawei&gt;?</span><br><span class="line">&lt;Huawei&gt;dislay?</span><br></pre></td></tr></table></figure>
<h2 id="命令等级">命令等级</h2>
<table>
<thead>
<tr>
<th style="text-align:left">用户等级</th>
<th style="text-align:left">命令等级</th>
<th style="text-align:left">名称</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">0</td>
<td style="text-align:left">访问级</td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">0 and 1</td>
<td style="text-align:left">监控级</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left">0，1 and 2</td>
<td style="text-align:left">配置级</td>
</tr>
<tr>
<td style="text-align:left">3-15</td>
<td style="text-align:left">0，1，2 and 3</td>
<td style="text-align:left">管理级</td>
</tr>
</tbody>
</table>
<p>允许某管理员保存系统配置，则可以将save命令的级别提高到4级，并定义只有该管理员有4级权限。就可以在不影响其他用户的情况下，实现命令的使用控制。</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line"><span class="hljs-built_in">command</span>-privileage level 2 view user save</span><br></pre></td></tr></table></figure>
<h2 id="用户界面">用户界面</h2>
<p>VTY接口最大可配范围：0~4</p>
<table>
<thead>
<tr>
<th style="text-align:left">用户界面类型</th>
<th style="text-align:left">编号</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Console</td>
<td style="text-align:left">0</td>
</tr>
<tr>
<td style="text-align:left">VTY</td>
<td style="text-align:left">0~4</td>
</tr>
</tbody>
</table>
<figure class="highlight bash hljs"><figcaption><span>R1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">user-intetface vty 0 4</span><br><span class="line"><span class="hljs-built_in">set</span> authentication password clipher pass</span><br></pre></td></tr></table></figure>
<figure class="highlight bash hljs"><figcaption><span>R2</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">talnet 12.1.1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight bash hljs"><figcaption><span>R1</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">diaplay users <span class="hljs-comment"># 查看用户</span></span><br><span class="line">user privilege level 2 <span class="hljs-comment"># 设置用户登陆权限</span></span><br></pre></td></tr></table></figure>
<p><code>user-interface maximum-vty number</code> 可以配置同时登陆到设备的VTY类型用户界面的最大个数，如最大登录用户数设为0，则任何用户都不能通过Telnet或者SSH登陆到路由器。</p>
<ul>
<li>配置用户界面命令</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">idle-tineout</td>
<td style="text-align:left">设置超时时间默认十分钟</td>
</tr>
<tr>
<td style="text-align:left">screen-length</td>
<td style="text-align:left">设置指定终端屏幕的临时显示行数(0不显示)</td>
</tr>
<tr>
<td style="text-align:left">history-command max-size</td>
<td style="text-align:left">设置历史命令缓冲区的大小</td>
</tr>
</tbody>
</table>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">user-interface console 0</span><br><span class="line">histoty-command max-size 20</span><br><span class="line">indle-timeout 1 30 <span class="hljs-comment"># 1分20秒(最好不要改))</span></span><br></pre></td></tr></table></figure>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">user-interface console 0</span><br><span class="line">screen-length 512 <span class="hljs-comment"># 最大行数512</span></span><br></pre></td></tr></table></figure>
<h2 id="ctr-快捷键">CTR 快捷键</h2>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">解释</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">CTRL + TAB</td>
<td style="text-align:left">到达后一标签</td>
</tr>
<tr>
<td style="text-align:left">CTRL + SHIFT + TAB</td>
<td style="text-align:left">前一标签</td>
</tr>
<tr>
<td style="text-align:left">ALT + 数字</td>
<td style="text-align:left">直接到达某标签</td>
</tr>
</tbody>
</table>
<h2 id="配置标题消息">配置标题消息</h2>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 配置在用户登录前显示的标题信息</span></span><br><span class="line">header login information <span class="hljs-string">"Welcome to huawei certification"</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 配置在用户登陆后显示的标题信息</span></span><br><span class="line">header shell information <span class="hljs-string">"Please dont't reboot this devices"</span></span><br></pre></td></tr></table></figure>
<p><code>dis current-configuration | ?</code>
<code>dis current-configuration | include header</code> 显示包含 header 的命令有哪些</p>
<h1 id="文件系统管理">文件系统管理</h1>
<h2 id="基本命令">基本命令</h2>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">pwd</td>
<td style="text-align:left">查看当前目录</td>
</tr>
<tr>
<td style="text-align:left">dir</td>
<td style="text-align:left">显示当前目录下的文件信息</td>
</tr>
<tr>
<td style="text-align:left">more</td>
<td style="text-align:left">查看文本文件的具体内容</td>
</tr>
<tr>
<td style="text-align:left">cd</td>
<td style="text-align:left">修改当前用户当前界面的工作目录</td>
</tr>
<tr>
<td style="text-align:left">mkdir</td>
<td style="text-align:left">创建新目录</td>
</tr>
<tr>
<td style="text-align:left">rmdir</td>
<td style="text-align:left">删除目录</td>
</tr>
<tr>
<td style="text-align:left">copy</td>
<td style="text-align:left">复制文件</td>
</tr>
<tr>
<td style="text-align:left">move</td>
<td style="text-align:left">移动文件</td>
</tr>
<tr>
<td style="text-align:left">rename</td>
<td style="text-align:left">村民们文件</td>
</tr>
<tr>
<td style="text-align:left">delete / unreserved</td>
<td style="text-align:left">删除/永久删除文件</td>
</tr>
<tr>
<td style="text-align:left">undelete</td>
<td style="text-align:left">恢复删除的文件</td>
</tr>
<tr>
<td style="text-align:left">reset recycle-bin</td>
<td style="text-align:left">彻底删除回收站的文件</td>
</tr>
<tr>
<td style="text-align:left">save</td>
<td style="text-align:left">保存配置，要在用户模式下</td>
</tr>
</tbody>
</table>
<h2 id="配置文件管理">配置文件管理</h2>
<p><img src="https://i.loli.net/2019/10/20/B7dYZRDnW2tQmc6.png" alt></p>
<ul>
<li>配置文件查询</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">diaplay curremt-contiguration</td>
<td style="text-align:left">显示当前配置文件</td>
</tr>
<tr>
<td style="text-align:left">diaplay saved-configuration</td>
<td style="text-align:left">显示保存的配置文件</td>
</tr>
</tbody>
</table>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">save Endar.zip <span class="hljs-comment"># 保存配置</span></span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 查看当前配置</span></span><br><span class="line">diaplay current-configuration</span><br><span class="line"></span><br><span class="line"><span class="hljs-comment"># 显示保存的配置文件</span></span><br><span class="line">diaplay saved-configuration</span><br></pre></td></tr></table></figure>
<ul>
<li>系统启动文件查查</li>
</ul>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">功能</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">display startup</td>
<td style="text-align:left">查看系统启动参数</td>
</tr>
</tbody>
</table>
<ul>
<li>系统启动配置文件修改</li>
</ul>
<p><code>startuo ?</code> :</p>
<ol>
<li>path # 加载补丁</li>
<li>save-configuration # 加载下次的配置</li>
<li>system-software # 加载下次启动的软件</li>
</ol>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 配置系统下次启动时使用的配置文件</span></span><br><span class="line">startup save-configuration Ender.zip</span><br><span class="line">dis startup</span><br></pre></td></tr></table></figure>
<ul>
<li>比较当前配置和保存的配置</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compare configuration</span><br></pre></td></tr></table></figure>
<ul>
<li>配置文件重装</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 清楚下次启动时加载的配置文件</span></span><br><span class="line">reset save-contiguration</span><br></pre></td></tr></table></figure>
<ul>
<li>设置环回地址</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">system-view</span><br><span class="line">interface loopback 0</span><br><span class="line">ip address 10.1.1.1 32</span><br></pre></td></tr></table></figure>
<h2 id="存储设备">存储设备</h2>
<p>SDRAM、Flash、NVRAM、SD Card、USB</p>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="hljs-comment"># 显示存储设备信息</span></span><br><span class="line">diaplay version</span><br></pre></td></tr></table></figure>
<ul>
<li>存储设备修复</li>
</ul>
<figure class="highlight bash hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fixdisk flash:</span><br><span class="line"></span><br><span class="line">fixdisk ad1:</span><br></pre></td></tr></table></figure>
        </div>
        
        
    <div class="donate">
        <a id="github" href="https://github.com/weechang" target="_blank" class="pos-f tr3" title="Github"></a>
        <div id="DonateText" class="tr3">赏</div>
        <ul id="donateBox" class="list pos-f tr3">
            
            
                <li id="AliPay" data-footnote="点击查看支付宝付款码"><a title="支付宝付款码">AliPay</a></li>
            
            
                <li id="WeChat" data-footnote="点击查看微信付款码"><a title="微信付款码">WeChat</a></li>
            
        </ul>
        <div id="QRBox" class="pos-f left-100">
            <div id="MainBox"></div>
        </div>
    </div>
    <script type="application/javascript">
        jQuery(document).ready(function () {
            var QRBox = $('#QRBox');
            var MainBox = $('#MainBox');
            var AliPayQR = '/images/alipay.png';
            var WeChanQR = '/images/wechat.png';
            function showQR(QR) {
                if (QR) {
                    MainBox.css('background-image', 'url(' + QR + ')');
                }
                $('#DonateText,#donateBox,#github').addClass('blur');
                QRBox.fadeIn(300, function (argument) {
                    MainBox.addClass('showQR');
                });
            }
            $('#donateBox>li').click(function (event) {
                var thisID = $(this).attr('id');
                if (thisID === 'AliPay') {
                    showQR(AliPayQR);
                } else if (thisID === 'WeChat') {
                    showQR(WeChanQR);
                }
            });
            MainBox.click(function (event) {
                MainBox.removeClass('showQR').addClass('hideQR');
                setTimeout(function (a) {
                    QRBox.fadeOut(300, function (argument) {
                        MainBox.removeClass('hideQR');
                    });
                    $('#DonateText,#donateBox,#github').removeClass('blur');
                }, 600);
            });
        });
    </script>

        <ul class="post-copyright">
            <li><strong>本文作者：</strong><a href="https://vitan.me">Vitan</a></li>
            <li><strong>本文链接：</strong><a href="https://vitan.me/posts/HCNA_Note.html">https://vitan.me/posts/HCNA_Note.html</a></li>
            <li><strong>版权声明：</strong>本博客所有文章除特别声明外，均采用 <a
                    href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" rel="external nofollow"
                    target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明出处！
            </li>
        </ul>
        
        
        <hr style="height:1px;margin:1rem 0"/>
        <div class="level is-size-7 is-uppercase">
            <div class="level-start">
                <div class="level-item">
                    <i class="fas fa-tags has-text-grey"></i>&nbsp;
                    <a class="has-link-grey -link" href="/tags/Linux/">Linux</a>
                </div>
            </div>
        </div>
        
        
        
        
<div class="sharethis-inline-share-buttons"></div>
<script type='text/javascript' src='//platform-api.sharethis.com/js/sharethis.js#property=5d5a0060c60153001277bba9&amp;product=sticky-share-buttons' async='async'></script>

        
    </div>
</div>





<div class="card card-transparent">
    <div class="level post-navigation is-flex-wrap is-mobile">
        
        <div class="level-start">
            <a class="level level-item has-link-grey  article-nav-prev" href="/posts/CMD.html">
                <i class="level-item fas fa-chevron-left"></i>
                <span class="level-item">CMD</span>
            </a>
        </div>
        
        
        <div class="level-end">
            <a class="level level-item has-link-grey  article-nav-next" href="/posts/LAMP.html">
                <span class="level-item">LAMP</span>
                <i class="level-item fas fa-chevron-right"></i>
            </a>
        </div>
        
    </div>
</div>



<div class="card">
    <div class="card-content">
        <h3 class="title is-5 has-text-weight-normal">评论</h3>
        
<div id="valine-thread" class="content"></div>
<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='//unpkg.com/valine/dist/Valine.min.js'></script>
<script>
    new Valine({
        el: '#valine-thread' ,
        notify: true,
        verify: false,
        app_id: 'XCjYQPc9kGEIiyvI3z87u597-gzGzoHsz',
        app_key: 'rG3tgBLm6WGpoU2895oVKXVU',
        placeholder: '快来做第一个评论的人吧！'
    });
</script>

    </div>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
    <!--<div class="card widget" id="toc">-->
    <div class="card widget column-left is-sticky" id="toc">
        <div class="card-content">
            <div class="menu" style="max-height: 700px;overflow:auto;">
                <h3 class="menu-label">
                    目录
                </h3>
                <ul class="menu-list"><li>
            <a class="is-flex" href="#网络整体架构">
            <span class="has-mr-6">1</span>
            <span>网络整体架构</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#企业网络">
            <span class="has-mr-6">1.1</span>
            <span>企业网络</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#企业网络基本架构">
            <span class="has-mr-6">1.1.1</span>
            <span>企业网络基本架构</span>
            </a></li></ul></li></ul></li><li>
            <a class="is-flex" href="#网络基本管理及模拟器使用">
            <span class="has-mr-6">2</span>
            <span>网络基本管理及模拟器使用</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#常用的传输介质">
            <span class="has-mr-6">2.1</span>
            <span>常用的传输介质</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#双绞线-8芯">
            <span class="has-mr-6">2.1.1</span>
            <span>双绞线(8芯)</span>
            </a></li><li>
            <a class="is-flex" href="#光纤">
            <span class="has-mr-6">2.1.2</span>
            <span>光纤</span>
            </a></li><li>
            <a class="is-flex" href="#串口电缆">
            <span class="has-mr-6">2.1.3</span>
            <span>串口电缆</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#ensp-模拟器">
            <span class="has-mr-6">2.2</span>
            <span>ENSP 模拟器</span>
            </a></li><li>
            <a class="is-flex" href="#冲突域">
            <span class="has-mr-6">2.3</span>
            <span>冲突域</span>
            </a></li><li>
            <a class="is-flex" href="#熟悉以及远程管理设备的实验">
            <span class="has-mr-6">2.4</span>
            <span>熟悉以及远程管理设备的实验</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#网络各种分层结构">
            <span class="has-mr-6">3</span>
            <span>网络各种分层结构</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#网络分层基础">
            <span class="has-mr-6">3.1</span>
            <span>网络分层基础</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#osi-开放式系统互联模型-七层模型：">
            <span class="has-mr-6">3.1.1</span>
            <span>OSI(开放式系统互联模型) 七层模型：</span>
            </a></li><li>
            <a class="is-flex" href="#tcp-ip-工业标准">
            <span class="has-mr-6">3.1.2</span>
            <span>TCP/IP(工业标准)</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#数据封装">
            <span class="has-mr-6">3.2</span>
            <span>数据封装</span>
            </a></li><li>
            <a class="is-flex" href="#tcp与udp的概念相互的区别及优劣">
            <span class="has-mr-6">3.3</span>
            <span>TCP与UDP的概念相互的区别及优劣</span>
            </a></li><li>
            <a class="is-flex" href="#vrp-的操作">
            <span class="has-mr-6">3.4</span>
            <span>VRP 的操作</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#ehternet基础">
            <span class="has-mr-6">4</span>
            <span>Ehternet基础</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#以太网帧">
            <span class="has-mr-6">4.1</span>
            <span>以太网帧</span>
            </a></li><li>
            <a class="is-flex" href="#以太网mac地址">
            <span class="has-mr-6">4.2</span>
            <span>以太网MAC地址</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#mac分类">
            <span class="has-mr-6">4.2.1</span>
            <span>MAC分类</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#以太网封装格式">
            <span class="has-mr-6">4.3</span>
            <span>以太网封装格式</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#以太网ip地址网络基础和ftp">
            <span class="has-mr-6">5</span>
            <span>以太网IP地址网络基础和FTP</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#ip编制">
            <span class="has-mr-6">5.1</span>
            <span>IP编制</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#ip编制组成">
            <span class="has-mr-6">5.1.1</span>
            <span>IP编制组成</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#以太网ipv4基础和分类">
            <span class="has-mr-6">5.2</span>
            <span>以太网IPv4基础和分类</span>
            </a></li><li>
            <a class="is-flex" href="#网络的进制">
            <span class="has-mr-6">5.3</span>
            <span>网络的进制</span>
            </a></li><li>
            <a class="is-flex" href="#ipv4地址分类">
            <span class="has-mr-6">5.4</span>
            <span>IPv4地址分类</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#地址范围">
            <span class="has-mr-6">5.4.1</span>
            <span>地址范围</span>
            </a></li><li>
            <a class="is-flex" href="#ip地址类型">
            <span class="has-mr-6">5.4.2</span>
            <span>IP地址类型</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#子网掩码-subset-mask">
            <span class="has-mr-6">5.5</span>
            <span>子网掩码(subset mask)</span>
            </a></li><li>
            <a class="is-flex" href="#地址规划">
            <span class="has-mr-6">5.6</span>
            <span>地址规划</span>
            </a></li><li>
            <a class="is-flex" href="#有类ip编址的缺陷">
            <span class="has-mr-6">5.7</span>
            <span>有类IP编址的缺陷</span>
            </a></li><li>
            <a class="is-flex" href="#划分子网方法">
            <span class="has-mr-6">5.8</span>
            <span>划分子网方法</span>
            </a></li><li>
            <a class="is-flex" href="#计算">
            <span class="has-mr-6">5.9</span>
            <span>计算</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#科学但麻烦的方法">
            <span class="has-mr-6">5.9.1</span>
            <span>科学但麻烦的方法</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#快速但需要检验的方法">
            <span class="has-mr-6">5.10</span>
            <span>快速但需要检验的方法</span>
            </a></li><li>
            <a class="is-flex" href="#cidr-无类域间路由">
            <span class="has-mr-6">5.11</span>
            <span>CIDR 无类域间路由</span>
            </a></li><li>
            <a class="is-flex" href="#网关-gateway">
            <span class="has-mr-6">5.12</span>
            <span>网关(Gateway)</span>
            </a></li><li>
            <a class="is-flex" href="#实施ftp">
            <span class="has-mr-6">5.13</span>
            <span>实施FTP</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#以太网ip头部概述和vrp相关讲解">
            <span class="has-mr-6">6</span>
            <span>以太网IP头部概述和VRP相关讲解</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#ip包头的重要字段">
            <span class="has-mr-6">6.1</span>
            <span>IP包头的重要字段</span>
            </a></li><li>
            <a class="is-flex" href="#vrp基础-应用">
            <span class="has-mr-6">6.2</span>
            <span>VRP基础(应用)</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#vrp-通用路由平台-的ftp应用">
            <span class="has-mr-6">7</span>
            <span>VRP(通用路由平台)的FTP应用</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#设备初始化启动">
            <span class="has-mr-6">7.1</span>
            <span>设备初始化启动</span>
            </a></li><li>
            <a class="is-flex" href="#命令行视图">
            <span class="has-mr-6">7.2</span>
            <span>命令行视图</span>
            </a></li><li>
            <a class="is-flex" href="#命令行功能">
            <span class="has-mr-6">7.3</span>
            <span>命令行功能</span>
            </a></li><li>
            <a class="is-flex" href="#命令行在线帮助">
            <span class="has-mr-6">7.4</span>
            <span>命令行在线帮助</span>
            </a></li><li>
            <a class="is-flex" href="#命令等级">
            <span class="has-mr-6">7.5</span>
            <span>命令等级</span>
            </a></li><li>
            <a class="is-flex" href="#用户界面">
            <span class="has-mr-6">7.6</span>
            <span>用户界面</span>
            </a></li><li>
            <a class="is-flex" href="#ctr-快捷键">
            <span class="has-mr-6">7.7</span>
            <span>CTR 快捷键</span>
            </a></li><li>
            <a class="is-flex" href="#配置标题消息">
            <span class="has-mr-6">7.8</span>
            <span>配置标题消息</span>
            </a></li></ul></li><li>
            <a class="is-flex" href="#文件系统管理">
            <span class="has-mr-6">8</span>
            <span>文件系统管理</span>
            </a><ul class="menu-list"><li>
            <a class="is-flex" href="#基本命令">
            <span class="has-mr-6">8.1</span>
            <span>基本命令</span>
            </a></li><li>
            <a class="is-flex" href="#配置文件管理">
            <span class="has-mr-6">8.2</span>
            <span>配置文件管理</span>
            </a></li><li>
            <a class="is-flex" href="#存储设备">
            <span class="has-mr-6">8.3</span>
            <span>存储设备</span>
            </a></li></ul></li></ul>
            </div>
        </div>
    </div>
    
    
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
        </div>
    
</div>

                
            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <!--
                <a class="footer-logo is-block has-mb-6" href="/">
                    
                    <img src="/images/logo.png" alt="HCNA NOTE" height="28">
                    
                </a>
                -->
                <p class="is-size-7">
                    <span id="busuanzi_container_site_uv">
                        感谢
                        <span id="busuanzi_value_site_uv">0</span>
                        位小伙伴的
                    </span>
                    <span id="busuanzi_container_site_pv">
                        <span id="busuanzi_value_site_pv">0</span>
                        次陪伴
                    </span>
                    </p>
                <p class="is-size-7">
                    Copyright by Vitan @ 2019 &bull; Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> &bull; Theme: <a
                        href="http://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                </p>
            </div>
            <div class="level-end">
                
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                    
                    
                    <p class="control">
                        <a class="button is-white is-large" target="_blank"
                            title="GitHub" href="https://github.com/ivitan">
                            
                            <i class="fab fa-github"></i>
                            
                        </a>
                    </p>
                    
                    <p class="control">
                        <a class="button is-white is-large" target="_blank"
                            title="SiteMap" href="/xml/sitemap.xml">
                            
                            <i class="fas fa-sitemap"></i>
                            
                        </a>
                    </p>
                    
                </div>
                
            </div>
        </div>
    </div>
</footer>

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>

<script>
var IcarusThemeSettings = {
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>



    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    
    

    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>
<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="keywords content"><meta name="description" content="Vitan&#039;s Personal Website."><meta property="article:author" content="VITAN"><meta property="article:tag" content="Coder"><meta property="article:tag" ontent="Linux"><meta property="article:tag" content="Web"><meta property="article:tag" content="Blog..."><title>ArchLinux 安装及优化 - 楊咩阿</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="VITAN"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="VITAN"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="ArchLinux 安装及优化配置。  准备镜像下载 ISO 并使用 Rufus 或其他工具烧录镜像制作启动盘。Linux 下推荐用 DD 模式,开机选择烧录好的U盘进行引导进入安装。 1dd bs&amp;#x3D;4M if&amp;#x3D;&amp;#x2F;home&amp;#x2F;download&amp;#x2F;archlinux.iso of&amp;#x3D;&amp;#x2F;dev&amp;#x2F;sdX  status&amp;#x3D;progress &amp;amp;&amp;amp; sync"><meta property="og:type" content="blog"><meta property="og:title" content="ArchLinux 安装及优化"><meta property="og:url" content="https://ivitan.com/posts/ArchLinux.html"><meta property="og:site_name" content="楊咩阿"><meta property="og:description" content="ArchLinux 安装及优化配置。  准备镜像下载 ISO 并使用 Rufus 或其他工具烧录镜像制作启动盘。Linux 下推荐用 DD 模式,开机选择烧录好的U盘进行引导进入安装。 1dd bs&amp;#x3D;4M if&amp;#x3D;&amp;#x2F;home&amp;#x2F;download&amp;#x2F;archlinux.iso of&amp;#x3D;&amp;#x2F;dev&amp;#x2F;sdX  status&amp;#x3D;progress &amp;amp;&amp;amp; sync"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://ivitan.com/img/og_image.png"><meta property="article:published_time" content="2018-07-27T01:08:49.000Z"><meta property="article:modified_time" content="2021-04-13T11:01:33.415Z"><meta property="article:author" content="VITAN"><meta property="article:tag" content="Linux"><meta property="article:tag" content="ArchLinux"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://ivitan.com"},"headline":"VITAN","image":["https://ivitan.com/img/logo.png"],"datePublished":"2018-07-27T01:08:49.000Z","dateModified":"2021-04-13T11:01:33.415Z","author":{"@type":"Person","name":"VITAN"},"description":"楊咩阿"}</script><link rel="canonical" href="https://ivitan.com/posts/ArchLinux.html"><link rel="alternate" href="/xml/atom.xml" title="楊咩阿" type="application/atom+xml"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.css"><link rel="stylesheet" href="https://unpkg.com/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://unpkg.com/lightgallery@1.6.8/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://unpkg.com/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=UA-144334903-2" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'UA-144334903-2');</script><!--!--><script src="https://unpkg.com/pace-js@1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.png" alt="楊咩阿" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Github" href="https://github.com/ivitan"><i class="fab fa-github"></i></a><a class="navbar-item is-hidden-tablet catalogue" title="目录" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-9-widescreen"><div class="card"><article class="card-content article" role="article"><h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal"><i class="fas fa-angle-double-right"></i>ArchLinux 安装及优化</h1><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><div class="level-item tag is-danger" style="background-color: #ff1700;;"><i class="fa fa-thumbtack"></i></div><span class="level-item"><i class="far fa-calendar-alt">&nbsp;</i><time dateTime="2018-07-27T01:08:49.000Z" title="7/27/2018, 9:08:49 AM">2018-07-27</time></span><span class="level-item"><i class="far fa-calendar-check">&nbsp;</i><time dateTime="2021-04-13T11:01:33.415Z" title="4/13/2021, 7:01:33 PM">2021-04-13</time></span><span class="level-item"><i class="far fa-folder-open has-text-grey"></i> <a class="link-muted" href="/categories/Linux/">Linux</a></span><span class="level-item"><i class="far fa-clock"></i> 12 分钟 (约1805字)</span><span class="level-item" id="busuanzi_container_page_pv"><i class="far fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><div class="content"><blockquote>
<p>ArchLinux 安装及优化配置。</p>
</blockquote>
<h1 id="准备镜像"><a href="#准备镜像" class="headerlink" title="准备镜像"></a>准备镜像</h1><p><a target="_blank" rel="noopener" href="https://www.archlinux.org/download/">下载 ISO</a> 并使用 <a target="_blank" rel="noopener" href="https://rufus.ie/">Rufus</a> 或其他工具烧录镜像制作启动盘。Linux 下推荐用 DD 模式,开机选择烧录好的U盘进行引导进入安装。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd bs=4M <span class="keyword">if</span>=/home/download/archlinux.iso of=/dev/sdX  status=progress &amp;&amp; sync</span><br></pre></td></tr></table></figure>
<span id="more"></span>

<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><h2 id="进行联网"><a href="#进行联网" class="headerlink" title="进行联网"></a>进行联网</h2><ul>
<li>WiFi 连接 </li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wifi-menu</span><br></pre></td></tr></table></figure>

<ul>
<li>PPOE 连接</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pppoe-setup</span><br></pre></td></tr></table></figure>

<ul>
<li>ADSL 连接</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start adsl</span><br></pre></td></tr></table></figure>

<ul>
<li>测试网络</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ping www.vitan.me</span><br></pre></td></tr></table></figure>

<h2 id="更新系统时钟"><a href="#更新系统时钟" class="headerlink" title="更新系统时钟"></a>更新系统时钟</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">timedatectl set-ntp <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="更换国内源"><a href="#更换国内源" class="headerlink" title="更换国内源"></a>更换国内源</h2><p>将 China 开头一下两行剪切到 ustc 最第一行，技巧(光标在 China 下，按2后 dd 最后 p 粘贴)</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>

<h2 id="分区"><a href="#分区" class="headerlink" title="分区"></a>分区</h2><h3 id="分区方案"><a href="#分区方案" class="headerlink" title="分区方案"></a>分区方案</h3><table>
<thead>
<tr>
<th align="left">分区</th>
<th align="left">大小</th>
<th align="left">类型</th>
</tr>
</thead>
<tbody><tr>
<td align="left">boot</td>
<td align="left">512M</td>
<td align="left">EFI System</td>
</tr>
<tr>
<td align="left">swap</td>
<td align="left">8G</td>
<td align="left">Linux Swap</td>
</tr>
<tr>
<td align="left">/</td>
<td align="left">75G</td>
<td align="left">Linux filesystem</td>
</tr>
<tr>
<td align="left">home</td>
<td align="left">65G</td>
<td align="left">Linux Homme</td>
</tr>
</tbody></table>
<h3 id="查看启动模式"><a href="#查看启动模式" class="headerlink" title="查看启动模式"></a>查看启动模式</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls /sys/firmware/efi/efivars</span><br></pre></td></tr></table></figure>
<p>如果提示不存在这个文件，那就说明我们的启动模式是 BIOS，否则就是 UEFI。BIOS 和 UEFI 的分区会有点不同，老铁们请移步查看 <a target="_blank" rel="noopener" href="https://wiki.archlinux.org/index.php/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">archlinux wiki</a></p>
<h3 id="MBR-分区-BIOS-分区"><a href="#MBR-分区-BIOS-分区" class="headerlink" title="MBR 分区(BIOS 分区)"></a>MBR 分区(BIOS 分区)</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cfdisk /dev/sdb <span class="comment"># 进入分区</span></span><br><span class="line">new <span class="comment"># 新建分区，输入大小</span></span><br><span class="line"><span class="built_in">type</span> <span class="comment"># 选择分区属性</span></span><br><span class="line">write <span class="comment"># 执行分区</span></span><br></pre></td></tr></table></figure>

<h3 id="GPT-分区-UEFI-分区"><a href="#GPT-分区-UEFI-分区" class="headerlink" title="GPT 分区(UEFI 分区)"></a>GPT 分区(UEFI 分区)</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gdisk /dev/sdb <span class="comment">#不同电脑设备不同</span></span><br><span class="line">g <span class="comment"># 建立gpt分区表:</span></span><br><span class="line">n <span class="comment"># 添加一个分区</span></span><br><span class="line">提示让输入开始扇区(一个扇区512B，按自己要分区容量大小进行计算)</span><br><span class="line">输入2048,回车</span><br><span class="line">让输入结束扇区，由于一个扇区512B，要创建200M的分区,应该输入：+200M；</span><br><span class="line">w 保存并退出；</span><br><span class="line">lsblk <span class="comment"># 查看分区列表</span></span><br></pre></td></tr></table></figure>

<h2 id="格式化"><a href="#格式化" class="headerlink" title="格式化"></a>格式化</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkfs.vfat /dev/sdb1 <span class="comment"># EFI分区  挂载在/mnt/boot/EFI</span></span><br><span class="line">mkswap -f /dev/sdb2 <span class="comment"># 格式化 swap</span></span><br><span class="line">swapon /dev/sdb2  <span class="comment"># swap分区</span></span><br><span class="line">mkfs.ext4 /dev/sdb3 <span class="comment"># /分区</span></span><br><span class="line">mkfs.ext4 /dev/sdb4 <span class="comment"># /home 分区</span></span><br></pre></td></tr></table></figure>

<h2 id="挂载分区"><a href="#挂载分区" class="headerlink" title="挂载分区"></a>挂载分区</h2><h3 id="BIOS-引导"><a href="#BIOS-引导" class="headerlink" title="BIOS 引导"></a>BIOS 引导</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdb3 /mnt <span class="comment"># 根分区挂载到 /mnt 目录</span></span><br><span class="line">mkdir /mnt/home</span><br><span class="line">mount /dev/sdb4 /mnt/home <span class="comment"># home 分区</span></span><br><span class="line">mkdir /mnt/boot <span class="comment"># 在 /mnt 目录下新建 boot目录</span></span><br><span class="line">mount /dev/sdb1 /mnt/boot <span class="comment">#将boot分区挂载在刚创建的/mnt/boot目录</span></span><br></pre></td></tr></table></figure>

<h3 id="UEFI-引导"><a href="#UEFI-引导" class="headerlink" title="UEFI 引导"></a>UEFI 引导</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdb3 /mnt <span class="comment"># /分区</span></span><br><span class="line">mkdir /mnt/home</span><br><span class="line">mount /dev/sdb4 /mnt/home <span class="comment"># home 分区</span></span><br><span class="line">mkdir -p /mnt/boot</span><br><span class="line">mount /dev/sdb1 /mnt/boot <span class="comment"># EFI 分区</span></span><br></pre></td></tr></table></figure>

<h2 id="安装基本操作系统"><a href="#安装基本操作系统" class="headerlink" title="安装基本操作系统"></a>安装基本操作系统</h2><h3 id="配置软件源"><a href="#配置软件源" class="headerlink" title="配置软件源"></a>配置软件源</h3><p>将清华源移到第一行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/pacman.d/mirrorlist</span><br></pre></td></tr></table></figure>
<p>更新源</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -Syy</span><br></pre></td></tr></table></figure>

<h3 id="基础包"><a href="#基础包" class="headerlink" title="基础包"></a>基础包</h3><p>安装系统到 <code>/dev/sdb2</code> 即挂载点 <code>/mnt</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacstrap /mnt base linux linux-firmware base-devel</span><br><span class="line">pacstrap /mnt NetworkManager vim</span><br><span class="line">pacstrap /mnt base-devel <span class="comment"># 开发基础包</span></span><br></pre></td></tr></table></figure>

<h3 id="配置基础系统"><a href="#配置基础系统" class="headerlink" title="配置基础系统"></a>配置基础系统</h3><ul>
<li>生成 fstab 文件</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">genfstab -U /mnt &gt;&gt; /mnt/etc/fstab</span><br></pre></td></tr></table></figure>

<ul>
<li>检查</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /mnt/etc/fstab</span><br></pre></td></tr></table></figure>

<h2 id="切换到新系统"><a href="#切换到新系统" class="headerlink" title="切换到新系统"></a>切换到新系统</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arch-chroot /mnt</span><br></pre></td></tr></table></figure>

<h2 id="时区"><a href="#时区" class="headerlink" title="时区"></a>时区</h2><h3 id="设置时区"><a href="#设置时区" class="headerlink" title="设置时区"></a>设置时区</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime</span><br></pre></td></tr></table></figure>

<h3 id="硬件时间"><a href="#硬件时间" class="headerlink" title="硬件时间"></a>硬件时间</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hwclock --systohc</span><br></pre></td></tr></table></figure>

<h2 id="语言设置"><a href="#语言设置" class="headerlink" title="语言设置"></a>语言设置</h2><p><code>vim /etc/locale.gen</code> 反注释 <code>en_US.UTF-8</code> 和 <code>zh_CN.UTF-8</code></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#生成 locale</span></span><br><span class="line">locale-gen </span><br><span class="line"></span><br><span class="line"><span class="comment"># 配置 locale.conf</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;LANG=zh_CN.UTF-8&#x27;</span>  &gt; /etc/locale.conf</span><br></pre></td></tr></table></figure>

<h2 id="无线网络"><a href="#无线网络" class="headerlink" title="无线网络"></a>无线网络</h2><p>安装相关包</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S iw wpa_supplicant dialog net-tools networkmanager dhcpcd</span><br></pre></td></tr></table></figure>

<p>设置网络工具开机自启</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> NetworkManager</span><br><span class="line">systemctl <span class="built_in">enable</span> dhcpcd</span><br></pre></td></tr></table></figure>

<p>连接无线网络</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wifi-menu</span><br></pre></td></tr></table></figure>

<h2 id="设置主机名"><a href="#设置主机名" class="headerlink" title="设置主机名"></a>设置主机名</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> Vitan-ArchLinux &gt;&gt; /etc/hostname</span><br></pre></td></tr></table></figure>

<h2 id="账号密码设置"><a href="#账号密码设置" class="headerlink" title="账号密码设置"></a>账号密码设置</h2><ul>
<li>设置 root 密码</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure>

<ul>
<li>添加用户</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -G wheel vitan</span><br><span class="line">passwd vitan <span class="comment"># 修改密码</span></span><br></pre></td></tr></table></figure>

<ul>
<li>sudo 权限</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pacman -S sudo</span><br><span class="line">vim /etc/sudoers</span><br></pre></td></tr></table></figure>

<p>取消注释</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%wheel ALL=(ALL) ALL</span><br></pre></td></tr></table></figure>

<h2 id="安装微码"><a href="#安装微码" class="headerlink" title="安装微码"></a>安装微码</h2><ul>
<li>Intel CPU</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S intel-ucode</span><br></pre></td></tr></table></figure>

<ul>
<li>AMD CPU</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S amd-ucode</span><br></pre></td></tr></table></figure>

<h2 id="安装引导程序（不能漏）"><a href="#安装引导程序（不能漏）" class="headerlink" title="安装引导程序（不能漏）"></a>安装引导程序（不能漏）</h2><h3 id="UEFI-引导-1"><a href="#UEFI-引导-1" class="headerlink" title="UEFI 引导"></a>UEFI 引导</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub efibootmgr</span><br><span class="line">grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=ArchLinux</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>
<h3 id="BIOS-引导-1"><a href="#BIOS-引导-1" class="headerlink" title="BIOS 引导"></a>BIOS 引导</h3><p>注意第二条命令是安装系统的盘符，若安装在 /dev/sdb 就填 /dev/sdb，后不跟数数字</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pacman -S grub</span><br><span class="line">grub-install /dev/sdb</span><br><span class="line">grub-mkconfig -o /boot/grub/grub.cfg</span><br></pre></td></tr></table></figure>

<h2 id="退出-chroot-重启-笔记本跳过"><a href="#退出-chroot-重启-笔记本跳过" class="headerlink" title="退出 chroot 重启 (笔记本跳过)"></a>退出 chroot 重启 (笔记本跳过)</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exit</span> <span class="comment"># 退回安装环境#</span></span><br><span class="line">umount -R  /mnt <span class="comment"># 卸载新分区</span></span><br><span class="line">reboot <span class="comment"># 重启</span></span><br></pre></td></tr></table></figure>

<h2 id="网络配置-重启后"><a href="#网络配置-重启后" class="headerlink" title="网络配置(重启后)"></a>网络配置(重启后)</h2><p>有线连接</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> dhcpcd</span><br></pre></td></tr></table></figure>

<p>无线连接</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S iw wpa_supplicant dialog netctl</span><br></pre></td></tr></table></figure>

<p>ADSL 宽带连接</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pacman -S rp-pppoe<span class="comment"># pppoe-setup</span></span><br></pre></td></tr></table></figure>

<h2 id="重启不能联网"><a href="#重启不能联网" class="headerlink" title="重启不能联网"></a>重启不能联网</h2><p>重启 dhcpcd</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> dhcpcd</span><br></pre></td></tr></table></figure>
<p>继续输入</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link</span><br></pre></td></tr></table></figure>
<p>发现名称是ens33的网卡state 是down状态</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ip link <span class="built_in">set</span> ens33 up <span class="comment"># ifconfig ens33 up</span></span><br></pre></td></tr></table></figure>

<h1 id="安装桌面环境"><a href="#安装桌面环境" class="headerlink" title="安装桌面环境"></a>安装桌面环境</h1><h2 id="Gnome-桌面"><a href="#Gnome-桌面" class="headerlink" title="Gnome 桌面"></a>Gnome 桌面</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S gnome <span class="comment">#gnome桌面：</span></span><br><span class="line">sudo pacman -S gnome-tweak-tool <span class="comment">#安装gnome桌面优化工具</span></span><br><span class="line">sudo pacman -S alacarte <span class="comment"># 安装gnome桌面菜单编辑器</span></span><br><span class="line">systemctl <span class="built_in">enable</span> gdm <span class="comment">#启用gnome窗口管理器服务</span></span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager <span class="comment"># 启用网络管理器服务</span></span><br><span class="line">reboot</span><br></pre></td></tr></table></figure>

<h2 id="Deepin-桌面"><a href="#Deepin-桌面" class="headerlink" title="Deepin 桌面"></a>Deepin 桌面</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S deepin</span><br><span class="line">sudo pacman -S deepin-extra</span><br><span class="line">sudo pacman S bash-completion</span><br><span class="line">sudo pacman -S networkmanager</span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager <span class="comment"># 注意大小写</span></span><br><span class="line">systemctl start NetworkManager</span><br></pre></td></tr></table></figure>
<p>编辑</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/lightdm/lightdm.conf</span><br></pre></td></tr></table></figure>
<p>修改如下</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">greeter-session=lightdm-deepin-greeter</span><br></pre></td></tr></table></figure>
<p>执行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl <span class="built_in">enable</span> lightdm.service</span><br></pre></td></tr></table></figure>

<h2 id="KDE-Plasma-桌面"><a href="#KDE-Plasma-桌面" class="headerlink" title="KDE Plasma 桌面"></a>KDE Plasma 桌面</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S xorg</span><br><span class="line">sudo pacman -S xf86-input-synaptics <span class="comment">#触摸板驱动</span></span><br><span class="line">sudo pacman -S ttf-dejavu wqy-microhei <span class="comment"># 字体</span></span><br><span class="line">sudo pacman -S plasma kde-applications <span class="comment"># 桌面及基本应用</span></span><br><span class="line">sudo pacman -S NetworkManager net-tools</span><br><span class="line">sudo pacman -S kde-l10n-zh_cn <span class="comment"># KDE 中文包</span></span><br><span class="line">sudo pacman -S alsa-utils pulseaudio pulseaudio-alsa <span class="comment"># 声音</span></span><br><span class="line"></span><br><span class="line">systemctl <span class="built_in">enable</span> sddm <span class="comment"># 启用 sddm 显示管理器</span></span><br><span class="line">systemctl <span class="built_in">enable</span> NetworkManager <span class="comment"># 启用网络管理</span></span><br><span class="line">systemctl <span class="built_in">enable</span> dhcpcd</span><br></pre></td></tr></table></figure>

<h1 id="后续优化"><a href="#后续优化" class="headerlink" title="后续优化"></a>后续优化</h1><h2 id="配置源"><a href="#配置源" class="headerlink" title="配置源"></a>配置源</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/pacman.conf</span><br></pre></td></tr></table></figure>
<ol>
<li>首先去掉 multilib 中两行的注释</li>
<li>在文档结尾处加入</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[archlinuxcn]</span><br><span class="line">SigLevel = Optional TrustAll</span><br><span class="line">Server = https://mirrors.tuna.tsinghua.edu.cn/archlinuxcn/<span class="variable">$arch</span></span><br></pre></td></tr></table></figure>

<p>刷新pacman数据库</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -Syy</span><br></pre></td></tr></table></figure>

<h2 id="驱动"><a href="#驱动" class="headerlink" title="驱动"></a>驱动</h2><h3 id="声卡"><a href="#声卡" class="headerlink" title="声卡"></a>声卡</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S alsautils pulseaudio pulseaudio-alsa</span><br></pre></td></tr></table></figure>

<h3 id="显卡"><a href="#显卡" class="headerlink" title="显卡"></a>显卡</h3><p>安装驱动</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S nvidia</span><br><span class="line">sudo pacman -S nvidia-settings</span><br></pre></td></tr></table></figure>

<p>启动管理器编辑脚本(Plasma 桌面有效)</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /usr/share/sddm/scripts/Xsetup</span><br></pre></td></tr></table></figure>

<p>添加</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xrandr --setprovideroutputsource modesetting NVIDIA-0</span><br><span class="line">xrandr --auto</span><br></pre></td></tr></table></figure>

<p>重启</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br></pre></td></tr></table></figure>

<p>获取显卡 PCI 地址</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ispci | grep -E <span class="string">&quot;VGA|3D&quot;</span></span><br></pre></td></tr></table></figure>

<p>地址转换</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">01:00.0 --&gt; 1:0:0 <span class="comment"># 转换示例</span></span><br></pre></td></tr></table></figure>

<p>配置 xorg.conf</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/X11/xorg.conf</span><br><span class="line"><span class="comment"># 确保 xorg 已安装</span></span><br></pre></td></tr></table></figure>

<p>添加</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Section <span class="string">&quot;Module&quot;</span></span><br><span class="line">	Load <span class="string">&quot;modesetting&quot;</span></span><br><span class="line">EndSection</span><br><span class="line"></span><br><span class="line">Section <span class="string">&quot;Device&quot;</span></span><br><span class="line">	Identifier <span class="string">&quot;nvidia&#x27;&quot;</span></span><br><span class="line">	Driver <span class="string">&quot;nvidia&quot;</span></span><br><span class="line">	BusID <span class="string">&quot;1:0:0&quot;</span></span><br><span class="line">	Option <span class="string">&quot;AllowEmptyInitialConfiguration&quot;</span></span><br><span class="line">EndSection</span><br></pre></td></tr></table></figure>
<h1 id="必备软件"><a href="#必备软件" class="headerlink" title="必备软件"></a>必备软件</h1><h2 id="输入法"><a href="#输入法" class="headerlink" title="输入法"></a>输入法</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx fcitx-configtool</span><br><span class="line">sudo pacman -S fcitx-gtk2 fcitx-gtk3 fcitx-qt4 fcitx-qt5</span><br><span class="line">sudo pacman -S fcitx-sogoupinyin</span><br></pre></td></tr></table></figure>

<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim ~/.xprofile</span><br></pre></td></tr></table></figure>
<p>添加</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">&quot;@im=fcitx&quot;</span></span><br></pre></td></tr></table></figure>

<p>桌面环境比较特殊，可能需要在 /etc/environmenet 后方也加入</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> GTK_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> QT_IM_MODULE=fcitx</span><br><span class="line"><span class="built_in">export</span> XMODIFIERS=<span class="string">&quot;@im=fcitx&quot;</span></span><br></pre></td></tr></table></figure>

<p>安装输入法</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S fcitx-sogoupinyin</span><br></pre></td></tr></table></figure>
<ul>
<li>可选</li>
</ul>
<ol>
<li>fcitx-cloudpinyin </li>
<li>fcitx-googlepinyin </li>
<li>fcitx-libpinyin </li>
<li>fcitx-sunpinyin</li>
<li>fcitx-sogoupinyin</li>
</ol>
<h2 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S wqy-bitmapfont wqy-microhei \</span><br><span class="line">wqy-zenhei adobe-source-code-pro-fonts \</span><br><span class="line">adobe-source-han-sans-cn-fonts ttf-monaco</span><br></pre></td></tr></table></figure>
<h2 id="安装-yay-使用-aur"><a href="#安装-yay-使用-aur" class="headerlink" title="安装 yay 使用 aur"></a>安装 yay 使用 aur</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S yay</span><br></pre></td></tr></table></figure>
<ul>
<li>以后可以使用 yay 安装aur中的软件了, yay 跟 pacman 使用方法一样.</li>
</ul>
<h2 id="工具和常用软件"><a href="#工具和常用软件" class="headerlink" title="工具和常用软件"></a>工具和常用软件</h2><p>工具</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S git net-tools tree vim</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://vitan.me/2018/07/28/linux-WeChat-QQ/">微信QQ</a></p>
<p>科学上网</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S shadowsocks-qt5 proxychains-ng</span><br></pre></td></tr></table></figure>
<ul>
<li>Proxychains 实现终端下任意应用代理</li>
</ul>
<p>WPS</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S ttf-wps-fonts</span><br><span class="line">sudo pacman -S wps-office</span><br></pre></td></tr></table></figure>

<p>Telegram</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S telegram-desktop</span><br></pre></td></tr></table></figure>
<p>Google Chrome</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S google-chrome</span><br></pre></td></tr></table></figure>
<p>网易云音乐</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S netease-cloud-music</span><br></pre></td></tr></table></figure>

<p>MailSpring</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yay -S mailspring</span><br><span class="line">sudo pacman -S libsecret</span><br></pre></td></tr></table></figure>

<p>迅雷</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S deepin-wine-thunderspeed</span><br></pre></td></tr></table></figure>

<p>截图(Deppin)</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yay -S deepin-screenshot</span><br></pre></td></tr></table></figure>

<p>Docker</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S docker</span><br><span class="line">sudo pacman -S docker-compose</span><br></pre></td></tr></table></figure>

<p>Visual Studio Code</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S visual-studio-code-bin</span><br></pre></td></tr></table></figure>

<hr>
<p><strong>参考</strong></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://blog.csdn.net/r8l8q8/article/details/76516523">ArchLinux安装图文教程</a></li>
<li><a target="_blank" rel="noopener" href="http://www.bilibili.com/read/cv123034">ArchLinux安装deepin桌面/常用软件流程文档</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>ArchLinux 安装及优化</p><p><a href="https://ivitan.com/posts/ArchLinux.html">https://ivitan.com/posts/ArchLinux.html</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>VITAN</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2018-07-27</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-04-13</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><hr style="height:1px;margin:1rem 0"><div class="level is-mobile is-flex"><div class="article-tags is-size-7 is-uppercase"><i class="fas fa-tags has-text-grey"></i> <a class="link-muted" rel="tag" href="/tags/Linux/">Linux, </a><a class="link-muted" rel="tag" href="/tags/ArchLinux/">ArchLinux </a></div></div><div class="sharethis-inline-share-buttons"></div><script src="//platform-api.sharethis.com/js/sharethis.js#property=5d5a0060c60153001277bba9&amp;product=sticky-share-buttons" defer></script></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/img/alipay.png" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/img/wechat.png" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/linux-WeChat-QQ.html"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Linux 安装微信 QQ</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/%E5%88%A0%E9%99%A4eufi%E5%88%86%E5%8C%BA.html"><span class="level-item">删除 Linux EFI 分区</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="content" id="valine-thread"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="https://unpkg.com/valine@1.4.14/dist/Valine.min.js"></script><script>new Valine({
            el: '#valine-thread' ,
            appId: "D33WPBHpBw2CjwdWpFvpUhDm-MdYXbMMI",
            appKey: "MzQtKvSeVPU4nS4ljd3zlbMp",
            placeholder: "快来做第一个评论的人吧！",
            avatar: "mm",
            
            meta: ["nick","mail","link"],
            pageSize: 10,
            lang: "zh-CN",
            
            highlight: true,
            
            
            
            
            
            requiredFields: [],
        });</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1 is-sticky"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="/img/ivitan.png" alt="VITAN"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">VITAN</p><p class="is-size-6 is-block">楊咩阿</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Canton,China</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">200</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">7</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">42</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ivitan" target="_blank" rel="noopener"><i class="fab fa-github"></i> 关注我</a></div><div class="level is-mobile"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Email" href="mailto:admin@ivitan.com"><i class="fa fa-envelope"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Weibo" href="https://weibo.com/ivitan"><i class="fab fa-weibo"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com/vitanbot"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Rss" href="/xml/atom.xml"><i class="fa fa-rss"></i></a></div></div></div><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">目录</h3><ul class="menu-list"><li><a class="level is-mobile" href="#准备镜像"><span class="level-left"><span class="level-item">1</span><span class="level-item">准备镜像</span></span></a></li><li><a class="level is-mobile" href="#安装"><span class="level-left"><span class="level-item">2</span><span class="level-item">安装</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#进行联网"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">进行联网</span></span></a></li><li><a class="level is-mobile" href="#更新系统时钟"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">更新系统时钟</span></span></a></li><li><a class="level is-mobile" href="#更换国内源"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">更换国内源</span></span></a></li><li><a class="level is-mobile" href="#分区"><span class="level-left"><span class="level-item">2.4</span><span class="level-item">分区</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#分区方案"><span class="level-left"><span class="level-item">2.4.1</span><span class="level-item">分区方案</span></span></a></li><li><a class="level is-mobile" href="#查看启动模式"><span class="level-left"><span class="level-item">2.4.2</span><span class="level-item">查看启动模式</span></span></a></li><li><a class="level is-mobile" href="#MBR-分区-BIOS-分区"><span class="level-left"><span class="level-item">2.4.3</span><span class="level-item">MBR 分区(BIOS 分区)</span></span></a></li><li><a class="level is-mobile" href="#GPT-分区-UEFI-分区"><span class="level-left"><span class="level-item">2.4.4</span><span class="level-item">GPT 分区(UEFI 分区)</span></span></a></li></ul></li><li><a class="level is-mobile" href="#格式化"><span class="level-left"><span class="level-item">2.5</span><span class="level-item">格式化</span></span></a></li><li><a class="level is-mobile" href="#挂载分区"><span class="level-left"><span class="level-item">2.6</span><span class="level-item">挂载分区</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#BIOS-引导"><span class="level-left"><span class="level-item">2.6.1</span><span class="level-item">BIOS 引导</span></span></a></li><li><a class="level is-mobile" href="#UEFI-引导"><span class="level-left"><span class="level-item">2.6.2</span><span class="level-item">UEFI 引导</span></span></a></li></ul></li><li><a class="level is-mobile" href="#安装基本操作系统"><span class="level-left"><span class="level-item">2.7</span><span class="level-item">安装基本操作系统</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#配置软件源"><span class="level-left"><span class="level-item">2.7.1</span><span class="level-item">配置软件源</span></span></a></li><li><a class="level is-mobile" href="#基础包"><span class="level-left"><span class="level-item">2.7.2</span><span class="level-item">基础包</span></span></a></li><li><a class="level is-mobile" href="#配置基础系统"><span class="level-left"><span class="level-item">2.7.3</span><span class="level-item">配置基础系统</span></span></a></li></ul></li><li><a class="level is-mobile" href="#切换到新系统"><span class="level-left"><span class="level-item">2.8</span><span class="level-item">切换到新系统</span></span></a></li><li><a class="level is-mobile" href="#时区"><span class="level-left"><span class="level-item">2.9</span><span class="level-item">时区</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#设置时区"><span class="level-left"><span class="level-item">2.9.1</span><span class="level-item">设置时区</span></span></a></li><li><a class="level is-mobile" href="#硬件时间"><span class="level-left"><span class="level-item">2.9.2</span><span class="level-item">硬件时间</span></span></a></li></ul></li><li><a class="level is-mobile" href="#语言设置"><span class="level-left"><span class="level-item">2.10</span><span class="level-item">语言设置</span></span></a></li><li><a class="level is-mobile" href="#无线网络"><span class="level-left"><span class="level-item">2.11</span><span class="level-item">无线网络</span></span></a></li><li><a class="level is-mobile" href="#设置主机名"><span class="level-left"><span class="level-item">2.12</span><span class="level-item">设置主机名</span></span></a></li><li><a class="level is-mobile" href="#账号密码设置"><span class="level-left"><span class="level-item">2.13</span><span class="level-item">账号密码设置</span></span></a></li><li><a class="level is-mobile" href="#安装微码"><span class="level-left"><span class="level-item">2.14</span><span class="level-item">安装微码</span></span></a></li><li><a class="level is-mobile" href="#安装引导程序（不能漏）"><span class="level-left"><span class="level-item">2.15</span><span class="level-item">安装引导程序（不能漏）</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#UEFI-引导-1"><span class="level-left"><span class="level-item">2.15.1</span><span class="level-item">UEFI 引导</span></span></a></li><li><a class="level is-mobile" href="#BIOS-引导-1"><span class="level-left"><span class="level-item">2.15.2</span><span class="level-item">BIOS 引导</span></span></a></li></ul></li><li><a class="level is-mobile" href="#退出-chroot-重启-笔记本跳过"><span class="level-left"><span class="level-item">2.16</span><span class="level-item">退出 chroot 重启 (笔记本跳过)</span></span></a></li><li><a class="level is-mobile" href="#网络配置-重启后"><span class="level-left"><span class="level-item">2.17</span><span class="level-item">网络配置(重启后)</span></span></a></li><li><a class="level is-mobile" href="#重启不能联网"><span class="level-left"><span class="level-item">2.18</span><span class="level-item">重启不能联网</span></span></a></li></ul></li><li><a class="level is-mobile" href="#安装桌面环境"><span class="level-left"><span class="level-item">3</span><span class="level-item">安装桌面环境</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#Gnome-桌面"><span class="level-left"><span class="level-item">3.1</span><span class="level-item">Gnome 桌面</span></span></a></li><li><a class="level is-mobile" href="#Deepin-桌面"><span class="level-left"><span class="level-item">3.2</span><span class="level-item">Deepin 桌面</span></span></a></li><li><a class="level is-mobile" href="#KDE-Plasma-桌面"><span class="level-left"><span class="level-item">3.3</span><span class="level-item">KDE Plasma 桌面</span></span></a></li></ul></li><li><a class="level is-mobile" href="#后续优化"><span class="level-left"><span class="level-item">4</span><span class="level-item">后续优化</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#配置源"><span class="level-left"><span class="level-item">4.1</span><span class="level-item">配置源</span></span></a></li><li><a class="level is-mobile" href="#驱动"><span class="level-left"><span class="level-item">4.2</span><span class="level-item">驱动</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#声卡"><span class="level-left"><span class="level-item">4.2.1</span><span class="level-item">声卡</span></span></a></li><li><a class="level is-mobile" href="#显卡"><span class="level-left"><span class="level-item">4.2.2</span><span class="level-item">显卡</span></span></a></li></ul></li></ul></li><li><a class="level is-mobile" href="#必备软件"><span class="level-left"><span class="level-item">5</span><span class="level-item">必备软件</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#输入法"><span class="level-left"><span class="level-item">5.1</span><span class="level-item">输入法</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#配置"><span class="level-left"><span class="level-item">5.1.1</span><span class="level-item">配置</span></span></a></li></ul></li><li><a class="level is-mobile" href="#字体"><span class="level-left"><span class="level-item">5.2</span><span class="level-item">字体</span></span></a></li><li><a class="level is-mobile" href="#安装-yay-使用-aur"><span class="level-left"><span class="level-item">5.3</span><span class="level-item">安装 yay 使用 aur</span></span></a></li><li><a class="level is-mobile" href="#工具和常用软件"><span class="level-left"><span class="level-item">5.4</span><span class="level-item">工具和常用软件</span></span></a></li></ul></li></ul></div></div><style>#toc .menu-list > li > a.is-active + .menu-list { display: block; }#toc .menu-list > li > a + .menu-list { display: none; }</style><script src="/js/toc.js" defer></script></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ADB/"><span class="tag">ADB</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Android/"><span class="tag">Android</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ArchLinux/"><span class="tag">ArchLinux</span><span class="tag">29</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Atom/"><span class="tag">Atom</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Bash/"><span class="tag">Bash</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Batch/"><span class="tag">Batch</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/CSS/"><span class="tag">CSS</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Docker/"><span class="tag">Docker</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Eclipse/"><span class="tag">Eclipse</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Excel/"><span class="tag">Excel</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Git/"><span class="tag">Git</span><span class="tag">18</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Github/"><span class="tag">Github</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Google/"><span class="tag">Google</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/HTML/"><span class="tag">HTML</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">11</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Java/"><span class="tag">Java</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Linux/"><span class="tag">Linux</span><span class="tag">106</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Markdown/"><span class="tag">Markdown</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MongoDB/"><span class="tag">MongoDB</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/MySQL/"><span class="tag">MySQL</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Network/"><span class="tag">Network</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Node-Js/"><span class="tag">Node.Js</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/OpenSSH/"><span class="tag">OpenSSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/PHP/"><span class="tag">PHP</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Python/"><span class="tag">Python</span><span class="tag">43</span></a></div><div class="control"><a class="tags has-addons" href="/tags/R/"><span class="tag">R</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RaspberryPi/"><span class="tag">RaspberryPi</span><span class="tag">6</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SQL/"><span class="tag">SQL</span><span class="tag">25</span></a></div><div class="control"><a class="tags has-addons" href="/tags/SSH/"><span class="tag">SSH</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Shell/"><span class="tag">Shell</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Switch/"><span class="tag">Switch</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Termux/"><span class="tag">Termux</span><span class="tag">30</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TvBox/"><span class="tag">TvBox</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Typography/"><span class="tag">Typography</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ubuntu/"><span class="tag">Ubuntu</span><span class="tag">30</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Ununtu/"><span class="tag">Ununtu</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Vim/"><span class="tag">Vim</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Web/"><span class="tag">Web</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/WebCrawler/"><span class="tag">WebCrawler</span><span class="tag">36</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Windows/"><span class="tag">Windows</span><span class="tag">42</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Wine/"><span class="tag">Wine</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/jQuery/"><span class="tag">jQuery</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-11T01:17:25.000Z">2021-01-11</time></p><p class="title"><a href="/posts/AdbMagisk.html">Adb Magisk</a></p><p class="categories"><a href="/categories/Coding/">Coding</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-01-03T02:12:17.000Z">2021-01-03</time></p><p class="title"><a href="/posts/GithubSecret.html">Python 项目调用 Github Actions 中的 Secrets</a></p><p class="categories"><a href="/categories/Coding/">Coding</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-12-11T16:30:30.000Z">2020-12-12</time></p><p class="title"><a href="/posts/HexoAction.html">利用 Github Action 自动部署 Hexo</a></p><p class="categories"><a href="/categories/Coding/">Coding</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-11-29T22:45:57.000Z">2020-11-30</time></p><p class="title"><a href="/posts/TTYD.html">利用 ttyd 在 Web 上共享终端</a></p><p class="categories"><a href="/categories/Coding/">Coding</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2020-10-29T00:58:07.000Z">2020-10-29</time></p><p class="title"><a href="/posts/AAPT.html">AAPT 查询 APK 信息</a></p><p class="categories"><a href="/categories/Coding/">Coding</a></p></div></article></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.png" alt="楊咩阿" height="28"></a><p class="is-size-7"><span>&copy; 2021 VITAN</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a><br><span id="busuanzi_container_site_uv">共<span id="busuanzi_value_site_uv">0</span>个访客</span></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ivitan/icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://unpkg.com/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://unpkg.com/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://unpkg.com/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><!--!--><script src="https://unpkg.com/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://unpkg.com/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script><script src="https://unpkg.com/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>